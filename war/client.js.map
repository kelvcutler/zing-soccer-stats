{"version":3,"sources":["../aaswZing/Zing/share/DB.ts","../aaswZing/Zing/data/ServerContext.ts","../aaswZing/Zing/data/UserManager.ts","../aaswZing/Zing/data/RightsManager.ts","../aaswZing/Zing/data/Query.ts","../aaswZing/Zing/data/DataSource.ts","../aaswZing/Zing/data/DataObj.ts","../aaswZing/Zing/data/HTTPDataSource.ts","../aaswZing/Zing/data/MemDataSource.ts","../aaswZing/Zing/data/CacheDataSource.ts","models/ZPerson.ts","models/Person.ts","models/ZTeam.ts","models/Team.ts","models/ZPlayer.ts","models/Player.ts","models/ZGameEvent.ts","models/GameEvent.ts","models/ZGame.ts","models/Game.ts","models/ZMake.ts","common/AllRightsManager.ts","../aaswZing/Zing/zui/ZUI.ts","../aaswZing/Zing/zui/TextUI.ts","../aaswZing/Zing/zui/ButtonUI.ts","../aaswZing/Zing/zui/InputUI.ts","../aaswZing/Zing/zui/TextFieldUI.ts","../aaswZing/Zing/zui/PageManager.ts","../aaswZing/Zing/zui/TabUI.ts","../aaswZing/Zing/zui/DivUI.ts","../aaswZing/Zing/zui/TypeSwitchUI.ts","../aaswZing/Zing/zui/OpenCloseUI.ts","../aaswZing/Zing/zui/KeyListUI.ts","../aaswZing/Zing/zui/Messages.ts","../aaswZing/Zing/zui/SelectUI.ts","../aaswZing/Zing/zui/Modal.ts","../aaswZing/Zing/zui/HTMLEditUI.ts","../aaswZing/Zing/zui/ClickWrapperUI.ts","../aaswZing/Zing/zui/BreakUI.ts","../aaswZing/Zing/zui/ObjListUI.ts","../aaswZing/Zing/zui/FileDropTargetUI.ts","../aaswZing/Zing/zui/IconButtonUI.ts","../aaswZing/Zing/zui/ColorPickerUI.ts","../aaswZing/Zing/zui/SliderUI.ts","../aaswZing/Zing/zui/StyleCheckUI.ts","../aaswZing/Zing/zui/DoneIndicatorUI.ts","../aaswZing/Zing/zui/DropDownChoiceUI.ts","../aaswZing/Zing/zui/DateTimeUI.ts","../aaswZing/Zing/zui/DragDropWrapperUI.ts","../aaswZing/Zing/zui/ImageUI.ts","../aaswZing/Zing/zui/ProcessLogUI.ts","../aaswZing/Zing/zui/DataTableUIAbs.ts","../aaswZing/Zing/analysis/DataTableAbs.ts","../aaswZing/Zing/analysis/DataRowAbs.ts","../aaswZing/Zing/analysis/DataRow.ts","../aaswZing/Zing/analysis/DataColumnAbs.ts","../aaswZing/Zing/analysis/DataColumn.ts","../aaswZing/Zing/analysis/DataTable.ts","../aaswZing/Zing/zui/DataTableUI.ts","../aaswZing/Zing/analysis/DataTableRowLabeledAbs.ts","../aaswZing/Zing/analysis/DataTableRowLabeled.ts","../aaswZing/Zing/zui/DataTableRowLabeledUI.ts","../aaswZing/Zing/zui/ChartUI.ts","../aaswZing/Zing/textprocessing/LineDiff.ts","../aaswZing/Zing/textprocessing/StringDiff.ts","../aaswZing/Zing/zui/TextEditUI.ts","client/pages/HomePage.ts","client/pages/TeamPage.ts","client/main.ts","../aaswZing/Zing/data/clientRefs.ts","../aaswZing/Zing/zui/ZUITypes.ts","../aaswZing/Zing/textprocessing/package.ts","../aaswZing/Zing/zui/refs.ts","client/pages/package.ts"],"names":[],"mappings":"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","file":"client.js","sourcesContent":["/**\n* The DB module contains some basic debugging aids. In particular\n* it provides mechanisms for writing outputs to the console log so that they appear in \n* a nested outline.\n*/\nmodule DB {\n    function quiet():boolean{\n        try {\n            if (process.env.DB==\"quiet\")\n                return true;\n        } catch (e){\n            return false;\n        }\n        return false;\n    }\n    var level = 0;\n    /**\n    * This will open a new level of indentation\n    * @param message is the message to be output with the level header\n    * @param obj an optional object that will be provided with the header.\n    * In many browsers this object can be opened and explored in depth by the debugger.\n    */\n    export function start(message: string, obj?: any) {\n        if (quiet()) return\n        if (dbon) {\n            msg(\">\" + message, obj);\n            level++;\n        }\n    }\n    /**\n    * This will output a message at the current level of indentation\n    * @param message is the message to be output \n    * @param obj an optional object that will be provided with the message.\n    * In many browsers this object can be opened and explored in depth by the debugger.\n    */\n    export function end(message: string, obj?: any) {\n        if (quiet()) return\n        if (dbon) {\n            level--;\n            if (level < 0)\n                level = 0;\n            msg(\"<\" + message, obj);\n        }\n\n    }\n    var dbop:boolean=false;\n    export function dbOnPage(db:boolean){\n        dbop=db;\n    }\n    /**\n    * This will close a level of indentation\n    * @param message is the message to be output with the level footer\n    * @param obj an optional object that will be provided with the footer.\n    * In many browsers this object can be opened and explored in depth by the debugger.\n    */\n    export function msg(message: string, obj?: any) {\n        if (quiet()) return\n        if (dbon) {\n            var pre = \"\";\n            for (var i = 0; i < level; i++) {\n                pre += \"   \";\n            }\n            if (obj)\n                console.log(pre + message, obj);\n            else\n                console.log(pre + message);\n            if (dbop){\n                let span = document.createElement(\"div\");\n                span.innerHTML=pre+message;\n                span.style.cssText=\"width:100%\";\n                let dbout = document.getElementById(\"dbout\");\n                if (dbout)\n                    dbout.append(span);\n            }\n        }\n    }\n\n    export function stackTrace(message: string) {\n        if (quiet()) return\n        try {\n            throw new Error(message);\n        } catch (e) {\n            console.log(e);\n        }\n    }\n    var dbon: boolean = true;\n    /**\n    * turns on debugging messages\n    */\n    export function on(msg: string) {\n        dbon = true;\n        start(\"+++\" + msg);\n    }\n    /**\n    * turns off debugging messages\n    */\n    export function off(msg: string) {\n        end(\"---\" + msg);\n        dbon = false;\n    }\n    var dbCounts = {};\n    export function count(name:string) {\n    \tlet count = dbCounts[name];\n    \tif (count)\n    \t\tcount++;\n    \telse\n    \t\tcount=1;\n    \tdbCounts[name]=count;\n    }\n    export function showCount(name:string){\n    \tlet count = dbCounts[name];\n    \tif (!count) count=0;\n    \tDB.msg(name,count);\n    }\n    export function showCounts(msg?:string){\n    \tlet m:string = \"counts \";\n    \tif (msg) m+=msg;\n    \tDB.start(m);\n    \tfor (let name in dbCounts){\n    \t\tDB.showCount(name);\n    \t}\n    \tDB.end(m);\n    }\n    export function clearCounts(name?:string){\n    \tif (name){\n    \t\tdbCounts[name]=0;\n    \t} else {\n    \t\tfor (let key in dbCounts){\n    \t\t\tDB.clearCounts(key);\n    \t\t}\n    \t}\n    }\n    var autoInterval=null;\n    export function countsAutoShow(millis:number){\n    \tif (autoInterval)\n    \t\tautoInterval.clearInterval();\n    \tautoInterval = setInterval(()=>{\n    \t\tDB.showCounts();\n    \t},millis);\n    }\n    export function noCountsAutoShow(){\n    \tclearInterval(autoInterval);\n    }\n\n}","\nclass ServerContext{\n    request:any;\n    response:any;\n    isLogin:boolean;\n    constructor(request,response){\n        this.request=request;\n        this.response=response;\n        this.isLogin=false;\n    }\n    setUserKey(userKey:string){\n        this.response.cookie(\"currentUserKey\",userKey);\n    }\n    getUserKey():string {\n        let key = this.request.cookies[\"currentUserKey\"];\n        return key;\n    }\n}","class UserManager {\n    protected currentUserName:string;\n    dataSource:DataSource;\n    protected currentUserKey:string;\n    constructor(){\n        this.currentUserName=null;\n        this.dataSource=null;\n        this.currentUserKey=null;\n    }\n    get userName():string { return this.currentUserName}\n    login(userName:string,password:string,done:(err:string,user:DataObj)=>void,\n            serverContext:ServerContext){\n        if (this.dataSource.isRemote()){\n            this.dataSource.httpLogin(userName,password,(err:string,user:DataObj)=>{\n                if (err) {\n                    done(err,null);\n                } else {\n                    this.currentUserName=userName;\n                    this.currentUserKey=user._key;\n                    done(null,user);\n                }\n            });\n        }else {\n            this.currentUserName=userName;\n            this.currentUserKey=null;\n            done(null,null);\n        }\n    }\n\n    logout(done:(err:string)=>void){\n        if (this.dataSource.isRemote()){\n            this.dataSource.httpLogout((err:string)=>{\n                if (err) {\n                    done(err);\n                } else {\n                    this.currentUserName=null;\n                    this.currentUserKey=null;\n                    done(null);\n                }\n            })\n        } else {\n            this.currentUserName=null;\n            this.currentUserKey=null;\n            done(null)\n        }\n    }\n    createUser(userDesc:any,password:string,done:(err:string)=>void,\n            serverContext:ServerContext){\n        done(null);\n    }\n    getUserKey(serverContext?:ServerContext):string{\n        if (serverContext){\n            return serverContext.getUserKey();\n        } else {\n            return this.currentUserKey;\n        }\n    }\n    getUser(done:(user:DataObj)=>void,serverContext?:ServerContext) {\n        let userKey = this.getUserKey(serverContext);\n        this.dataSource.GET(userKey,(err:string,user:DataObj)=>{\n            done(user);\n        },false,serverContext);\n    }\n    serverSideLogin(userName:string,password:string,serverContext:ServerContext,done:(err:string,user:DataObj)=>void){\n        DB.msg(\"serverSideLogin not implemented for this \",this);\n        done(\"no serverside login\",null);\n    }\n    serverSideLogout(serverContext:ServerContext,done:(err:string)=>void){\n        DB.msg(\"serverSideLogout not implemented for this \",this);\n        done(\"no serverside logout\");\n    }\n}","/// <reference path=\"UserManager.ts\"/>\n/// <reference path=\"ServerContext.ts\"/>\n/// <reference path=\"DataObj.ts\"/>\n\nabstract class RightsManager {\n    dataSource: DataSource;\n    userManager: UserManager;\n    constructor(dataSource: DataSource, userManager: UserManager) {\n        this.dataSource = dataSource;\n        this.userManager = userManager;\n        this.userManager.dataSource = this.dataSource;\n    }\n    /* Each of these methods verifies the ability for the current user\n        to execute the corresponding method on the DataSource.\n        If there are no problems, then null is returned.\n        Otherwise a descriptive message string is returned showing the violation\n    */\n\n    abstract checkGET(key: string, serverContext: ServerContext, done: (granted: boolean) => void);\n    checkGETm(keys: string[], serverContext: ServerContext, done: (granted: boolean) => void) {\n        this.checkAllGET(keys, 0, serverContext, done);\n    }\n    abstract checkGETBlob(blobKey: string, serverContext, done: (granted: boolean) => void);\n    abstract checkPUT(obj: DataObj, serverContext: ServerContext, done: (granted: boolean) => void);\n    checkPUTm(objs: DataObj[], serverContext: ServerContext, done: (granted: boolean) => void) {\n        this.checkAllPUT(objs, 0, serverContext, done);\n    }\n    abstract checkPUTBlob(serverContext: ServerContext, done: (granted: boolean) => void);\n    abstract checkDELETE(key: string, serverContext: ServerContext, done: (granted: boolean) => void);\n    abstract checkFIND(typeCode: string, search: Query, serverContext: ServerContext, done: (granted: boolean) => void);\n    login(userId: string, password: string, done: (err: string, user: DataObj) => void, serverContext: ServerContext) {\n        if (this.userManager)\n            this.userManager.login(userId, password, done, serverContext);\n        else\n            done(\"RightsManager has no UserManager to login\", null);\n    }\n    createUser(userDesc: any, password: string, done: (err: string) => void, serverContext: ServerContext) {\n        if (this.userManager)\n            this.userManager.createUser(userDesc, password, done, serverContext);\n        else\n            done(\"RightsManager has no UserManager to create user\");\n    }\n\n    protected checkAllGET(keys: string[], idx: number, serverContext: ServerContext, done: (granted: boolean) => void) {\n        if (idx >= keys.length) {\n            done(true);\n        } else {\n            let obj = keys[idx];\n            this.checkGET(obj, serverContext, (granted: boolean) => {\n                if (granted) {\n                    this.checkAllGET(keys, idx + 1, serverContext, done);\n                } else {\n                    done(false);\n                }\n            })\n        }\n    }\n    protected checkAllPUT(objs: DataObj[], idx: number, serverContext: ServerContext, done: (granted: boolean) => void) {\n        if (idx >= objs.length) {\n            done(true);\n        } else {\n            let obj = objs[idx];\n            this.checkPUT(obj, serverContext, (granted: boolean) => {\n                if (granted) {\n                    this.checkAllPUT(objs, idx + 1, serverContext, done);\n                } else {\n                    done(false);\n                }\n            })\n        }\n    }\n}","/** \n * These objects can be used to create queries that can be used in searches\n */\n\ntype QueryValue = number |string | boolean | Query\ntype NumberQuery = number | Query;\ntype StringQuery = string | Query;\ntype BooleanQuery = boolean | Query;\nclass Query{\n    exp:any;\n    private constructor(exp:any){\n        this.exp=exp;\n    }\n    static OR(options:QueryValue[]):Query{\n        let desc = { $$:\"OR\", options: options }\n        return new Query(desc);\n    }\n    static AND(options:QueryValue[]):Query{\n        return new Query ({ $$:\"AND\",options:options})\n    }\n    static range(from:QueryValue,to:QueryValue):Query{\n        return new Query({ $$:\"RANGE\", from:from,to:to})\n    }\n    static anything():Query{\n        return new Query({$$:\"ANY\"})\n    }\n    static dict(desc:{[attName:string]:QueryValue}):Query{\n        let d:any ={$$:\"DICT\"};\n        for (let k in desc){\n            d[k]=desc[k];\n        }\n        return new Query(d)\n    }\n    static is(value:number|string|boolean):Query{\n        return new Query( { $$:\"IS\",value:value})\n    }\n    static listContains(query:QueryValue):Query{\n        return new Query( {$$:\"LC\",query:query})\n    }\n    static match(q1:QueryValue,q2:QueryValue):boolean{\n        if (!q1)\n            if (!q2) return true;\n            else return false;\n        else\n            if (!q2) return false;\n        if (typeof q1 != typeof q2) return false;\n        switch(typeof q1){\n            case \"number\":\n            case \"string\":\n            case \"boolean\":\n                return q1==q2;\n            default:{\n                return this.matchQuery(<Query>q1,<Query>q2);\n            }\n        }\n    }\n    matches(val:any):boolean{\n        if (val instanceof DataObj) return this.matchesDO(val);\n        switch(this.exp.$$){\n            case \"OR\":\n                for (let i in this.exp.options){\n                    let opt = this.exp.options[i];\n                    if (Query.matchesQV(opt,val)) return true;\n                }\n                return false;\n            case \"AND\":\n                for (let i in this.exp.options){\n                    let opt = this.exp.options[i];\n                    if (!Query.matchesQV(opt,val)) return false\n                }\n                return true;\n            case \"RANGE\":\n                return this.rangeMatch(this.exp.from,this.exp.to,val);\n            case \"ANY\":\n                return true;\n            case \"DICT\":\n                return this.dictMatch(this.exp,val);\n            case \"IS\":\n                return this.exp.value == val;\n            case \"LC\":\n                for (let i in val){\n                    let v = val[i];\n                    if (Query.matchesQV(this.exp.query,v)) return true;\n                }\n                return false;\n\n        }\n    }\n    static matchesQV(qv:QueryValue,val:any):boolean{\n        switch(typeof qv){\n            case \"number\":\n            case \"string\":\n            case \"boolean\":\n                return qv == val;\n            default:\n                return qv.matches(val);\n        }\n    }\n    attribute(attName:string):number | string | boolean | Query{\n        if (this.exp.$$ != \"DICT\") return null;\n        let att = this.exp[attName];\n        return att;\n    }\n\n    toJSON():any{\n        let src = this.exp;\n        let rslt:any = { $$:src.$$ }\n        switch(this.exp[\"$$\"]){\n            case \"OR\":\n            case \"AND\":\n                rslt.options = this.queryValueListToJSON(src.options)\n                break;\n            case \"RANGE\":\n                rslt.from = this.queryValueToJSON(src.from);\n                rslt.to = this.queryValueToJSON(src.to);\n                break;\n            case \"ANY\":\n                break;\n            case \"DICT\":\n                rslt=this.dictToJSON(src);\n                break;\n            case \"IS\":\n                rslt.value = this.queryValueToJSON(src.value);\n                break;\n            case \"LC\":\n                rslt.value = this.queryValueToJSON(src.query);\n                break;\n        }\n        return rslt;\n    }\n    \n    static fromJSON(json:any):QueryValue{\n        switch(typeof json){\n            case \"number\":\n            case \"string\":\n            case \"boolean\":\n                return json;\n            default:\n                switch(json.$$){\n                    case \"OR\":\n                        return Query.OR(Query.listFromJSON(json.options));\n                    case \"AND\":\n                        return Query.AND(Query.listFromJSON(json.options));\n                    case \"RANGE\":\n                        return Query.range(Query.fromJSON(json.from),Query.fromJSON(json.to))\n                    case \"ANY\":\n                        return Query.anything();\n                    case \"DICT\":\n                        let dict = {};\n                        for (let i in json){\n                            if (i!=\"$$\"){\n                                dict[i]=Query.fromJSON(json[i]);\n                            }\n                        }\n                        return Query.dict(dict);\n                    case \"IS\":\n                        return Query.is(json.value)\n                    case \"LC\":\n                        return Query.listContains(Query.fromJSON(json.query))\n                }\n        }\n    }\n    private queryValueListToJSON(list:QueryValue[]):any{\n        let rslt = [];\n        for (let i in list){\n            let item = list[i];\n            rslt.push(this.queryValueToJSON(item))\n        }\n        return rslt;\n    }\n    private queryValueToJSON(val:QueryValue){\n        switch(typeof val){\n            case \"number\":\n            case \"string\":\n            case \"boolean\":\n                return val;\n            default:\n                return val.toJSON();\n        }\n    }\n    private dictToJSON(desc:{[attName:string]:QueryValue}):any{\n        let rslt:any={ $$:\"DICT\"};\n        for (let i in desc){\n            rslt[i] = this.queryValueToJSON(desc[i])\n        }\n        return rslt;\n    }\n\n    private static listFromJSON(list:any[]):QueryValue[] {\n        let rslt:QueryValue[]=[];\n        for (let i in list){\n            let item = Query.fromJSON(list[i]);\n            rslt.push(item);\n        }\n        return rslt;\n    }\n\n    toMongo():any{\n        let rslt:any={};\n        \n        switch(this.exp.$$){\n            case \"OR\":\n                let oList:[]=this.mongoOptionsList(this.exp.options);\n                return { $or: oList }\n            case \"AND\":\n                return { $and: this.mongoOptionsList(this.exp.options)}\n            case \"RANGE\":\n                if (this.exp.from ){\n                    rslt.$gte = this.exp.from;\n                }\n                if (this.exp.to){\n                    rslt.$lte = this.exp.to;\n                }\n                return rslt;\n            case \"ANY\":\n                return { $exists: true};\n            case \"DICT\":\n                for (let i in this.exp){\n                    if (i!=\"$$\"){\n                        let v = this.exp[i];\n                        if (v) {\n                            if (v.exp && v.exp.$$ && v.exp.$$==\"DICT\"){\n                                Query.mongoCollapseDICT(rslt,i,v.exp);\n                            } else\n                                rslt[i]=Query.toMongoValue(v)\n                        } else if (v==0)\n                            rslt[i]=Query.toMongoValue(v)\n                    }\n                }\n                return rslt;\n            case \"IS\":\n                return this.exp.value;\n            case \"LC\":\n                return { $elemMatch: Query.toMongoValue(this.exp.query)}\n            default:\n                return { badoperator:this.exp.$$}\n        }\n    }\n    private static mongoCollapseDICT(rslt:{},key:string,v:{}){\n        for (let k in v){\n            if (k!=\"$$\"){\n                rslt[key+\".\"+k]=v[k];\n            }\n        }\n    }\n    private mongoOptionsList(options:QueryValue[]){\n        let rslt:any=[];\n        for (let i in options){\n            let option = options[i];\n            let mongOpt = Query.toMongoValue(option);\n            rslt.push(mongOpt);\n        }\n        return rslt;\n    }\n    private static toMongoValue(val:QueryValue){\n        switch(typeof val){\n            case \"number\":\n            case \"string\":\n            case \"boolean\":\n                return val;\n            default:\n                return val.toMongo();\n        }\n    }\n    private static matchQuery(q1:Query,q2:Query):boolean{\n        if (q1.exp.$$ != q2.exp.$$) return false;\n        switch(q1.exp.$$){\n            case \"OR\":\n            case \"AND\":\n                return this.matchOptionLists(q1.exp.options,q2.exp.options)\n            case \"RANGE\":\n                return this.match(q1.exp.from,q2.exp.from) && this.match(q1.exp.to,q2.exp.to);\n            case \"ANY\":\n                return true;\n            case \"DICT\":\n                return this.matchDicts(q1.exp,q2.exp);\n            case \"IS\":\n                return q1.exp.value == q2.exp.value;\n            case \"LC\":\n                return this.match(q1.exp.query,q2.exp.query);\n            default:\n                DB.msg(\"matchQuery got invalid $$\",q1.exp.$$);\n                return false;\n        }\n    }\n    private static matchOptionLists(l1:QueryValue[],l2:QueryValue[]):boolean{\n        if (l1.length!=l2.length) return false;\n        for (let i in l1){\n            let q=l1[i];\n            if (!this.matchOptions(q,l2)) return false;\n        }\n        for (let i in l2){\n            let q=l2[i];\n            if (!this.matchOptions(q,l1)) return false;\n        }\n        return true;\n    }\n    private static matchOptions(q:QueryValue,list:QueryValue[]):boolean{\n        for (let i in list){\n            let lq = list[i];\n            if (this.match(q,lq)) return true;\n        }\n        return false;\n    }\n    private static matchDicts(d1:{},d2:{}):boolean{\n        for (let k in d1){\n            let a1=d1[k];\n            let a2=d2[k];\n            if (!this.match(a1,a2)) return false;\n        }\n        for (let k in d2){\n            let a1=d1[k];\n            let a2=d2[k];\n            if (!this.match(a1,a2)) return false;\n        }\n        return true;\n    }\n    \n    private rangeMatch(from,to,val){\n        let fromTrue = true;\n        if (from){\n            switch(typeof from){\n                case \"number\":\n                    fromTrue=from<=val;\n                    break;\n                case \"string\":\n                    fromTrue = from.localeCompare(val)>=0;\n                    break;\n                default:\n                    fromTrue=false;\n                    break;\n            }\n        }\n        let toTrue = true;\n        if (to){\n            switch(typeof to){\n                case \"number\":\n                    toTrue=val<=to;\n                    break;\n                case \"string\":\n                    toTrue = val.localeCompare(to)>=0;\n                    break;\n                default:\n                    toTrue=false;\n                    break;\n            }\n        }\n        return fromTrue && toTrue;\n    }\n    private dictMatch(dict:{[attName:string]:QueryValue},val):boolean{\n        if (typeof val != \"object\") return false;\n        for (let att in dict){\n            if (att!=\"$$\"){\n                let dVal = dict[att];\n                let vVal = val[att];\n                if (!Query.matchesQV(dVal,vVal)) return false;\n            }\n        }\n        return true;\n    }\n    \n    \n    matchesDO(obj:DataObj):boolean{\n        switch(this.exp.$$){\n            case \"OR\":\n                for (let i in this.exp.options){\n                    let opt = this.exp.options[i];\n                    if (Query.matchesQV(opt,obj)) return true;\n                }\n                return false;\n            case \"AND\":\n                for (let i in this.exp.options){\n                    let opt = this.exp.options[i];\n                    if (!Query.matchesQV(opt,obj)) return false\n                }\n                return true;\n            case \"RANGE\":\n                return false;// no ranges on DataObj\n            case \"ANY\":\n                return true;\n            case \"DICT\":\n                return this.dictMatchDO(this.exp,obj);\n            case \"IS\":\n                return false; // no is test for DataObj\n            case \"LC\":\n                return false; // no list contains on DataObj\n        }\n    }\n    private dictMatchDO(dict:{[attName:string]:QueryValue},obj:DataObj):boolean{\n        for (let att in dict){\n            if (att!=\"$$\"){\n                let dVal = dict[att];\n                let oVal = obj[\"get\"+att]();\n                if (!Query.matchesQV(dVal,oVal)) return false;\n            }\n        }\n        return true;\n    }\n}","/// <reference path=\"../share/DB.ts\"/>\n/// <reference path=\"DataObj.ts\"/>\n/// <reference path=\"RightsManager.ts\"/>\n/// <reference path=\"Query.ts\"/>\n\n/*type DataSearchRangeSpec = { from: string | number, to: string | number};\ntype NumberQuery = number | {from?:number,to?:number};\ntype StringQuery = string | {from?:string, to?:string};\ntype FieldQuery = NumberQuery | StringQuery | boolean;\ntype DataSearchSpec = { [fieldName:string]:FieldQuery}*/\ninterface DataMonitor {\n    notify();\n}\nclass DataSource {\n    private rightsManager_:RightsManager; // any will be replaced with actual interface later\n    private dataMonitor:DataMonitor;\n    constructor(){\n        DataObj.globalSource=this;\n    }\n    setDataMonitor(dataMonitor:DataMonitor){\n        this.dataMonitor=dataMonitor;\n    }\n    getRightsManager():RightsManager{\n        return this.rightsManager_;\n    }\n    setRightsManager(rm:RightsManager){\n        this.rightsManager_=rm;\n    }\n    isRemote():boolean { return false}\n    notify(){\n        if (this.dataMonitor) \n            this.dataMonitor.notify();\n    }\n    GET(key:string, done:(err:string,data:DataObj)=>void,forceRequest:boolean,\n            serverContext:ServerContext){\n        done(null,null);\n    }\n    canGet(key:string,serverContext:ServerContext,done:(granted:boolean)=>void){\n        let rm = this.rightsManager_;\n        if (rm){\n            rm.checkGET(key,serverContext,done);\n        } else {\n            done(false);\n        }\n    } \n    cGET(key:string,forceRequest?:boolean):DataObj{\n        DB.msg( \"cGET This data source has no caching\");\n        return null;\n    }\n    GETm(keys:string[],done:(err:string,data:DataObj[])=>void,forceRequest:boolean,\n            serverContext:ServerContext){\n        done(null,null);\n    }\n    canGETm(keys:string[],serverContext:ServerContext,done:(granted:boolean)=>void){\n        let rm=this.rightsManager_\n        if (rm){\n            rm.checkGETm(keys,serverContext,done);\n        } else {\n            done(false);\n        }\n    }\n    cGETm(keys:string[],forceRequest?:boolean):DataObj[]{\n        DB.msg( \"cGETm This data source has no caching\");\n        return null;\n    }\n    \n    PUT(obj:DataObj,done:(err:string,newObj:DataObj)=>void,serverContext:ServerContext){\n        done(null,null);\n    }\n    canPUT(obj:DataObj,serverContext:ServerContext,done:(granted:boolean)=>void){\n        let rm=this.rightsManager_;\n        if (rm){\n            rm.checkPUT(obj,serverContext,done);\n        } else {\n            done(false);\n        }\n    }\n    canGETBlob(blobKey:string,serverContext:ServerContext,done:(granted:boolean)=>void){\n        let rm=this.rightsManager_;\n        if(rm){\n            rm.checkGETBlob(blobKey,serverContext,done);\n        } else {\n            done(false);\n        }\n    }\n    GETBlob(blobKey:string,serverContext:ServerContext,done:(err:string,blob:BlobStoreRec)=>void){\n        DB.msg(\"data source has no downloadFile\",this);\n    }\n    canPUTBlob(serverContext:ServerContext,done:(granted:boolean)=>void){\n        let rm = this.rightsManager_;\n        if (rm){\n            rm.checkPUTBlob(serverContext,done);\n        } else {\n            done(false);\n        }\n    }\n    PUTBlob(blob:Blob,name:string,serverContext:ServerContext,done:(err:string,blobKey:string)=>void){\n        done(null,null);\n    }\n    PUTFileBlob(file:File,serverContext:ServerContext,done:(err:string,blobKey:string)=>void){\n        done(null,null);\n    }\n    PUTm(objs:DataObj[],done:(err:string,newObjs:DataObj[])=>void,serverContext:ServerContext){\n        done(null,null);\n    }\n    canPUTm(objs:DataObj[],serverContext:ServerContext,done:(granted:boolean)=>void){\n        let rm=this.rightsManager_;\n        if (rm){\n            rm.checkPUTm(objs,serverContext,done);\n        } else {\n            done(false);\n        }\n    }\n    DELETE(key:string,done?:(err:string)=>void){\n        done(null)\n    }\n    canDELETE(key:string,serverContext:ServerContext,done:(granted:boolean)=>void){\n        let rm=this.rightsManager_;\n        if (rm){\n            rm.checkDELETE(key,serverContext,done);\n        } else {\n            done(false);\n        }\n    }\n    FIND(typeCode:string, search:Query,done:(err:string,keys:string[],objs:DataObj[])=>void,\n            keysOnly:boolean,forceRequest:boolean,serverContext:ServerContext){\n        done(null,null,null);\n    }\n    protected getFromKeys(keys:string[],idx:number,objs:DataObj[],done:(objs:DataObj[])=>void,serverContext:ServerContext){\n        if (idx>=keys.length){\n            done(objs);\n        } else {\n            this.GET(keys[idx],(err:string,data:DataObj)=>{\n                if (!err){\n                    objs.push(data);\n                    this.getFromKeys(keys,idx+1,objs,done,serverContext);\n                }\n            },false,serverContext);\n        }\n    }\n    canFIND(typeCode:string,search:Query,serverContext:ServerContext,done:(granted:boolean)=>void){\n        let rm=this.rightsManager_;\n        if (rm){\n            rm.checkFIND(typeCode,search,serverContext,done);\n        } else {\n            done(false);\n        }\n    }\n    cFIND(typeCode:string,search:Query,keysOnly:boolean,forceRequest:boolean):string[]{\n        DB.msg( \"cFIND no caching on this data service\");\n        return null;\n    }\n    static collectionFromKey(key:string):string{\n        if (!key){\n            DB.msg(\"no key for collection\");\n            return \"\";\n        }\n        let parts = key.split(\"_\");\n        let typeCode = parts[0];\n        let colCode = DataObj.typeToCollection(typeCode);\n        return colCode;\n    }\n    static typeFromKey(key:string):string{\n        let parts = key.split(\"_\");\n        return parts[0];\n    }\n    static idFromKey(key:string):string {\n        let parts = key.split(\"_\");\n        return parts[1];\n    }\n    static generateKey(typeCode:string):string {\n        let id = Math.random()*1000000;\n        id = Math.floor(id);\n        return typeCode+\"_\"+id;\n    }\n    static filterKeyList(expectedCode:string, keyList:string[]):string[] {\n        let rslt:string[] = [];\n        for (let idx in keyList){\n            let key = keyList[idx];\n            let ty = DataSource.typeFromKey(key);\n            if (DataObj.checkTypeCode(expectedCode,ty)){\n                rslt.push(key);\n            }\n        }\n        return rslt;\n    }\n    touched(obj:DataObj):boolean{\n        this.notify();\n        return true;\n    }\n    login(userId:string,password:string,done:(err:string)=>void,serverContext?:ServerContext){\n        if (this.getRightsManager())\n            this.getRightsManager().login(userId,password,done,serverContext);\n        else\n            done(\"DataSource has no RightsManager to login\");\n    }\n    httpLogin(userId:string,password:string,done:(err:string,user:DataObj)=>void){\n        done(\"No httpLogin for this data source\",null);\n    }\n    httpLogout(done:(err:string)=>void){\n        done(\"No httpLogin for this data source\");\n    }\n    createUser(userDesc:any,password:string,done:(err:string)=>void,serverContext?:ServerContext){\n        if (this.getRightsManager())\n            this.getRightsManager().createUser(userDesc,password,done,serverContext);\n        else\n            done(\"DataSource has no RightsManager to create user\");\n    }\n\n}\n","/// <reference path=\"ServerContext.ts\"/>\n/// <reference path=\"./DataSource.ts\"/>\n\n\n//\nclass DataObj {\n\tprotected _type:string;\n\t_key:string;\n\tparent:DataObj;\n\tdataSource: DataSource;\n\tstatic globalSource:DataSource;\n\tprivate blockTouch_:boolean;\n\tconstructor (json:any){\n\t\tthis.blockTouch_=false;\n\t\tthis._type = this.getTypeCode();\n\t\tthis._key = json._key;\n\t\tif (!json._key && json._id){\n\t\t\tthis._key = this.getTypeCode()+\"_\"+json._id;\n\t\t}\n\t\tthis.parent=null;\n\t}\n\t\n\tgetTypeCode():string{\n\t\treturn null;\n\t}\n\tgetDataSource():DataSource{\n\t\tif (this.dataSource)\n\t\t\treturn this.dataSource;\n\t\telse if (this.parent)\n\t\t\treturn this.parent.getDataSource();\n\t\telse if (DataObj.globalSource)\n\t\t\treturn DataObj.globalSource;\n\t\telse\n\t\t\treturn null;\n\t}\n\tgetUserManager():UserManager{\n\t\tlet ds = this.getDataSource();\n\t\tif (ds){\n\t\t\tlet rm = ds.getRightsManager();\n\t\t\tif (rm){\n\t\t\t\tlet um = rm.userManager;\n\t\t\t\treturn um;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\ttouch():boolean{ // touch will return false if any permissions are violated.\n\t\tif (this.blockTouch_) return true;\n\t\tif (this.dataSource){\n\t\t\tif (this.dataSource.touched(this)){ // the dataSource is the prime mechanism for permissions\n\t\t\t\tif (this.parent)\n\t\t\t\t\treturn this.parent.touch();\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.parent)\n\t\t\t\treturn this.parent.touch();\n\t\t\telse\n\t\t\t\treturn true;\n\t\t}\n\t}\n\tblockTouch(on:boolean){\n\t\tthis.blockTouch_=on;\n\t\tif(!on) this.touch();\n\t}\n\ttoJSON():any{\n        return null;\n\t}\n\tstatic GET(key:string, done:(err:string,newObj:DataObj)=>void,forceRequest:boolean,\n\t\t\tserverContext:ServerContext){\n\t\tlet ds = DataObj.globalSource;\n\t\tif (ds){\n\t\t\tds.canGet(key,serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.GET(key,done,forceRequest,serverContext);\n\t\t\t\t} else {\n\t\t\t\t\tdone(`ERR GET on ${key} had rights fail`,null);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tdone(`ERR GET on ${key} has no dataSource`,null);\n\t\t}\n\t}\n\tstatic cGET(key:string,forceRequest:boolean){\n\t\tlet ds=DataObj.globalSource;\n\t\tif (ds){\n\t\t\treturn ds.cGET(key,forceRequest);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\tstatic GETm(keys:string[], done:(err:string,newObjs:DataObj[])=>void,forceRequest:boolean,\n\t\t\tserverContext:ServerContext){\n\t\tlet ds = DataObj.globalSource;\n\t\tif (ds){\n\t\t\tds.canGETm(keys,serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.GETm(keys,done,forceRequest,serverContext);\n\t\t\t\t} else {\n\t\t\t\t\tdone(`ERR GETm  had rights fail`,null);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tdone(`ERR GETm has no dataSource`,null);\n\t\t}\n\t}\n\t\n\tstatic cGETm(keys:string[],forceRequest?:boolean):DataObj[]{\n\t\tlet ds= DataObj.globalSource;\n\t\tif (ds){\n\t\t\treturn ds.cGETm(keys,forceRequest);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\tGETFileBlob(blobKey:string,serverContext:ServerContext,done:(err:string,blob:BlobStoreRec)=>void){\n\t\tlet ds = this.getDataSource();\n\t\tif (ds){\n\t\t\tds.canGETBlob(blobKey,serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.GETBlob(blobKey,serverContext,done);\n\t\t\t\t} else {\n\t\t\t\t\tdone(\"ERR GETBlobFile had rights fail\",null);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\tPUT(done:(err:string,newObj:DataObj)=>void,serverContext?:ServerContext){\n\t\tlet ds = this.getDataSource();\n\t\tif (ds){\n\t\t\tds.canPUT(this,serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.PUT(this,done,serverContext);\n\t\t\t\t} else {\n\t\t\t\t\tdone(`ERR PUT on ${this._key} had rights fail`,null);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tdone(`ERR PUT on ${this._key} has no dataSource`,null);\n\t\t}\n\t}\n\tstatic PUTFileBlob(file:File,done:(err:string,blobKey:string)=>void,serverContext?:ServerContext){\n\t\tlet ds=this.globalSource;\n\t\tif (ds){\n\t\t\tds.canPUTBlob(serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.PUTFileBlob(file,serverContext,done);\n\t\t\t\t} else {\n\t\t\t\t\tdone(`ERR PUTFileBlob  had rights fail`,null);\n\t\t\t\t}\n\t\t\t})\n\t\t} else {\n\t\t\tdone(`ERR PUTFileBlob has no dataSource`,null);\n\t\t}\n\t}\n\tstatic PUTBlob(blob:Blob,name:string,done:(err:string,blobKey:string)=>void,serverContext?:ServerContext){\n\t\tlet ds=this.globalSource;\n\t\tif (ds){\n\t\t\tds.canPUTBlob(serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.PUTBlob(blob,name,serverContext,done);\n\t\t\t\t} else {\n\t\t\t\t\tdone(`ERR PUTFileBlob  had rights fail`,null);\n\t\t\t\t}\n\t\t\t})\n\t\t} else {\n\t\t\tdone(`ERR PUTBlob has no dataSource`,null);\n\t\t}\t\t\n\t}\n\tstatic GETBlob(blobKey:string,serverContext:ServerContext,done:(err:string,blob:BlobStoreRec)=>void){\n\t\tlet ds=this.globalSource;\n\t\tif (ds){\n\t\t\tds.canGETBlob(blobKey,serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.GETBlob(blobKey,serverContext,done);\n\t\t\t\t} else {\n\t\t\t\t\tdone(`ERR getFileBlob had rights fail`,null);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n    }\n\tstatic PUTm(objs:DataObj[],done:(err:string, newObjs:DataObj[])=>void,serverContext:ServerContext){\n\t\tlet ds = this.globalSource;\n\t\tif (ds){\n\t\t\tds.canPUTm(objs,serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.PUTm(objs,done,serverContext);\n\t\t\t\t} else {\n\t\t\t\t\tdone(`ERR PUTm had rights fail`,null);\n\t\t\t\t}\n\t\t\t});\n\t\t}else {\n\t\t\tdone(`ERR PUTm  has no DataObj.globalSource`,null);\n\t\t}\n\t}\n\tDELETE(done?:(err:string)=>void,serverContext?:ServerContext){\n\t\tlet ds = this.getDataSource();\n\t\tif (ds){\n\t\t\tds.canDELETE(this._key,serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.DELETE(this._key,done);\n\t\t\t\t} else {\n\t\t\t\t\tdone(`ERR DELETE on ${this._key} has rights fail`);\n\t\t\t\t}\n\t\t\t})\t\n\t\t} else {\n\t\t\tdone(`ERR DELETE on ${this._key} has no dataSource`);\n\t\t}\n\t}\n\tstatic FIND(typeCode:string,search:Query,done:(err:string,keys:string[])=>void,\n\t\t\tkeysOnly:boolean,forceRequest:boolean,serverContext:ServerContext){\n\t\tlet ds=DataObj.globalSource;\n\t\tif (ds){\n\t\t\tds.canFIND(typeCode,search,serverContext,(granted:boolean)=>{\n\t\t\t\tif (granted){\n\t\t\t\t\tds.FIND(typeCode,search,done,keysOnly,forceRequest,serverContext);\n\t\t\t\t} else {\n\t\t\t\t\tdone(`ERR FIND on ${typeCode} had rights fail`,null);\n\t\t\t\t}\n\t\t\t})\n\t\t} else {\n\t\t\tdone(`ERR FIND on ${typeCode} has no dataSource`,null);\n\t\t}\n\t}\n\tstatic cFIND(typeCode:string,search:Query,keysOnly:boolean,forceRequest:boolean):string[]{\n\t\tlet ds= DataObj.globalSource;\n\t\tif (ds){\n\t\t\treturn ds.cFIND(typeCode,search,keysOnly,forceRequest);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n\tstatic checkTypeCode(expectedType:string, receivedType:string):boolean{\n\t\tif (!expectedType) return true;\n\t\tif (!receivedType) return true;\n\t\treturn DataObj.canA[expectedType][receivedType];\n\t}\n\tstatic make:(expectedType:string,json:any)=>DataObj;\n\tstatic makeList:(expectedType:string,json:any[],parent:DataObj)=>DataObj[];\n\tstatic makeDict:(expectedType:string,json:any,parent:DataObj)=>{[k:string]:DataObj};\n\tprivate static classInfo_:DataObjClassInfo;\n\tstatic set classInfo(info:DataObjClassInfo){\n\t\tDataObj.classInfo_=info;\n\t\tDataObj.buildTypeToCollection();\n\t\tDataObj.buildCanAssign();\n\t}\n\tstatic get classInfo():DataObjClassInfo{\n\t\treturn DataObj.classInfo_;\n\t}\n\tprivate static tToC:{ [typeCode:string]:string};\n\tprivate static canA:{ [superCode:string]:{[typeCode:string]:boolean}};\n\tprivate static sRoots: { [rootClassName:string]:boolean}=null;\n\tprivate static buildTypeToCollection(){\n\t\tDataObj.tToC={};\n\t\tDataObj.sRoots={};\n\t\tfor ( let typeCode in DataObj.classInfo_){\n\t\t\tDataObj.tToC[typeCode]=DataObj.topSuperCode(typeCode);\n\t\t}\n\t}\n\tstatic typeCodeToName(typeCode:string){\n\t\tlet ci = this.classInfo[typeCode];\n\t\tlet cn = ci.className;\n\t\treturn cn;\n\t}\n\tstatic typeToCollection(typeCode:string){\n\t\treturn DataObj.tToC[typeCode];\n\t}\n\tstatic collections():{ [rootClassName:string]:boolean }{\n\t\treturn DataObj.sRoots;\n\t}\n\tprivate static topSuperCode(typeCode:string):string{\n\t\tlet ci = DataObj.classInfo_[typeCode];\n\t\tif (ci && ci.superCode && ci.superCode.length>0 && typeCode != ci.superCode){\n\t\t\treturn this.topSuperCode(ci.superCode);\n\t\t} else {\n\t\t\tDataObj.sRoots[typeCode]=true;\n\t\t\treturn typeCode;\n\t\t}\n\t}\n\tprivate static buildCanAssign(){\n\t\tDataObj.canA = {};\n\t\tfor (let typeCode in DataObj.classInfo_){\n\t\t\tDataObj.superCanAssign(typeCode,typeCode);\n\t\t}\n\t}\n\tprivate static superCanAssign(superCode,typeCode){\n\t\tlet ca = DataObj.canA;\n\t\tif (!ca[superCode])\n\t\t\tca[superCode]={};\n\t\tca[superCode][typeCode]=true;\n\t\tlet ci = DataObj.classInfo_[superCode];\n\t\tif (ci){\n\t\t\tlet sc = ci.superCode;\n\t\t\tif (sc && sc.length>0)\n\t\t\t\tthis.superCanAssign(sc,typeCode);\n\t\t}\n\t}\n\n}\n\ntype DataObjClassInfo = { \n\t[typeCode:string]:{ \n\t\tclassName:string, \n\t\tsuperCode?:string,\n\t\tkeyed:boolean,\n\t\tfields: {\n\t\t\t[fieldName:string]: { type:string, isList:boolean, isDict:boolean}\n\t\t}\n\t}\n}\n\ntype MongoBinary = any;\ntype BlobStoreRec = {\n\t_key?:string,\n\tname:string,\n\ttype:string,\n\tnextBlob?:string,\n\tdata: MongoBinary\n}","/// <reference path=\"./DataObj.ts\"/>\n\n\nclass HTTPDataSource extends DataSource {\n    urlRoot:string;\n    constructor(urlRoot?:string){\n        super();\n        this.urlRoot=urlRoot;\n    }\n    isRemote():boolean { return true; }\n    GET(key:string, done:(err:string,data:DataObj)=>void,forceRequest:boolean,\n            serverContext:ServerContext){\n        let _this=this;\n        if (!key){\n            done(null,null);\n            return;\n        }\n        let url = `${this.urlRoot}data/get/${key}`;\n        let typeCode=DataSource.collectionFromKey(key);\n        DB.msg(\"HTTP GET \",url);\n        let http = new XMLHttpRequest();\n        http.open(\"GET\",url);\n        http.onreadystatechange=function() {\n            if (this.readyState==4){\n                if (this.status == 200){\n                    let json = JSON.parse(http.responseText);\n                    let obj = DataObj.make(typeCode,json)\n                    obj.dataSource=_this;\n                    done(null,obj);\n                    _this.notify();\n                } else\n                    done(\"\"+this.status+\" \"+this.statusText,null);\n            }\n        }\n        http.send();\n    }\n    httpLogin(userName:string, password:string,done:(err:string,user:DataObj)=>void){\n        DB.msg(\"http login\",userName);\n        let http = new XMLHttpRequest();\n        let url = `${this.urlRoot}login?userName=\"${userName}\"&password=\"${password}\"`;\n        http.open(\"GET\",url);\n        http.onreadystatechange=function(){\n            if (this.readyState==4){\n                if (this.status == 200){\n                    let userJSONStr = this.responseText;\n                    let userJSON = JSON.parse(userJSONStr);\n                    let user = DataObj.make(null,userJSON);\n                    done(null,user);\n                } else {\n                    done(`${this.status} ${this.responseText}`,null);\n                }\n            }\n        }\n        http.send();\n\n    }\n    httpLogout(done:(err:string)=>void){\n        DB.msg(\"http logout\");\n        let http = new XMLHttpRequest();\n        let url = `${this.urlRoot}logout`;\n        http.open(\"GET\",url);\n        http.onreadystatechange=function(){\n            if (this.readyState==4){\n                if (this.status == 200){\n                    done(null);\n                } else {\n                    done(`${this.status} ${this.responseText}`);\n                }\n            }\n        }\n        http.send();\n    }\n    getCurrentUserKey(done:(userKey:string)=>void,request?,response?){\n        DB.msg(\"http getCurrentUserKey\");\n        let http = new XMLHttpRequest();\n        let url = `${this.urlRoot}currentuser`;\n        http.open(\"GET\",url);\n        http.onreadystatechange=function(){\n            if (this.readyState==4){\n                if (this.status == 200){\n                    let userKey = this.responseText;\n                    if (userKey.length==0){\n                        done(null);\n                    } else {\n                        done(userKey);\n                    }\n                } else {\n                    done(null);\n                }\n            }\n        }\n        http.send();\n    }\n    GETm(keys:string[],done:(err:string,data:DataObj[])=>void,forceRequest:boolean,\n            serverContext:ServerContext){\n        let _this=this;\n        if (!keys){\n            done(null,[]);\n            return;\n        }\n        let url=`${this.urlRoot}data/getm`;\n        let http=new XMLHttpRequest();\n        http.open(\"POST\",url);\n        http.setRequestHeader(\"Content-Type\",\"application/json\");\n        let jstr = JSON.stringify({ keys:keys });\n        http.send(jstr);\n        http.onreadystatechange=function() {\n            if (this.readyState==4){\n                if (this.status == 200){\n                    let json = JSON.parse(http.responseText);\n                    let rslt:DataObj[] = [];\n                    for (let i in json){\n                        let objDesc = json[i];\n                        let mobj:DataObj = DataObj.make(null,objDesc);\n                        mobj.dataSource=_this;\n                        rslt.push(mobj);\n                    }\n                    if (done) done(null,rslt);\n                    _this.notify();\n                } else\n                    if (done) done(\"\"+this.status+\" \"+this.statusText,null);\n            }\n        }\n    }\n    GETBlob(blobKey:string,serverContext:ServerContext,done:(err:string,blob:BlobStoreRec)=>void){\n        if (blobKey){\n            let url = HTTPDataSource.urlFromBlobKey(blobKey);\n            window.location.href=url;\n        }\n    }\n    static urlFromBlobKey(blobKey:string){\n        let url = `/blob/${blobKey}`;\n        return url;\n    }\n    PUT(obj:DataObj,done:(err:string,newObj:DataObj)=>void,serverContext:ServerContext){\n        let _this=this;\n        let typeCode = obj.getTypeCode();\n        let url = `${this.urlRoot}data/put/${obj._key}`;\n        DB.msg(\"HTTP PUT \",url);\n        let http = new XMLHttpRequest();\n        http.open(\"POST\",url);\n        http.setRequestHeader(\"Content-Type\",\"application/json\");\n        let sjson = obj.toJSON();\n        let jstr = JSON.stringify(sjson);\n        http.onreadystatechange=function() {\n            if (this.readyState==4){\n                if (this.status == 200){\n                    let json = JSON.parse(http.responseText);\n                    let mobj = DataObj.make(typeCode,json);\n                    mobj.dataSource=_this;\n                    if (done) done(null,mobj);\n                    _this.notify();\n                } else {\n                    DB.msg(`PUT failure ${this.status} ${this.statusText}`,obj);\n                    if (done) done(\"\"+this.status+\" \"+this.statusText,null);\n                }\n            }\n        }\n        http.send(jstr);\n    }\n\n    createUser(userDesc:any,password:string,done:(err:string)=>void){\n        let url = `${this.urlRoot}createuser?password=\"${password}\"`;\n        let http = new XMLHttpRequest();\n        http.open(\"POST\",url);\n        http.setRequestHeader(\"Content-Type\",\"application/json\");\n        let jstr = JSON.stringify(userDesc);\n        http.onreadystatechange=function(){\n            if (this.readyState==4){\n                if (this.status==200){\n                    done(null);\n                } else {\n                    done(`${this.status} ${this.responseText}`);\n                }\n            }\n        }\n        http.send(jstr);\n    }\n    PUTm(objs:DataObj[],done:(err:string,newObjs:DataObj[])=>void,serverContext:ServerContext){\n        let _this=this;\n\n        let url = `${this.urlRoot}data/putm`;\n        let http = new XMLHttpRequest();\n        let toSend=[];\n        for (let i in objs){\n            toSend.push(objs[i].toJSON());\n        }\n        http.open(\"POST\",url);\n        http.setRequestHeader(\"Content-Type\",\"application/json\");\n        let jstr = JSON.stringify(toSend);\n        http.send(jstr);\n        http.onreadystatechange=function() {\n            if (this.readyState==4){\n                if (this.status == 200){\n                    let json = JSON.parse(http.responseText);\n                    let rslt:DataObj[] = [];\n                    for (let i in json){\n                        let objDesc = json[i];\n                        let mobj = DataObj.make(null,objDesc);\n                        mobj.dataSource=_this;\n                        rslt.push(mobj);\n                    }\n                    if (done) done(null,rslt);\n                    _this.notify();\n                } else\n                    if (done) done(\"\"+this.status+\" \"+this.statusText,null);\n            }\n        }\n    }\n    PUTFileBlob(file:File,serverContext:ServerContext,done:(err:string,blobKey:string)=>void){\n        let _this = this;\n        let url=`${this.urlRoot}blob`;\n        let formData = new FormData();\n        formData.append('name',file.name)\n        formData.append('file',file);\n\n        let http = new XMLHttpRequest();\n        http.open(\"POST\",url,true);\n        http.send(formData);\n        http.onreadystatechange=function() {\n            if (this.readyState==4){\n                if (this.status == 200){\n                    let json = JSON.parse(http.responseText);\n                    if (done) done(null,json.blobKey);\n                } else\n                    if (done) done(\"\"+this.status+\" \"+this.statusText,null);\n                    _this.notify();\n            }\n        }\n    }\n    \n    PUTBlob(blob:Blob,name:string,serverContext:ServerContext,done:(err:string,blobKey:string)=>void){\n        let _this = this;\n        let url=`${this.urlRoot}blob`;\n        let formData = new FormData();\n        DB.msg(\"HTTPDataSource.PUTBlob not done\")\n        formData.append('name',name)\n        formData.append('data',blob);\n        //formData.append('file',file);\n\n        let http = new XMLHttpRequest();\n        http.open(\"POST\",url,true);\n        http.send(formData);\n        http.onreadystatechange=function() {\n            if (this.readyState==4){\n                if (this.status == 200){\n                    let json = JSON.parse(http.responseText);\n                    if (done) done(null,json.blobKey);\n                } else\n                    if (done) done(\"\"+this.status+\" \"+this.statusText,null);\n                    _this.notify();\n            }\n        }\n    }\n    DELETE(key:string,done?:(err:string)=>void){\n        let _this = this;\n        let url = `${this.urlRoot}data/delete/${key}`;\n        DB.msg(\"HTTP DELETE \",url);\n        let http = new XMLHttpRequest();\n        http.open(\"DELETE\",url);\n        http.send();\n        http.onreadystatechange=function() {\n            if (this.readyState==4){\n                if (this.status == 200){\n                    if (done) done(null);\n                    _this.notify();\n                } else\n                    if (done) done(\"\"+this.status+\" \"+this.statusText);\n            }\n        }\n    }\n    FIND(typeCode:string, search:Query,done:(err:string,keys:string[],objs:DataObj[])=>void,\n            keysOnly:boolean,forceRequest:boolean,serverContext:ServerContext){\n        let _this=this;\n        let colCode = DataObj.typeToCollection(typeCode);\n        let url = `${this.urlRoot}data/find/${colCode}?`;\n        let start=true;\n        let query=this.buildSearchQuery(search);\n        \n        if (keysOnly){\n            query+=\"&keysonly=1\"\n        }\n        url+=query;\n        DB.msg(\"HTTP FIND \",url);\n        let http = new XMLHttpRequest();\n        http.open(\"GET\",url);\n        http.send();\n        http.onreadystatechange=function() {\n            if (this.readyState==4){\n                if (this.status == 200){\n                    let json = JSON.parse(http.responseText);\n                    let keys = json.keys;\n                    let objs = json.objs;\n                    let dObjs:DataObj[] = []\n                    if (objs){\n                        for (let o in objs){\n                            let objJson = objs[o];\n                            let obj = DataObj.make(null,objJson);\n                            dObjs.push(obj);\n                        }\n                    }\n                    if (done) done(null,keys,dObjs);\n                    _this.notify();\n                } else {\n                    if (done) done(\"\"+this.status+\" \"+this.responseText,null,null);\n                }\n            }\n        }\n    }\n    private buildSearchQuery(search:Query):string{\n        return \"q=\"+JSON.stringify(search.toJSON());\n\n    }\n\n}","/// <reference path=\"DataSource.ts\"/>\n\nclass MemDataSource extends DataSource {\n    datastore:any;\n    constructor(){\n        super();\n        this.datastore={};\n    }\n\n    GET(key:string, done:(err:string,data:DataObj)=>void,forceRequest:boolean,\n            serverContext:ServerContext){\n        let _this=this;\n        \n        let collectionKey = DataSource.collectionFromKey(key);\n        let id = DataSource.idFromKey(key);\n        let collection = this.datastore[collectionKey];\n        if (!collection){\n            this.datastore[collectionKey]={}\n            collection = this.datastore[collectionKey];\n        }\n        let rec = collection[id];\n        if (rec) {\n            rec = DataObj.make(collectionKey,rec);\n            rec.dataSource=_this;\n            done(null,rec);\n        } else\n            done(\"key not found \"+key,null);\n        \n    }\n    cGET(key:string,forceRequest?:boolean):DataObj{\n        let collectionKey = DataSource.collectionFromKey(key);\n        let id = DataSource.idFromKey(key);\n        let collection = this.datastore[collectionKey];\n        if (!collection){\n            this.datastore[collectionKey]={}\n            collection = this.datastore[collectionKey];\n        }\n        let rec = collection[id];\n        if (rec) {\n            rec = DataObj.make(collectionKey,rec);\n            rec.dataSource=this;\n            return rec;\n        } else{\n            return null;\n        }\n    }\n    GETm(keys:string[], done:(err:string,data:DataObj[])=>void,forceRequest:boolean,\n            serverContext:ServerContext){\n        this.multiGet(0,keys,[],done,forceRequest);\n    }\n    private multiGet(idx:number,keys:string[],rslt:DataObj[],done:(err:string,data:DataObj[])=>void,forceRequest:boolean){\n        if (idx>=keys.length) {\n            done(null,rslt);\n        } else {\n            this.GET(keys[idx],(err:string,data:DataObj)=>{\n                if (err) {\n                    done(err,rslt);\n                } else {\n                    rslt.push(data);\n                    this.multiGet(idx+1,keys,rslt,done,forceRequest);\n                }\n            },forceRequest,null);\n        }\n    }\n    GETBlob(blobKey:string,serverContext:ServerContext,done:(err:string,blob:BlobStoreRec)=>void){\n\n        let collection = this.datastore[\"BLOB\"];\n        if (collection){\n            let file:File = collection[blobKey];\n            DB.msg(\"downloadFile memdatasource not done\",file);\n        }\n    }\n    cGETm(keys:string[],forceRequest?:boolean):DataObj[]{\n        let rslt:DataObj[] = [];\n        for (let i in keys){\n            let key = keys[i];\n            let obj = this.cGET(key,forceRequest);\n            if (obj)\n                rslt.push(obj);\n        }\n        return rslt;\n    }\n    PUT(obj:DataObj,done:(err:string,newObj:DataObj)=>void, serverContext:ServerContext){\n        \n        let _this=this;\n\n        let key = obj._key;\n        if (!key){\n            let tc = obj.getTypeCode();\n            key = DataSource.generateKey(tc);\n            obj._key=key;\n        }\n        let collectionKey = obj.getTypeCode();\n        let collection = this.datastore[collectionKey];\n        if (!collection){\n            this.datastore[collectionKey]={}\n            collection = this.datastore[collectionKey];\n        }\n        let id = DataSource.idFromKey(key);\n        collection[id]=obj.toJSON();\n        obj.dataSource = _this;\n        done(null,obj);\n    }\n    PUTm(objs:DataObj[],done:(err:string,newObjs:DataObj[])=>void,\n            serverContext:ServerContext){\n        this.multiPut(0,objs,[],done,serverContext);\n    }    \n    \n    private multiPut(idx:number,objs:DataObj[],rslt:DataObj[],done:(err:string,newObjs:DataObj[])=>void,\n            serverContext:ServerContext){\n        if (idx>=objs.length){\n            done(null,rslt);\n        } else {\n            this.PUT(objs[idx],(err:string,data:DataObj)=>{\n                if (err){\n                    done(err,rslt);\n                } else {\n                    rslt.push(data);\n                    this.multiPut(idx+1,objs,rslt,done,serverContext);\n                }\n            },serverContext)\n        }\n    }\n    PUTFileBlob(file:File,serverContext:ServerContext,done:(err:string,blobKey:string)=>void){\n        let key = DataSource.generateKey(\"BLOB\");\n        let collection = this.datastore[\"BLOB\"];\n        if (!collection){\n            this.datastore[\"BLOB\"]={};\n            collection = this.datastore[\"BLOB\"];\n        }\n        let id = DataSource.idFromKey(key);\n        collection[id]={ _id:id, _key:key, file:file};\n        done(null,key);\n    }\n    PUTBlob(blob:Blob,name:string,serverContext:ServerContext,done:(err:string,blobKey:string)=>void){\n        let key = DataSource.generateKey(\"BLOB\");\n        let collection = this.datastore[\"BLOB\"];\n        if (!collection){\n            this.datastore[\"BLOB\"]={};\n            collection = this.datastore[\"BLOB\"];\n        }\n        let id = DataSource.idFromKey(key);\n        collection[id]={ _id:id, _key:key, blob:blob};\n        done(null,key);\n    }\n    DELETE(key:string,done?:(err:string)=>void){\n        super.DELETE(key,(err:string)=>{\n            if (err) {\n                if(done) done(err);\n            } else {\n                let collectionKey = DataSource.collectionFromKey(key);\n                let id = DataSource.idFromKey(key);\n                let collection = this.datastore[collectionKey];\n                if (collection) {\n                    let rec=collection[id];\n                    collection[id]=null;\n                    if (!rec){\n                        if (done) done(\"no such object \"+key);\n                    } else {\n                        if (done) done(null);\n                    }\n                } else {\n                    if (done) done(\"no such object \"+key);\n                }\n            \n            }\n        })\n    }\n    FIND(typeCode:string, search:Query,done:(err:string,keys:string[],objs:DataObj[])=>void,\n            keysOnly:boolean,forceRequest:boolean,serverContext:ServerContext){\n\n        let colCode = DataObj.typeToCollection(typeCode);\n        let collection = this.datastore[colCode];\n        let rslt:string[]=[];\n        if (collection){\n            for (let id in collection){\n                let rec = collection[id];\n                let match=true;\n                for (let field in search){\n                    let srch = search[field];\n                    let recVal = rec[field];\n                    if (!this.matches(srch,recVal))\n                        match=false;\n                }\n                if (match)\n                    rslt.push(rec._t_+\"_\"+id);\n            }\n            if (keysOnly){\n                done(null,rslt,[]);\n            } else {\n                let dObjs:DataObj[] = [];\n                this.getFromKeys(rslt,0,dObjs,(objs:DataObj[])=>{\n                    done(null,rslt,objs);\n                },serverContext);\n            }\n        } else {\n            done(null,rslt,[]);\n        }\n\n    }\n    matches(srch:QueryValue, val:any):boolean{\n        return Query.matchesQV(srch,val)\n    }\n    cFIND(typeCode:string,search:Query,forceRequest?:boolean):string[]{\n\n        let colCode = DataObj.typeToCollection(typeCode);\n        let collection = this.datastore[colCode];\n        let rslt:string[]=[];\n        if (collection){\n            for (let id in collection){\n                let rec = collection[id];\n                let match=true;\n                for (let field in search){\n                    let val = search[field];\n                    let recVal = rec[field];\n                    if (!recVal || recVal!=val)\n                        match=false;\n                }\n                if (match)\n                    rslt.push(rec._t_+\"_\"+id);\n            }\n            return rslt;\n        } else {\n            return null;\n        }\n\n    }\n}","/// <reference path=\"DataSource.ts\"/>\n\n\n\nclass CacheDataSource extends DataSource {\n    actualSource:DataSource;\n    static objLeaseTime:number = 1000*60*5; // five minutes\n    static updateLatency:number = 500;\n    \n    constructor(actualSource:DataSource,dataMonitor?:DataMonitor){\n        super();\n        this.actualSource = actualSource;\n        this.setDataMonitor(dataMonitor);\n        this.recentCache={};\n        this.prevCache={};\n        this.recentFindCache={};\n        this.prevFindCache={};\n    }\n    setDataMonitor(dataMonitor:DataMonitor){\n        super.setDataMonitor(dataMonitor);\n        this.actualSource.setDataMonitor(dataMonitor)\n    }\n    setRightsManager(rm:RightsManager){\n        super.setRightsManager(rm);\n        this.actualSource.setRightsManager(rm);\n    }\n    isRemote():boolean { return this.actualSource.isRemote();}\n    GET(key:string, done:(err:string,data:DataObj)=>void,forceRequest:boolean,\n            serverContext:ServerContext){\n        let co:CacheObj = this.getCachedObj(key);\n        if (co){\n            if (co.requestInProgress){\n                // wait and redo request\n                setTimeout(()=>{\n                    this.GET(key,done,forceRequest,serverContext);\n                },1000)\n                return;\n            } else {\n                if (!forceRequest && co.obj){\n                    done(null,co.obj);\n                    return;\n                } else {\n                    co.requestInProgress=true;\n                }\n            }\n        } else {\n            co = new CacheObj(null);\n            co.requestInProgress=true;\n            this.recentCache[key]=co;\n        }\n        this.actualSource.GET(key,(err:string,data:DataObj)=>{\n            if (err){\n                done(err,null);\n                return;\n            }\n            \n            data.dataSource=this;\n            this.cacheObj(data);\n            done(null,data);\n            this.notify();\n        },forceRequest,serverContext);\n    }\n    cGET(key:string,forceRequest?:boolean):DataObj{\n        let cObj:CacheObj = this.getCachedObj(key);\n\n        if (cObj){\n            if (cObj.requestInProgress){\n                return null;\n            } else if (forceRequest){\n                cObj.requestInProgress=true;\n            } else {\n                return cObj.obj;\n            }\n        }/*else {\n            let co = new CacheObj(null);\n            co.requestInProgress=true;\n            this.recentCache[key]=co;\n        }*/\n        this.GET(key,()=>{},forceRequest,null);           // invoke get without waiting\n        return null;\n    }\n    GETm(keys:string[],done:(err:string,data:DataObj[])=>void,forceRequest:boolean,\n            serverContext:ServerContext){\n        if (!keys || keys.length==0) {\n            done(null,[]);\n            return;\n        }\n        if (forceRequest){\n            this.getMActual(keys,(err:string,data:DataObj[])=>{\n                done(err,data);\n            },forceRequest,serverContext)\n        } else {\n            if (this.cacheRequestInProgress(keys)){\n                // another request already in progress\n                // wait and reprocess request\n                setTimeout(()=>{\n                    this.GETm(keys,(subErr:string,subData:DataObj[])=>{\n                        done(subErr,subData);\n                    },forceRequest,serverContext)\n                },1000)\n            } else {\n                let cObjs:DataObj[] = this.getCachedObjs(keys);\n                if (cObjs){\n                    done(null,cObjs);\n                } else {\n                    this.getMActual(keys,(err:string,data:DataObj[])=>{\n                        done(err,data)\n                    },forceRequest,serverContext)\n                }\n            }\n        }\n    }\n    private getMActual(keys:string[],done:(err:string,data:DataObj[])=>void,\n            forceRequest:boolean,serverContext:ServerContext){\n        this.actualSource.GETm(keys,(err:string,data:DataObj[])=>{\n            if (err){\n                done(err,null);\n                return;\n            }\n            \n            for (let i in data)\n                data[i].dataSource = this;\n            this.cacheObjs(data);\n            done(null,data);\n        },forceRequest,serverContext);\n    }\n    cGETm(keys:string[],forceRequest?:boolean):DataObj[]{\n        //DB.start(\"CacheDataSource.cGETm\",keys);\n        if (!keys || keys.length==0) {\n            //DB.end(\"CacheDataSource.cGETm no keys\")\n            return [];\n        }\n        let cObjs:DataObj[] = this.getCachedObjs(keys);\n\n        let remainingKeys:string[]=[];\n        if (forceRequest){\n            remainingKeys=keys;\n        } else if (cObjs){\n            for (let k in keys){\n                let found=false;\n                let key =keys[k];\n                for (let o in cObjs){\n                    let obj = cObjs[o];\n                    if (obj && key==obj._key){\n                        found=true;\n                        break;\n                    }\n                }\n                if (!found){\n                    remainingKeys.push(key);\n                }\n            }\n            if (remainingKeys.length>0){\n                //DB.msg(\"CacheDataSource.cGETm getting somekeys\",keys)\n                this.GETm(remainingKeys,()=>{},forceRequest,null);  // force a get without waiting for response\n            }\n            //DB.end(\"CacheDataSource.cGETm GETm\",cObjs)\n            return cObjs;\n        } else {\n            //DB.msg(\"CacheDataSource.cGETm get all\",keys);\n            this.GETm(keys,()=>{},forceRequest,null);\n            //DB.end(\"CacheDataSource.cGETm\")\n            return null;\n        }\n               \n    }\n    GETBlob(blobKey:string,serverContext:ServerContext,done:(err:string,blob:BlobStoreRec)=>void){\n\n        this.actualSource.GETBlob(blobKey,serverContext,done);\n    }\n    PUT(obj:DataObj,done:(err:string,newObj:DataObj)=>void,serverContext:ServerContext){\n        obj.dataSource = this;\n        let typeCode = obj.getTypeCode()\n        this.clearFindCache(typeCode);\n        this.actualSource.PUT(obj,(err:string,putObj:DataObj)=>{\n            this.clearFindCache(typeCode);\n            if (putObj)\n                this.cacheObj(putObj);\n            //DB.msg(\"CacheDataSource PUT complete\")\n            done(err,putObj);\n        },serverContext);\n    }\n    PUTm(objs:DataObj[],done:(err:string,newObjs:DataObj[])=>void, serverContext:ServerContext){\n        for (let i in objs)\n            objs[i].dataSource = this;\n        if (objs && objs.length>0){\n            let typeCode = objs[0].getTypeCode()\n            this.clearFindCache(typeCode);\n        }\n        this.actualSource.PUTm(objs,done,serverContext);\n    }\n    PUTFileBlob(file:File,serverContext:ServerContext,done:(err:string,blobKey:string)=>void){\n        this.actualSource.PUTFileBlob(file,serverContext,done);\n    }\n    PUTBlob(blob:Blob,name:string,serverContext:ServerContext,done:(err:string,blobKey:string)=>void){\n        this.actualSource.PUTBlob(blob,name,serverContext,done);\n    }\n    DELETE(key:string,done?:(err:string)=>void){\n        this.delObjCache(key);\n        this.actualSource.DELETE(key,(delErr:string)=>{\n            this.delObjCache(key);\n            //DB.msg(\"CacheDataSource DELETE complete\")\n            if (done) done(delErr);\n        });\n    }\n    FIND(typeCode:string, search:Query,done:(err:string,keys:string[],objs:DataObj[])=>void,\n            keysOnly:boolean,forceRequest:boolean, serverContext:ServerContext){\n        let findKeys:FindCacheObj = this.getCachedFind(typeCode,search);\n\n        if (findKeys){\n            if (findKeys.requestInProgress){\n                setTimeout(()=>{\n                    this.FIND(typeCode,search,done,keysOnly,false,serverContext);\n                },1000);\n                return;\n            } else if (forceRequest){\n                findKeys.requestInProgress=true;\n                this.doFind(typeCode,search,done,keysOnly,serverContext);\n            } else {\n                if (findKeys.getKeys()){\n                    if (keysOnly){\n                        done(null,findKeys.getKeys(),[]);\n                    } else {\n                        this.GETm(findKeys.getKeys(),(getmErr:string,getMData:DataObj[])=>{\n                            if (getMData){\n                                done(null,findKeys.getKeys(),getMData)\n                            } else {\n                                done(getmErr,findKeys.getKeys(),[])\n                            }\n                        },false,serverContext)\n                    }\n                } \n            }\n        } else {\n            this.doFind(typeCode,search,done,keysOnly,serverContext);\n        }\n    }\n    private doFind(typeCode:string,search:Query,done:(err:string,keys:string[],objs:DataObj[])=>void,\n            keysOnly:boolean,serverContext:ServerContext){\n        this.registerInProgress(typeCode,search);\n        this.actualSource.FIND(typeCode,search,(err:string,keys:string[],objs:DataObj[])=>{\n            if (err){\n                done(err,null,null);\n                return;\n            }\n            this.cacheFind(typeCode,search,keys,objs);\n            done(err,keys,objs);\n        },keysOnly,false,serverContext);\n    }\n    private registerInProgress(typeCode:string,search:Query){\n        let newFindCache =new FindCacheObj(search,[]);\n        newFindCache.requestInProgress=true;\n        if (!this.recentFindCache[typeCode])\n            this.recentFindCache[typeCode]=[];\n        this.recentFindCache[typeCode].push(newFindCache)\n    }\n    cFIND(typeCode:string,search:Query,keysOnly:boolean,forceRequest:boolean):string[]{\n\n        let findKeys:FindCacheObj = this.getCachedFind(typeCode,search);\n        let rslt:string[] = [];\n        if (findKeys){\n            if (findKeys.requestInProgress){\n                return findKeys.getKeys();\n            } else if (forceRequest){\n                this.FIND(typeCode,search,()=>{\n                },keysOnly,forceRequest,null)\n                return findKeys.getKeys();\n            } else { // return what was in the cache\n                \n                rslt=findKeys.getKeys();\n                return rslt;\n            }\n        } else { // nothing in the cache\n            \n            this.FIND(typeCode,search,()=>{\n                \n            },keysOnly,forceRequest,null)\n            return null;\n        }\n    }\n    touched(obj:DataObj):boolean{\n        this.scheduleUpdate(obj);\n        return true;\n    }\n    login(userId:string,password:string,done:(err:string)=>void,serverContext:ServerContext){\n        this.actualSource.login(userId,password,done,serverContext);\n    }\n    httpLogin(userName:string, password:string,done:(err:string,user:DataObj)=>void){\n        this.actualSource.httpLogin(userName,password,(aErr:string,aUser:DataObj)=>{\n            if (aErr){\n                done(aErr,null);\n            } else {\n                this.cacheObj(aUser);\n                done(null,aUser);\n            }\n        });\n    }\n    createUser(userDesc:any,password:string,done:(err:string)=>void,serverContext:ServerContext){\n        this.actualSource.createUser(userDesc,password,done,serverContext);\n    }\n     \n\n    private MAX_CACHE=1000;\n    private cacheCount=0;\n    private recentCache:{ [key:string]:CacheObj};\n    private prevCache: { [key:string]:CacheObj}\n    private checkCacheSize(){\n        this.cacheCount++;\n        if (this.cacheCount>this.MAX_CACHE){\n            this.cacheCount=0;\n            this.prevCache=this.recentCache;\n            this.recentCache={};\n        }\n    }\n\n    private cacheObj(obj:DataObj){\n        // this will put a single object in the cache and initiate notification.\n        let key = obj._key;\n        let recentObj = this.recentCache[key];\n        let prevObj = this.prevCache[key];\n        let now = Date.now();\n        if (recentObj){\n            this.recentCache[key]=new CacheObj(obj);\n            obj.dataSource=this;\n        } else if (prevObj){\n            this.recentCache[key]=new CacheObj(obj);\n            obj.dataSource=this;\n            this.prevCache[key]=null;\n            this.checkCacheSize();\n        } else {\n            this.recentCache[key]=new CacheObj(obj);\n            obj.dataSource=this;\n            this.checkCacheSize();\n        }\n        this.notify();\n    }\n    private cacheObjs(objs:DataObj[]){\n        for (let i in objs){\n            let obj = objs[i];\n            this.cacheObj(obj);\n        }\n    }\n    private getCachedObj(key:string):CacheObj{\n        let recentObj = this.recentCache[key];\n        let prevObj = this.prevCache[key];\n        let now = Date.now();\n        if (recentObj){\n            if (recentObj.expired()){\n                this.recentCache[key]=null;\n            } else \n                return recentObj;\n        } else if (prevObj){\n            if (prevObj.expired()){\n                this.prevCache[key]=null;\n            } else \n                return prevObj;\n        } else {\n            this.checkCacheSize();\n            return null;\n        }\n    }\n    private cacheRequestInProgress(keys:string[]):boolean {\n        for (let i in keys){\n            let key=keys[i];\n            let cache:CacheObj = this.getCachedObj(key);\n            if (cache && cache.requestInProgress)\n                return true;\n        }\n        return false;\n    }\n    private getCachedObjs(keys:string[]):DataObj[]{\n        let rslt:DataObj[] = [];\n        for (let i in keys){\n            let key = keys[i];\n            let obj:CacheObj = this.getCachedObj(key);\n            if (obj && obj.obj){\n                rslt.push(obj.obj);\n            }\n        }\n        if (rslt.length==0)\n            rslt=null;\n        return rslt;\n    }\n    private delObjCache(key:string){\n        let objTypeCode = key.split(\"_\")[0];\n        this.clearFindCache(objTypeCode);\n        let recentObj = this.recentCache[key];\n        if (recentObj)\n            this.recentCache[key]=null;\n        let prevObj = this.prevCache[key];\n        if (prevObj)\n            this.prevCache[key]=null;\n        this.notify();\n    }\n\n    private MAX_FIND_CACHE=100;\n    private findCacheCount=0;\n    private recentFindCache:{ [typeCode:string]:FindCacheObj[] };\n    private prevFindCache:{ [typeCode:string]:FindCacheObj[] };\n    private checkFindCacheSize(){\n        this.findCacheCount++;\n        if (this.findCacheCount>this.MAX_FIND_CACHE){\n            this.findCacheCount=0;\n            this.prevFindCache = this.recentFindCache;\n            this.recentFindCache={};\n        }\n    }\n    private cacheFind(typeCode:string, search:Query,keys:string[],objs:DataObj[]){\n        let recentSearch:FindCacheObj = this.locateFind(this.recentFindCache,typeCode,search);\n        if (recentSearch){\n            recentSearch.setData(search,keys);\n            //DB.msg(\"cacheFind recentSearch\",recentSearch);\n        } else {\n            let prevSearch:FindCacheObj= this.locateFind(this.prevFindCache,typeCode,search);\n            if (prevSearch){\n                prevSearch.setData(search,keys);\n                if (!this.recentFindCache[typeCode])\n                    this.recentFindCache[typeCode]=[];\n                //DB.msg(\"cacheFind prevSearch\",prevSearch);\n                this.recentFindCache[typeCode].push(prevSearch);\n                this.checkFindCacheSize();\n            } else {\n                let newSearch = new FindCacheObj(search,keys);\n                if (!this.recentFindCache[typeCode])\n                    this.recentFindCache[typeCode]=[];\n                //DB.msg(\"cacheFind newSearch\",newSearch)\n                this.recentFindCache[typeCode].push(newSearch);\n                this.checkFindCacheSize();\n            }\n        }\n        this.cacheObjs(objs);\n        this.notify();\n    }\n    private getCachedFind(typeCode:string,search:Query):FindCacheObj {\n        let recentSearch:FindCacheObj = this.locateFind(this.recentFindCache,typeCode,search);\n        if (recentSearch){\n            if (recentSearch.expired()){\n                this.purgeFind(this.recentFindCache,typeCode,search);\n            } else \n                return recentSearch;\n        } \n        let prevSearch:FindCacheObj= this.locateFind(this.prevFindCache,typeCode,search);\n        if (prevSearch){\n            if (prevSearch.expired()){\n                this.purgeFind(this.prevFindCache,typeCode,search)\n                \n            } else {\n                return prevSearch;\n            }\n        } \n        return null;\n    \n    }\n    private locateFind(cache:{ [typeCode:string]:FindCacheObj[] },typeCode:string,search:Query):FindCacheObj{\n        let searches:FindCacheObj[] = cache[typeCode];\n        if (searches){\n            for (let i in searches){\n                let srch = searches[i];\n                if (srch) {\n                    if (Query.match(srch.search,search)){\n                        return srch;\n                    }\n                }\n            }\n            return null;\n        } else {\n            return null;\n        }\n    }\n    private purgeFind(cache:{ [typeCode:string]:FindCacheObj[] },typeCode:string,search:Query):void{\n        let searches = cache[typeCode];\n        if (searches){\n            for (let i in searches){\n                let srch:FindCacheObj = searches[i];\n                if (srch) {\n                    if (Query.match(srch.search,search)){\n                        searches[i]=null;\n                    }\n                }\n            }\n            return null;\n        } else {\n            return null;\n        }\n    }\n    private clearFindCache(objTypeCode:string){\n        let possibleTypeCodes=this.superTypeCodes(objTypeCode);\n        for (let c in possibleTypeCodes){\n            let tc = possibleTypeCodes[c];\n            this.recentFindCache[tc]=[];\n            this.prevFindCache[tc]=[];\n        }\n    }\n    private superTypeCodes(typeCode:string):string[]{\n        let rslt:string[] = [];\n        let classInfo = DataObj.classInfo;\n        let cli = classInfo[typeCode];\n        while (cli){\n            rslt.push(typeCode);\n            typeCode = cli.superCode;\n            cli = classInfo[typeCode];\n        }\n        return rslt;\n    }\n\n    private pendingUpdates:{ [key:string]:DataObj };\n    private pendingUpdateTimerStarted:boolean;\n    private scheduleUpdate(obj:DataObj){\n        if (!obj) return;\n        if (!this.pendingUpdates)\n            this.pendingUpdates={};\n        this.pendingUpdates[obj._key]=obj;\n        if (!this.pendingUpdateTimerStarted){\n            this.pendingUpdateTimerStarted=null;\n            setTimeout(()=>{\n                let updates = this.pendingUpdates;\n                this.pendingUpdates={};\n                let updateList:DataObj[] = [];\n                for (let key in updates){\n                    let updateObj = updates[key];\n                    updateList.push(updateObj);\n                }\n                this.PUTm(updateList,(err:string,newObjs:DataObj[])=>{\n                    // nothing\n                },null);\n            },CacheDataSource.updateLatency);\n        } \n    }\n}\nclass CacheObj{\n    timeCached:number;\n    requestInProgress:boolean;\n    obj:DataObj;\n    constructor(obj:DataObj){\n        this.timeCached=Date.now();\n        this.requestInProgress = false;\n        this.obj=obj;\n    }\n    expired():boolean{\n        let now = Date.now();\n        let time = now - this.timeCached;\n        if (time>CacheDataSource.objLeaseTime)\n            if (this.requestInProgress) {\n                if (time > 2*CacheDataSource.objLeaseTime){\n                    this.timeCached = now-CacheDataSource.objLeaseTime;\n                    return true; // this will force a new request even if one is in progress\n                } else {\n                    return false;\n                }\n            } else {\n                return true;\n            }\n        else\n            return false;\n    }\n}\nclass FindCacheObj extends CacheObj{\n    search:Query;\n    private keys_:string[];\n    private keyMap:{ [key:string]:boolean};\n    setKeys(newKeys:string[]){\n        this.keys_=newKeys;\n        this.keyMap = {};\n        for (let i in newKeys){\n            let key = newKeys[i];\n            this.keyMap[key]=true;\n        }\n    }\n    getKeys():string[]{\n        return this.keys_;\n    }\n    constructor(search:Query,keys:string[]){\n        super(null);\n        this.search = search;\n        this.keys_=keys;\n    }\n    setData(search:Query,keys:string[]){\n        this.timeCached=Date.now();\n        this.requestInProgress = false;\n        this.search = search;\n        this.setKeys( keys);\n    }\n\n    checkDelete(key:string){\n        if (this.keyMap[key]){\n            this.keyMap[key]=false;\n            this.rebuildKeysFromMap();\n        }\n    }\n    checkForUpdate(obj:DataObj){\n        let key = obj._key;\n        if (key){\n            if (this.keyMap[key]){\n                if (this.search.matches(obj)){\n                    return;\n                } else {\n                    this.keyMap[key]=false;\n                    this.rebuildKeysFromMap();\n                }\n            } else {\n                if (this.search.matches(obj)){\n                    this.keyMap[key]=true;\n                    this.rebuildKeysFromMap();\n                } else\n                    return;\n            }\n        }\n    }\n    private rebuildKeysFromMap(){\n        this.keys_=[];\n        for (let key in this.keyMap){\n            if (this.keyMap[key])\n                this.keys_.push(key);\n        }\n    }\n}\n","\nclass ZPerson extends DataObj{\n   protected FirstName_:string;\n   protected LastName_:string;\n   protected Email_:string;\n   protected Phone_:string;\n   constructor(json:any){\n      super(json);\n      if (json.FirstName){\n         this.FirstName_=json.FirstName;\n      }\n      if (json.LastName){\n         this.LastName_=json.LastName;\n      }\n      if (json.Email){\n         this.Email_=json.Email;\n      }\n      if (json.Phone){\n         this.Phone_=json.Phone;\n      }\n   }\n   getTypeCode():string { return 'P';}\n   getFirstName():string {\n      return this.FirstName_;\n   }\n   setFirstName(newVal: string) {\n      if (this.FirstName_ != newVal){\n         this.FirstName_=newVal;\n         this.touch();\n      }\n   }\n   getLastName():string {\n      return this.LastName_;\n   }\n   setLastName(newVal: string) {\n      if (this.LastName_ != newVal){\n         this.LastName_=newVal;\n         this.touch();\n      }\n   }\n   getEmail():string {\n      return this.Email_;\n   }\n   setEmail(newVal: string) {\n      if (this.Email_ != newVal){\n         this.Email_=newVal;\n         this.touch();\n      }\n   }\n   getPhone():string {\n      return this.Phone_;\n   }\n   setPhone(newVal: string) {\n      if (this.Phone_ != newVal){\n         this.Phone_=newVal;\n         this.touch();\n      }\n   }\n   static GET(key:string,done:(err:string,data:Person)=>void,forceRequest?:boolean,serverContext?:ServerContext){\n      let tc=DataSource.typeFromKey(key);\n      if (!DataObj.checkTypeCode('P',tc)){ done(\"ERR wrong key \"+key+\" for Person.GET\",null);return}\n      super.GET(key,(err:string,data:DataObj)=>{\n         if (err){\n            done(err,null);\n         } else {\n            done(null,<Person>data);\n         }\n      },forceRequest,serverContext)\n   }\n   static cGET(key:string,forceRequest?:boolean):Person{\n      let tc=DataSource.typeFromKey(key);\n      if (!DataObj.checkTypeCode('P',tc)){ DB.msg(\"ERR wrong key \"+key+\" for Person.GET\",null); return null}\n      return <Person>(super.cGET(key,forceRequest));\n   }\n   static GETm(keys:string[],done:(err:string,data:Person[])=>void,forceRequest?:boolean,serverContext?:ServerContext){\n      if (!keys || keys.length==0){\n         done(null,[])\n         return\n      }\n      let tc=DataSource.typeFromKey(keys[0]);\n      if (!DataObj.checkTypeCode('P',tc)){ done(\"ERR wrong key \"+keys[0]+\" for Person.GETm\",null); return}\n      super.GETm(keys,(err:string,data:DataObj[])=>{\n         if (err){\n            done(err,null);\n         } else {\n            done(null,<Person[]>data);\n         }\n      },forceRequest,serverContext)\n   }\n   toJSON():any{\n      let rslt:any = {};\n      rslt._key=this._key\n      rslt._t_=\"P\";\n      rslt.FirstName=this.getFirstName();\n      rslt.LastName=this.getLastName();\n      rslt.Email=this.getEmail();\n      rslt.Phone=this.getPhone();\n      return rslt;\n   }\n   \n   static byName(FirstName:StringQuery,LastName:StringQuery,done:(err:string,keys:string[])=>void,keysOnly?:boolean,forceRequest?:boolean,serverContext?:ServerContext){\n      super.FIND(\"P\",Query.dict({FirstName:FirstName ,LastName:LastName }),done,keysOnly,forceRequest,serverContext)\n   }\n   \n   static byNameC(FirstName:StringQuery,LastName:StringQuery,keysOnly?:boolean,forceRequest?:boolean):string[]{\n      let ds = DataObj.globalSource;\n      return super.cFIND(\"P\",Query.dict({FirstName:FirstName ,LastName:LastName }),keysOnly,forceRequest)\n   }\n}\n","/// <reference path=\"ZPerson.ts\" />\n\nclass Person extends ZPerson {\n\n}","/// <reference path=\"Person.ts\"/>\n\nclass ZTeam extends DataObj{\n   protected TeamName_:string;\n   protected SeasonLabel_:string;\n   protected Coach_:string;\n   protected AssistantCoach_:string;\n   protected TeamManager_:string;\n   constructor(json:any){\n      super(json);\n      if (json.TeamName){\n         this.TeamName_=json.TeamName;\n      }\n      if (json.SeasonLabel){\n         this.SeasonLabel_=json.SeasonLabel;\n      }\n      if (json.Coach){\n         this.Coach_=json.Coach;\n      } else {\n         this.Coach_=null;\n      }\n      if (json.AssistantCoach){\n         this.AssistantCoach_=json.AssistantCoach;\n      } else {\n         this.AssistantCoach_=null;\n      }\n      if (json.TeamManager){\n         this.TeamManager_=json.TeamManager;\n      } else {\n         this.TeamManager_=null;\n      }\n   }\n   getTypeCode():string { return 'T';}\n   getTeamName():string {\n      return this.TeamName_;\n   }\n   setTeamName(newVal: string) {\n      if (this.TeamName_ != newVal){\n         this.TeamName_=newVal;\n         this.touch();\n      }\n   }\n   getSeasonLabel():string {\n      return this.SeasonLabel_;\n   }\n   setSeasonLabel(newVal: string) {\n      if (this.SeasonLabel_ != newVal){\n         this.SeasonLabel_=newVal;\n         this.touch();\n      }\n   }\n   getCoach():string {\n      return this.Coach_;\n   }\n   setCoach(newVal: string) {\n      if (this.Coach_ != newVal){\n         this.Coach_=newVal;\n         this.touch();\n      }\n   }\n   getAssistantCoach():string {\n      return this.AssistantCoach_;\n   }\n   setAssistantCoach(newVal: string) {\n      if (this.AssistantCoach_ != newVal){\n         this.AssistantCoach_=newVal;\n         this.touch();\n      }\n   }\n   getTeamManager():string {\n      return this.TeamManager_;\n   }\n   setTeamManager(newVal: string) {\n      if (this.TeamManager_ != newVal){\n         this.TeamManager_=newVal;\n         this.touch();\n      }\n   }\n   static GET(key:string,done:(err:string,data:Team)=>void,forceRequest?:boolean,serverContext?:ServerContext){\n      let tc=DataSource.typeFromKey(key);\n      if (!DataObj.checkTypeCode('T',tc)){ done(\"ERR wrong key \"+key+\" for Team.GET\",null);return}\n      super.GET(key,(err:string,data:DataObj)=>{\n         if (err){\n            done(err,null);\n         } else {\n            done(null,<Team>data);\n         }\n      },forceRequest,serverContext)\n   }\n   static cGET(key:string,forceRequest?:boolean):Team{\n      let tc=DataSource.typeFromKey(key);\n      if (!DataObj.checkTypeCode('T',tc)){ DB.msg(\"ERR wrong key \"+key+\" for Team.GET\",null); return null}\n      return <Team>(super.cGET(key,forceRequest));\n   }\n   static GETm(keys:string[],done:(err:string,data:Team[])=>void,forceRequest?:boolean,serverContext?:ServerContext){\n      if (!keys || keys.length==0){\n         done(null,[])\n         return\n      }\n      let tc=DataSource.typeFromKey(keys[0]);\n      if (!DataObj.checkTypeCode('T',tc)){ done(\"ERR wrong key \"+keys[0]+\" for Team.GETm\",null); return}\n      super.GETm(keys,(err:string,data:DataObj[])=>{\n         if (err){\n            done(err,null);\n         } else {\n            done(null,<Team[]>data);\n         }\n      },forceRequest,serverContext)\n   }\n   toJSON():any{\n      let rslt:any = {};\n      rslt._key=this._key\n      rslt._t_=\"T\";\n      rslt.TeamName=this.getTeamName();\n      rslt.SeasonLabel=this.getSeasonLabel();\n      rslt.Coach=this.getCoach();\n      rslt.AssistantCoach=this.getAssistantCoach();\n      rslt.TeamManager=this.getTeamManager();\n      return rslt;\n   }\n   \n   static byName(TeamName:StringQuery,done:(err:string,keys:string[])=>void,keysOnly?:boolean,forceRequest?:boolean,serverContext?:ServerContext){\n      super.FIND(\"T\",Query.dict({TeamName:TeamName }),done,keysOnly,forceRequest,serverContext)\n   }\n   \n   static byNameC(TeamName:StringQuery,keysOnly?:boolean,forceRequest?:boolean):string[]{\n      let ds = DataObj.globalSource;\n      return super.cFIND(\"T\",Query.dict({TeamName:TeamName }),keysOnly,forceRequest)\n   }\n}\n","/// <reference path=\"ZTeam.ts\" />\n\nclass Team extends ZTeam {\n\n  static makeNew(name: string,\n    done: (err: string, team: Team) => void) {\n    let newTeam = new Team({ TeamName: name });\n    newTeam.PUT((err: string, team: Team) => {\n      done(err, team);\n    })\n  }\n\n\n  static allTeams(): string[] {\n    return super.cFIND(\"T\", Query.dict({}), false, false);\n  }\n}","/// <reference path=\"Person.ts\"/>\n\nclass ZPlayer extends DataObj{\n   protected Person_:string;\n   protected JerseyNumber_:number;\n   protected Position_:string;\n   protected SecondaryPosition_:string;\n   constructor(json:any){\n      super(json);\n      if (json.Person){\n         this.Person_=json.Person;\n      } else {\n         this.Person_=null;\n      }\n      if (json.JerseyNumber){\n         this.JerseyNumber_=json.JerseyNumber;\n      } else {\n         this.JerseyNumber_=0;\n      }\n      if (json.Position){\n         this.Position_=json.Position;\n      }\n      if (json.SecondaryPosition){\n         this.SecondaryPosition_=json.SecondaryPosition;\n      }\n   }\n   getTypeCode():string { return 'PL';}\n   getPerson():string {\n      return this.Person_;\n   }\n   setPerson(newVal: string) {\n      if (this.Person_ != newVal){\n         this.Person_=newVal;\n         this.touch();\n      }\n   }\n   getJerseyNumber():number {\n      return this.JerseyNumber_;\n   }\n   setJerseyNumber(newVal: number) {\n      if (this.JerseyNumber_ != newVal){\n         this.JerseyNumber_=newVal;\n         this.touch();\n      }\n   }\n   getPosition():string {\n      return this.Position_;\n   }\n   setPosition(newVal: string) {\n      if (this.Position_ != newVal){\n         this.Position_=newVal;\n         this.touch();\n      }\n   }\n   getSecondaryPosition():string {\n      return this.SecondaryPosition_;\n   }\n   setSecondaryPosition(newVal: string) {\n      if (this.SecondaryPosition_ != newVal){\n         this.SecondaryPosition_=newVal;\n         this.touch();\n      }\n   }\n   static GET(key:string,done:(err:string,data:Player)=>void,forceRequest?:boolean,serverContext?:ServerContext){\n      let tc=DataSource.typeFromKey(key);\n      if (!DataObj.checkTypeCode('PL',tc)){ done(\"ERR wrong key \"+key+\" for Player.GET\",null);return}\n      super.GET(key,(err:string,data:DataObj)=>{\n         if (err){\n            done(err,null);\n         } else {\n            done(null,<Player>data);\n         }\n      },forceRequest,serverContext)\n   }\n   static cGET(key:string,forceRequest?:boolean):Player{\n      let tc=DataSource.typeFromKey(key);\n      if (!DataObj.checkTypeCode('PL',tc)){ DB.msg(\"ERR wrong key \"+key+\" for Player.GET\",null); return null}\n      return <Player>(super.cGET(key,forceRequest));\n   }\n   static GETm(keys:string[],done:(err:string,data:Player[])=>void,forceRequest?:boolean,serverContext?:ServerContext){\n      if (!keys || keys.length==0){\n         done(null,[])\n         return\n      }\n      let tc=DataSource.typeFromKey(keys[0]);\n      if (!DataObj.checkTypeCode('PL',tc)){ done(\"ERR wrong key \"+keys[0]+\" for Player.GETm\",null); return}\n      super.GETm(keys,(err:string,data:DataObj[])=>{\n         if (err){\n            done(err,null);\n         } else {\n            done(null,<Player[]>data);\n         }\n      },forceRequest,serverContext)\n   }\n   toJSON():any{\n      let rslt:any = {};\n      rslt._key=this._key\n      rslt._t_=\"PL\";\n      rslt.Person=this.getPerson();\n      rslt.JerseyNumber=this.getJerseyNumber();\n      rslt.Position=this.getPosition();\n      rslt.SecondaryPosition=this.getSecondaryPosition();\n      return rslt;\n   }\n   \n   static byPerson(Person:string,done:(err:string,keys:string[])=>void,keysOnly?:boolean,forceRequest?:boolean,serverContext?:ServerContext){\n      super.FIND(\"PL\",Query.dict({Person:Person }),done,keysOnly,forceRequest,serverContext)\n   }\n   \n   static byPersonC(Person:string,keysOnly?:boolean,forceRequest?:boolean):string[]{\n      let ds = DataObj.globalSource;\n      return super.cFIND(\"PL\",Query.dict({Person:Person }),keysOnly,forceRequest)\n   }\n   \n   static byNumber(JerseyNumber:NumberQuery,done:(err:string,keys:string[])=>void,keysOnly?:boolean,forceRequest?:boolean,serverContext?:ServerContext){\n      super.FIND(\"PL\",Query.dict({JerseyNumber:JerseyNumber }),done,keysOnly,forceRequest,serverContext)\n   }\n   \n   static byNumberC(JerseyNumber:NumberQuery,keysOnly?:boolean,forceRequest?:boolean):string[]{\n      let ds = DataObj.globalSource;\n      return super.cFIND(\"PL\",Query.dict({JerseyNumber:JerseyNumber }),keysOnly,forceRequest)\n   }\n}\n","/// <reference path=\"ZPlayer.ts\" />\n\nclass Player extends ZPlayer {\n\n}","/// <reference path=\"Player.ts\"/>\n\nclass ZGameEvent extends DataObj{\n   protected EventType_:string;\n   protected Time_:number;\n   protected Player_:string;\n   protected HomeScoreIncreased_:boolean;\n   protected AwayScoreIncreased_:boolean;\n   constructor(json:any){\n      super(json);\n      if (json.EventType){\n         this.EventType_=json.EventType;\n      }\n      if (json.Time){\n         this.Time_=json.Time;\n      } else {\n         this.Time_=0;\n      }\n      if (json.Player){\n         this.Player_=json.Player;\n      } else {\n         this.Player_=null;\n      }\n      this.HomeScoreIncreased_=json.HomeScoreIncreased;\n      this.AwayScoreIncreased_=json.AwayScoreIncreased;\n   }\n   getTypeCode():string { return 'GE';}\n   getEventType():string {\n      return this.EventType_;\n   }\n   setEventType(newVal: string) {\n      if (this.EventType_ != newVal){\n         this.EventType_=newVal;\n         this.touch();\n      }\n   }\n   getTime():number {\n      return this.Time_;\n   }\n   setTime(newVal: number) {\n      if (this.Time_ != newVal){\n         this.Time_=newVal;\n         this.touch();\n      }\n   }\n   getPlayer():string {\n      return this.Player_;\n   }\n   setPlayer(newVal: string) {\n      if (this.Player_ != newVal){\n         this.Player_=newVal;\n         this.touch();\n      }\n   }\n   getHomeScoreIncreased():boolean {\n      return this.HomeScoreIncreased_;\n   }\n   setHomeScoreIncreased(newVal: boolean) {\n      if (this.HomeScoreIncreased_ != newVal){\n         this.HomeScoreIncreased_=newVal;\n         this.touch();\n      }\n   }\n   getAwayScoreIncreased():boolean {\n      return this.AwayScoreIncreased_;\n   }\n   setAwayScoreIncreased(newVal: boolean) {\n      if (this.AwayScoreIncreased_ != newVal){\n         this.AwayScoreIncreased_=newVal;\n         this.touch();\n      }\n   }\n   toJSON():any{\n      let rslt:any = {};\n      rslt._t_=\"GE\";\n      rslt.EventType=this.getEventType();\n      rslt.Time=this.getTime();\n      rslt.Player=this.getPlayer();\n      rslt.HomeScoreIncreased=this.getHomeScoreIncreased();\n      rslt.AwayScoreIncreased=this.getAwayScoreIncreased();\n      return rslt;\n   }\n}\n","/// <reference path=\"ZGameEvent.ts\" />\n\nclass GameEvent extends ZGameEvent {\n\n\n}","/// <reference path=\"Team.ts\"/>\n/// <reference path=\"GameEvent.ts\"/>\n\nclass ZGame extends DataObj{\n   protected Team_:string;\n   protected HomeGame_:boolean;\n   protected Date_:string;\n   protected StartTime_:number;\n   protected EndTime_:number;\n   protected WinResult_:string;\n   protected GameEvents_:GameEvent[];\n   constructor(json:any){\n      super(json);\n      if (json.Team){\n         this.Team_=json.Team;\n      } else {\n         this.Team_=null;\n      }\n      this.HomeGame_=json.HomeGame;\n      if (json.Date){\n         this.Date_=json.Date;\n      }\n      if (json.StartTime){\n         this.StartTime_=json.StartTime;\n      } else {\n         this.StartTime_=0;\n      }\n      if (json.EndTime){\n         this.EndTime_=json.EndTime;\n      } else {\n         this.EndTime_=0;\n      }\n      if (json.WinResult){\n         this.WinResult_=json.WinResult;\n      }\n      if (json.GameEvents){\n         this.GameEvents_=<GameEvent[]>(DataObj.makeList('GE',json.GameEvents,this));\n      } else {\n         this.GameEvents_=[];\n      }\n   }\n   getTypeCode():string { return 'G';}\n   getTeam():string {\n      return this.Team_;\n   }\n   setTeam(newVal: string) {\n      if (this.Team_ != newVal){\n         this.Team_=newVal;\n         this.touch();\n      }\n   }\n   getHomeGame():boolean {\n      return this.HomeGame_;\n   }\n   setHomeGame(newVal: boolean) {\n      if (this.HomeGame_ != newVal){\n         this.HomeGame_=newVal;\n         this.touch();\n      }\n   }\n   getDate():string {\n      return this.Date_;\n   }\n   setDate(newVal: string) {\n      if (this.Date_ != newVal){\n         this.Date_=newVal;\n         this.touch();\n      }\n   }\n   getStartTime():number {\n      return this.StartTime_;\n   }\n   setStartTime(newVal: number) {\n      if (this.StartTime_ != newVal){\n         this.StartTime_=newVal;\n         this.touch();\n      }\n   }\n   getEndTime():number {\n      return this.EndTime_;\n   }\n   setEndTime(newVal: number) {\n      if (this.EndTime_ != newVal){\n         this.EndTime_=newVal;\n         this.touch();\n      }\n   }\n   getWinResult():string {\n      return this.WinResult_;\n   }\n   setWinResult(newVal: string) {\n      if (this.WinResult_ != newVal){\n         this.WinResult_=newVal;\n         this.touch();\n      }\n   }\n   getGameEvents():GameEvent[] {\n      let tmp:GameEvent[] = [];\n      for (let i in this.GameEvents_){\n         tmp.push(this.GameEvents_[i]);\n      }\n      return tmp;\n   }\n   setGameEvents(val: GameEvent[]) {\n      let tmp:GameEvent[] = [];\n      for (let i in val){\n         tmp.push(val[i]);\n         val[i].parent=this;\n      }\n      this.GameEvents_ = tmp;\n      this.touch();\n   }\n   static GET(key:string,done:(err:string,data:Game)=>void,forceRequest?:boolean,serverContext?:ServerContext){\n      let tc=DataSource.typeFromKey(key);\n      if (!DataObj.checkTypeCode('G',tc)){ done(\"ERR wrong key \"+key+\" for Game.GET\",null);return}\n      super.GET(key,(err:string,data:DataObj)=>{\n         if (err){\n            done(err,null);\n         } else {\n            done(null,<Game>data);\n         }\n      },forceRequest,serverContext)\n   }\n   static cGET(key:string,forceRequest?:boolean):Game{\n      let tc=DataSource.typeFromKey(key);\n      if (!DataObj.checkTypeCode('G',tc)){ DB.msg(\"ERR wrong key \"+key+\" for Game.GET\",null); return null}\n      return <Game>(super.cGET(key,forceRequest));\n   }\n   static GETm(keys:string[],done:(err:string,data:Game[])=>void,forceRequest?:boolean,serverContext?:ServerContext){\n      if (!keys || keys.length==0){\n         done(null,[])\n         return\n      }\n      let tc=DataSource.typeFromKey(keys[0]);\n      if (!DataObj.checkTypeCode('G',tc)){ done(\"ERR wrong key \"+keys[0]+\" for Game.GETm\",null); return}\n      super.GETm(keys,(err:string,data:DataObj[])=>{\n         if (err){\n            done(err,null);\n         } else {\n            done(null,<Game[]>data);\n         }\n      },forceRequest,serverContext)\n   }\n   toJSON():any{\n      let rslt:any = {};\n      rslt._key=this._key\n      rslt._t_=\"G\";\n      rslt.Team=this.getTeam();\n      rslt.HomeGame=this.getHomeGame();\n      rslt.Date=this.getDate();\n      rslt.StartTime=this.getStartTime();\n      rslt.EndTime=this.getEndTime();\n      rslt.WinResult=this.getWinResult();\n      rslt.GameEvents=[];\n      let tmp_GameEvents=this.getGameEvents()\n      for (let i in tmp_GameEvents){\n         rslt.GameEvents.push((tmp_GameEvents[i]).toJSON());\n      }\n      return rslt;\n   }\n   \n   static byDate(Date:StringQuery,done:(err:string,keys:string[])=>void,keysOnly?:boolean,forceRequest?:boolean,serverContext?:ServerContext){\n      super.FIND(\"G\",Query.dict({Date:Date }),done,keysOnly,forceRequest,serverContext)\n   }\n   \n   static byDateC(Date:StringQuery,keysOnly?:boolean,forceRequest?:boolean):string[]{\n      let ds = DataObj.globalSource;\n      return super.cFIND(\"G\",Query.dict({Date:Date }),keysOnly,forceRequest)\n   }\n   \n   static byHome(HomeGame:boolean,done:(err:string,keys:string[])=>void,keysOnly?:boolean,forceRequest?:boolean,serverContext?:ServerContext){\n      super.FIND(\"G\",Query.dict({HomeGame:HomeGame }),done,keysOnly,forceRequest,serverContext)\n   }\n   \n   static byHomeC(HomeGame:boolean,keysOnly?:boolean,forceRequest?:boolean):string[]{\n      let ds = DataObj.globalSource;\n      return super.cFIND(\"G\",Query.dict({HomeGame:HomeGame }),keysOnly,forceRequest)\n   }\n   \n   static byWinResult(WinResult:StringQuery,done:(err:string,keys:string[])=>void,keysOnly?:boolean,forceRequest?:boolean,serverContext?:ServerContext){\n      super.FIND(\"G\",Query.dict({WinResult:WinResult }),done,keysOnly,forceRequest,serverContext)\n   }\n   \n   static byWinResultC(WinResult:StringQuery,keysOnly?:boolean,forceRequest?:boolean):string[]{\n      let ds = DataObj.globalSource;\n      return super.cFIND(\"G\",Query.dict({WinResult:WinResult }),keysOnly,forceRequest)\n   }\n}\n","/// <reference path=\"ZGame.ts\"/>\n\nclass Game extends ZGame {\n\n}","/// <reference path=\"Team.ts\"/>\n/// <reference path=\"Person.ts\"/>\n/// <reference path=\"Player.ts\"/>\n/// <reference path=\"Game.ts\"/>\n/// <reference path=\"GameEvent.ts\"/>\n\nfunction ZMake(expectedType:string,json:any):DataObj {\n   let type:string=json._t_;\n   if (!DataObj.checkTypeCode(expectedType,type)){\n      console.log('ERR expecting '+expectedType+' got '+type,json);\n      return null\n   }\n   if (!type){\n      type=expectedType;\n   }\n   switch(type){\n      \n      case \"T\":\n         return new Team(json);\n      case \"P\":\n         return new Person(json);\n      case \"PL\":\n         return new Player(json);\n      case \"G\":\n         return new Game(json);\n      case \"GE\":\n         return new GameEvent(json);\n      default:\n         console.log('ERR bad typeCode '+type+' on',json);\n         return null\n      \n   }\n   return null;\n}\nDataObj.make=ZMake;\nfunction ZMakeList(expectedType:string,json:any[],parent:DataObj):DataObj[] {\n   let rslt:DataObj[] = [];\n   for (let i in json){\n      let obj:DataObj = ZMake(expectedType,json[i]);\n      obj.parent=parent;\n      rslt.push(obj); \n   }\n   return rslt;\n}\nDataObj.makeList=ZMakeList;\nfunction ZMakeDict(expectedType:string,json:any,parent:DataObj):{[k:string]:DataObj} {\n   let rslt:{[k:string]:DataObj}={};\n   for (let k in json){\n      let obj:DataObj = ZMake(expectedType,json[k]);\n      obj.parent=parent;\n      rslt[k]=obj; \n   }\n   return rslt;\n}\nDataObj.makeDict=ZMakeDict;\n\nDataObj.classInfo={\n   \"T\":{ \"className\":\"Team\",\"superCode\":\"\", \"keyed\":true,\n      fields: {\n         TeamName:{ type:\"string\", isList:false, isDict:false},\n         SeasonLabel:{ type:\"string\", isList:false, isDict:false},\n         Coach:{ type:\"Person\", isList:false, isDict:false},\n         AssistantCoach:{ type:\"Person\", isList:false, isDict:false},\n         TeamManager:{ type:\"Person\", isList:false, isDict:false},\n      },\n   },\n   \"P\":{ \"className\":\"Person\",\"superCode\":\"\", \"keyed\":true,\n      fields: {\n         FirstName:{ type:\"string\", isList:false, isDict:false},\n         LastName:{ type:\"string\", isList:false, isDict:false},\n         Email:{ type:\"string\", isList:false, isDict:false},\n         Phone:{ type:\"string\", isList:false, isDict:false},\n      },\n   },\n   \"PL\":{ \"className\":\"Player\",\"superCode\":\"\", \"keyed\":true,\n      fields: {\n         Person:{ type:\"Person\", isList:false, isDict:false},\n         JerseyNumber:{ type:\"number\", isList:false, isDict:false},\n         Position:{ type:\"string\", isList:false, isDict:false},\n         SecondaryPosition:{ type:\"string\", isList:false, isDict:false},\n      },\n   },\n   \"G\":{ \"className\":\"Game\",\"superCode\":\"\", \"keyed\":true,\n      fields: {\n         Team:{ type:\"Team\", isList:false, isDict:false},\n         HomeGame:{ type:\"boolean\", isList:false, isDict:false},\n         Date:{ type:\"string\", isList:false, isDict:false},\n         StartTime:{ type:\"number\", isList:false, isDict:false},\n         EndTime:{ type:\"number\", isList:false, isDict:false},\n         WinResult:{ type:\"string\", isList:false, isDict:false},\n         GameEvents:{ type:\"GameEvent\", isList:true, isDict:false},\n      },\n   },\n   \"GE\":{ \"className\":\"GameEvent\",\"superCode\":\"\", \"keyed\":false,\n      fields: {\n         EventType:{ type:\"string\", isList:false, isDict:false},\n         Time:{ type:\"number\", isList:false, isDict:false},\n         Player:{ type:\"Player\", isList:false, isDict:false},\n         HomeScoreIncreased:{ type:\"boolean\", isList:false, isDict:false},\n         AwayScoreIncreased:{ type:\"boolean\", isList:false, isDict:false},\n      },\n   },\n}\n","\n/// <reference path=\"../../aaswZing/Zing/data/RightsManager.ts\"/>\n/// <reference path=\"../../aaswZing/Zing/data/UserManager.ts\"/>\n\nclass AllRightsManager extends RightsManager {\n  constructor(dataSource: DataSource, userManager = new NoUserManager()) {\n    super(dataSource, userManager);\n  }\n  checkGET(key: string, serverContext: ServerContext, done: (granted: boolean) => void) {\n    done(true);\n  }\n\n  checkGETBlob(blobKey: string, serverContext, done: (granted: boolean) => void) {\n    done(true);\n  }\n  checkPUT(obj: DataObj, serverContext: ServerContext, done: (granted: boolean) => void) {\n    done(true);\n  }\n\n  checkPUTBlob(serverContext: ServerContext, done: (granted: boolean) => void) {\n    done(true);\n  }\n  checkDELETE(key: string, serverContext: ServerContext, done: (granted: boolean) => void) {\n    done(true);\n  }\n  checkFIND(typeCode: string, search: Query, serverContext: ServerContext, done: (granted: boolean) => void) {\n    done(true);\n  }\n}\n\nclass NoUserManager extends UserManager {\n  login(userName: string, password: string, done: (err: string, user: DataObj) => void,\n    serverContext: ServerContext) {\n    done(null, null);\n  }\n\n  getUserKey(serverContext?: ServerContext): string {\n    return \"anonymous\";\n  }\n\n}","\n/// <reference path=\"typings/jquery.d.ts\"/>\n/// <reference path=\"./ZUITypes.ts\"/>\n/// <reference path=\"../data/DataObj.ts\"/>\n\nclass ZUI {\n    protected content:ZUI;\n    renderJQ():JQuery{\n        //return this.content.style(this.classStr()).renderJQ();\n        let jq = this.content.renderJQ();\n        let classes = this.classStr();\n        jq.addClass(classes);\n        if (this.css_){\n            jq.attr('style',ZUI.stringVal(this.css_))\n        }\n        return jq;\n    }\n    static pageManager:PageManager;\n    constructor(){\n    }\n    static notifyCount=0;\n    static notify(){ \n        if (this.notifyCount<3){\n            this.notifyCount+=1;\n            try {\n                if (ZUI.pageManager)\n                    ZUI.pageManager.notify();\n            } finally {\n                this.notifyCount-=1;\n            }\n        }\n    }\n    protected css_:StringF;\n    css(c:StringF):ZUI{\n        this.css_=c;\n        return this;\n    }\n    protected applyCSS(jq:JQuery){\n        if (this.css_){\n            let css = ZUI.stringVal(this.css_);\n            jq.attr(\"style\",css);\n        }\n    }\n    protected field_:string;\n    field(f:string):ZUI{\n        this.field_=f;\n        return this;\n    }\n    protected style_:StringF;\n    style(s:StringF):ZUI{\n        this.style_=s;\n        return this;\n    }\n\n    protected hideShow_:BooleanF;\n    hideShow(hs:BooleanF):ZUI{\n        this.hideShow_=hs;\n        return this;\n    }\n    hide():boolean{\n        if (this.hideShow_ instanceof Function){\n            return this.hideShow_();\n        } else {\n            return this.hideShow_;\n        }\n    }\n\n    static stringVal(content:StringF):string {\n        let val = \"\";\n        if (content instanceof Function){\n            val = content();\n        } else {\n            val=content;\n        }\n        if (!val)\n            val=\"\";\n        return val;\n    }\n    static numberVal(content:NumberF):number{\n        let val = 0;\n        if (content instanceof Function){\n            val = content();\n        } else {\n            val=content;\n        }\n        return val;\n    }\n    \n    classStr():string{\n        let str = \"\";\n        if (this.style_){\n            let classes = ZUI.stringVal(this.style_);\n            str =  classes+\" \";\n        } else\n            str =  \"\";\n        if (this.hideShow_){\n            let hs = this.hide();\n            if (hs)\n                str+=\" hidden \";\n        }\n        return str;\n    }\n    \n    uniqueId():string {\n        let id:string = \"i\"+Math.floor(Math.random()*1000000);\n        return id;\n    }\n    waiting():JQuery{\n        return $(\"<div>Waiting</div>\");         // replace this with a spinner icon\n    }\n    error(msg:string):JQuery{\n        return $(`ZUI ERROR ${msg}`)\n    }\n    static setState(fieldName:string,newVal:any){\n        let pm = ZUI.pageManager;\n        if (pm){\n            let cp = pm.curPage;\n            if (cp){\n                let ps = cp.pageState;\n                if (ps) ps[fieldName]=newVal;\n            }\n        }\n    }\n    static getState(fieldName:string):any{\n        let pm = ZUI.pageManager;\n        if (pm){\n            let cp = pm.curPage;\n            if (cp){\n                let ps = cp.pageState;\n                if (ps)  return ps[fieldName];\n            }\n        }\n        return null;\n    }\n    static getUserKey():string{\n        return ZUI.pageManager.getUserManager().getUserKey();\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass TextUI extends ZUI{\n    private textS:StringF;\n    constructor(text:StringF){\n        super();\n        this.textS=text;\n    }\n    renderJQ():JQuery{\n        let val = ZUI.stringVal(this.textS);\n        let jq = $(`<div class='TextUI ${this.classStr()}'>${val}</div>`);\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass ButtonUI extends ZUI{\n    title:StringF;\n    onclick:(event:Event)=>void;\n    enabled:()=>boolean;\n    constructor(title:StringF){\n        super();\n        this.title=title;\n    }\n    click(onclick:(event:Event)=>void):ButtonUI{\n        this.onclick=onclick;\n        return this;\n    }\n    enable(enabled:()=>boolean):ButtonUI {\n        this.enabled=enabled;\n        return this;\n    }\n    renderJQ():JQuery{\n        let title = ZUI.stringVal(this.title);\n        let jq = $(`<button class='ButtonUI ${this.classStr()}' ></button>`);\n        if (this.enabled && !this.enabled()){\n            jq.addClass(\"ButtonUI-disabled\");\n        }\n        jq.html(title);\n        if((!this.enabled || this.enabled()) && this.onclick){\n            jq.click((event)=>{\n                this.onclick(event);\n            })\n        }\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass InputUI extends ZUI {\n    getF_:Fstring;\n    setF_:StringSetF;\n    phF:StringF;\n    fieldType:string;\n    constructor(fieldType?:string){\n        super();\n        this.getF_=null;\n        this.setF_=null;\n        this.phF=null;\n        this.fieldType=fieldType;\n        if (!fieldType)\n            this.fieldType=\"text\";\n    }\n    getF(getFF:Fstring):InputUI{ \n        this.getF_=getFF;\n        return this;\n    }\n    setF(setFF:StringSetF):InputUI{\n        this.setF_=setFF;\n        return this;\n    }\n\n    placeHolder(phF:StringF):InputUI{\n        this.phF=phF;\n        return this;\n    }\n    renderJQ():JQuery {\n        let val = ZUI.stringVal(this.getF_);\n        let ph = ZUI.stringVal(this.phF);\n        let jq = $(`<input type='${this.fieldType}' class='InputUI ${this.classStr()}' value='${val}' placeholder='${ph}'/>`);\n        jq.click((event)=>{\n            event.stopImmediatePropagation()\n        })\n        jq.on(\"change\",(event)=>{\n            let newVal = jq.val();\n            if (this.setF_){\n                this.setF_(<string>newVal);\n                jq.val(this.getF_());\n            }\n        })\n        jq.on(\"paste\",(event)=>{\n            let oe:any = event.originalEvent;\n            let content = oe.clipboardData.getData('text/plain');\n            //DB.msg(`Paste \"${content}`);\n            this.setF_(content);\n        })\n        jq.on('drop',(event)=>{\n            event.preventDefault();\n            let oe:any=event.originalEvent;\n            let data = oe.dataTransfer.getData(\"Text\");\n            //DB.msg(`Drop ${data}`)\n            this.setF_(data);\n        })\n        this.applyCSS(jq);\n        return jq;\n    }   \n}","/// <reference path=\"InputUI.ts\"/>\n\nclass TextFieldUI extends InputUI {\n    getF_:Fstring;\n    setF_:StringSetF;\n    phF:StringF;\n    constructor(fieldType?:\"text\" | \"password\" | \"number\" | \"email\" | \"url\"){\n        super(fieldType);\n        this.getF_=null;\n        this.setF_=null;\n        this.phF=null;\n    }\n\n \n}\n","/// <reference path=\"../data/DataSource.ts\"/>\n/// <reference path=\"ZUI.ts\"/>\n\ntype PageState = { [stateVarName: string]: string };\ntype PageMap = { [pageName: string]: (state: PageState) => Page };\nclass PageManager implements DataMonitor {\n    dataSource: DataSource;\n    pageContentSelector: string;\n    homePage: Page;\n    private static pageMap: PageMap = {};\n    private static curManager: PageManager;\n    curPage: Page;\n    private root: string;\n    constructor(dataSource: DataSource, homePage: Page, pageContentSelector: string) {\n        PageManager.curManager = this;\n        this.dataSource = dataSource;\n        dataSource.setDataMonitor(this);\n        this.homePage = homePage;\n        homePage.pageManager = this;\n        this.curPage = null;\n        this.pageContentSelector = pageContentSelector;\n        let windowPath = window.location.pathname;\n        window.onpopstate = (ev: PopStateEvent) => {\n            this.doPopState(ev.state);\n        }\n\n        this.pageFromURLPath(windowPath);\n        this.notify();\n    }\n    getPageState(): PageState {\n        return this.curPage.pageState;\n    }\n    private static GETPageState(): PageState {\n        return PageManager.curManager.curPage.pageState;\n    }\n    static GOTO(pageName: string, newState: PageState = PageManager.GETPageState()) {\n        PageManager.curManager.goto(pageName, newState);\n    }\n    goto(pageName: string, newState: PageState = this.getPageState()) {\n        if (PageManager.curManager && PageManager.curManager.curPage)\n            newState.__pageName = pageName;\n\n        let newURL = this.setupNextPage(pageName, newState);\n        history.replaceState(newState, null, newURL);\n        PageManager.curManager.notify();\n    }\n    static PUSHTO(pageName: string, newState: PageState = PageManager.GETPageState()) {\n        PageManager.curManager.pushto(pageName, newState);\n    }\n    pushto(pageName: string, newState: PageState = this.getPageState()) {\n        if (PageManager.curManager && PageManager.curManager.curPage)\n            newState.__pageName = pageName;\n        let newURL = this.setupNextPage(pageName, newState);\n        history.pushState(newState, null, newURL);\n        PageManager.curManager.notify();\n    }\n    private setupNextPage(pageName: string, newState: PageState) {\n        let pageF: (state: PageState) => Page = PageManager.pageMap[pageName];\n        if (pageF) {\n            let newPage = pageF(newState);\n            if (newPage) {\n                PageManager.curManager.curPage = newPage;\n                newPage.pageManager = this;\n            } else {\n                DB.msg(`page function on ${pageName} returned no page`, newState);\n            }\n        } else {\n            DB.msg(\"no registerd page for \" + pageName);\n        }\n        let root = PageManager.curManager.root;\n        let queryStr = PageManager.queryFromState(newState);\n        let newURL = root + \"/pg/\" + pageName + queryStr;\n        return newURL;\n    }\n    private static queryFromState(newState: any) {\n        if (typeof newState == \"object\") {\n            let first = true;\n            let queryStr = \"\";\n            for (let paramName in newState) {\n                if (paramName != \"__pageName\") {\n                    let param = newState[paramName];\n                    if (typeof param == \"string\") {\n                        let paramStr = paramName + '=' + param;\n                        paramStr = encodeURI(paramStr);\n                        if (first) {\n                            first = false;\n                            queryStr = \"?\" + paramStr;\n                        } else {\n                            queryStr += \"&\" + paramStr;\n                        }\n                    }\n                }\n            }\n            return queryStr;\n        } else {\n            return \"\";\n        }\n    }\n    getUserManager(): UserManager {\n        let ds = this.dataSource;\n        if (ds) {\n            let rm = ds.getRightsManager();\n            if (rm) {\n                let um = rm.userManager;\n                return um;\n            }\n        }\n        return null;\n    }\n    getUser(done: (user: DataObj) => void) {\n        let um = this.getUserManager();\n        if (um) {\n            um.getUser(done);\n        } else {\n            done(null);\n        }\n    }\n    getUserKey(): string {\n        let um = this.getUserManager();\n        let uk = um.getUserKey();\n        return uk;\n    }\n    notify() {\n        let pageContent = $(this.pageContentSelector);\n        pageContent.empty();\n        if (this.curPage) {\n            let newContent = this.curPage.renderJQ();\n            pageContent.empty();\n            pageContent.append(newContent);\n            PageManager.afterDOMNotify();\n        } else {\n            pageContent.html(\"******************** No Cur Page ***********************\");\n\n        }\n    }\n    static BACK() {\n        PageManager.curManager.back();\n    }\n    back() {\n      history.back();\n      PageManager.curManager.notify();\n    }\n\n    static registerPageFactory(pageName: string, factory: (state: PageState) => Page) {\n        PageManager.pageMap[pageName] = factory;\n    }\n    private doPopState(state: PageState) {\n        if (!state) {\n            let pn = this.homePage.pageName();\n            this.setupNextPage(pn, { __pageName: pn });\n            PageManager.curManager.notify();\n            return;\n        }\n        if (state.__pageName) {\n            this.setupNextPage(state.__pageName, state);\n            PageManager.curManager.notify();\n        }\n    }\n    private pageFromURLPath(windowPath: string) {\n\n        let query = window.location.search;\n        let newState = this.stateFromQuery(query);\n        let parts = windowPath.split(\"/pg/\");\n        let pageName = parts[1] || \"\";\n        this.root = parts[0];\n        if (this.root.length <= 1)\n            this.root = \"/client\";\n        if (!this.getUserKey()) {\n            this.curPage = this.homePage;\n        } else {\n            if (pageName.length == 0) {\n                this.curPage = this.homePage;\n                newState.__pageName = this.homePage.pageName();\n            } else {\n                let newPageF = PageManager.pageMap[pageName];\n                if (newPageF) {\n                    newState.__pageName = pageName;\n                    this.curPage = newPageF(newState);\n                } else {\n                    DB.msg(\"no such page as \" + pageName);\n                }\n            }\n        }\n        this.curPage.pageManager = this;\n        this.notify();\n    }\n    private stateFromQuery(query: string): PageState {\n        let rslt: PageState = {};\n        let decQuery = decodeURI(query);\n        let qParts: string[] = decQuery.split(\"&\");\n        for (let i in qParts) {\n            let qPart = qParts[i];\n            let eqParts: string[] = qPart.split(\"=\");\n            let name = eqParts[0];\n            let val = eqParts[1];\n            if (name.length > 0)\n                rslt[name] = val;\n        }\n        return rslt;\n    }\n    private static afterDOMList: any[];\n    static addAfterDOMNotice(noticeF: () => void) {\n        if (!PageManager.afterDOMList) {\n            PageManager.afterDOMList = [];\n        }\n        PageManager.afterDOMList.push(noticeF);\n    }\n    private static afterDOMNotify() {\n        for (let i in PageManager.afterDOMList) {\n            let f = <() => void>PageManager.afterDOMList[i];\n            f();\n        }\n    }\n}\n\nabstract class Page extends ZUI {\n    pageState: PageState;\n    pageManager: PageManager;\n    constructor(pageState: PageState) {\n        super();\n        this.pageState = pageState;\n        this.pageManager = null;\n\n    }\n    notify() {\n        this.pageManager.notify();\n    }\n    getUserManager(): UserManager {\n        let ds = DataObj.globalSource;\n        if (ds) {\n            let rm = ds.getRightsManager();\n            if (rm) {\n                return rm.userManager;\n            }\n        }\n        return null;\n    }\n    getUserKey(): string {\n        let um = this.getUserManager();\n        if (um) {\n            return um.getUserKey(null);\n        }\n        return null;\n    }\n    abstract pageName(): string;\n}","/// <reference path=\"ZUI.ts\"/>\n/// <reference path=\"PageManager.ts\"/>\n\nclass TabUI extends ZUI {\n    items:TabUIDesc[];\n    selectedTabIdx:number;\n    constructor(){\n        super();\n        this.items=[];\n        this.selectedTabIdx=0;\n    }\n    tab(tabTitle:string,tabView:ZUIF):TabUI{\n        let desc:TabUIDesc = {tabTitle:tabTitle,tabView:tabView,renderTabView:null};\n        this.items.push(desc);\n        return this;\n    }\n    renderJQ():JQuery{\n        let jq=$(`<div class=\"TabUI ${this.style_}\"></div>`);\n        let tabBar = this.renderTabBar();\n        jq.append(tabBar);\n        if (!this.items[this.selectedTabIdx].renderTabView){\n            if (typeof this.items[this.selectedTabIdx].tabView == 'function'){\n                let tv = (<any>(this.items[this.selectedTabIdx])).tabView()\n                this.items[this.selectedTabIdx].renderTabView=tv;\n            } else {\n                this.items[this.selectedTabIdx].renderTabView=<ZUI>this.items[this.selectedTabIdx].tabView\n            }\n        }\n        let pane = this.items[this.selectedTabIdx].renderTabView.renderJQ();\n        jq.append(pane);\n        this.applyCSS(jq);\n        return jq;\n    }\n    protected renderTabBar(){\n        let bar = $(`<div class=\"TabUI-bar ${this.style_}-bar\"></div>`);\n        for (let i in this.items){\n            let desc = this.items[i];\n            let btn = this.renderTabBtn(i,desc);\n            bar.append(btn);\n        }\n        return bar;\n    }\n    protected renderTabBtn(i,desc:TabUIDesc):JQuery{\n        let btn = $(`<div class=\"TabUI-btn ${this.style_}-btn\">${desc.tabTitle}</div>`);\n        if (i==this.selectedTabIdx){\n            btn.addClass(\"TabUI-selected\");\n            btn.addClass(`${this.style_}-selected`);\n        }\n        PageManager.addAfterDOMNotice(()=>{\n            btn.click(()=>{\n                if (this.selectedTabIdx!=i){\n                    this.selectedTabIdx=i;\n                    if (typeof desc.tabView == 'function'){\n                        desc.renderTabView = desc.tabView();\n                    } else {\n                        desc.renderTabView=desc.tabView\n                    }\n                    ZUI.notify();\n                }\n            })\n        })\n        return btn;\n    }\n}\ntype TabUIDesc = {\n    tabTitle:string,\n    tabView:ZUIF,\n    renderTabView:ZUI\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass DivUI extends ZUI{\n    items: ZUIListF;\n    constructor(items:ZUIListF){\n        super();\n        this.items = items;\n    }\n    renderJQ():JQuery{\n        let items:ZUI[]=null;\n        if (this.items instanceof Function)\n            items = this.items();\n        else\n            items = this.items;\n        let jq = $(`<div class='DivUI ${this.classStr()}'></div>`);\n\n        for (let i in items){\n            let curItem=items[i];\n            let itemJQ = curItem.renderJQ();\n            jq.append(itemJQ);\n        }\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\ntype TypeSwitchUIChoice = {\n    typeCode:string;\n    zui:ZUI;\n}\nclass TypeSwitchUI extends ZUI{\n    choices: TypeSwitchUIChoice[];\n    model:DataObj;\n    constructor(){\n        super();\n        this.choices=[];\n        this.model=null;\n    }\n    choice(typeCode:string, controller:ZUI):TypeSwitchUI{\n        let choice:TypeSwitchUIChoice = {\n            typeCode:typeCode,\n            zui:controller\n        }\n        this.choices.push(choice);\n        return this;\n    }\n    renderJQ():JQuery{\n        let jq = $(`<div class='TypeSwitchUI ${this.classStr()}'></div>`);\n        if (this.model && this.model instanceof DataObj){\n            let tc = this.model.getTypeCode();\n            for (let i in this.choices){\n                let choice = this.choices[i];\n                if (choice.typeCode == tc){\n                    let choiceJQ = choice.zui.renderJQ();\n                    jq.append(choiceJQ);\n                    break;\n                }\n            }\n        }\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass OpenCloseUI extends ZUI{\n    headerZ:ZUI;\n    hideShowFZ:FZUI;\n    hideShowZ:ZUI;\n    hidden:boolean;\n    hideShowJQ:JQuery;\n    arrowBoxJQ:JQuery;\n\n    constructor(headerUI:ZUI,hideShowUI:FZUI,initialOpen?:boolean){\n        super();\n        this.headerZ=headerUI;\n        this.hideShowFZ=hideShowUI;\n        this.hidden=!initialOpen;\n        this.hideShowZ=null;\n    }\n    renderJQ():JQuery{\n        //DB.start(\"OpenCloseUI renderJQ\");\n        let containerJQ = $(`<div class='HideShowUI ${this.classStr()}'></div>`);\n        this.arrowBoxJQ = this.arrowBox();\n        containerJQ.append(this.arrowBoxJQ);\n        let headerJQ = $(\"<div class='HideShowUIHeaderBar'></div>\")\n            .click(()=>{ this.openCloseClick()})\n        containerJQ.append(headerJQ);\n        if (this.headerZ){\n            let headerZ = this.headerZ.renderJQ();\n            headerJQ.append(headerZ);\n        }\n        if (!this.hideShowJQ){\n            this.hideShowJQ = $(`<div class='HideShowUIContent'></div>`);\n        }\n        if (!this.hidden && !this.hideShowZ){\n            this.hideShowZ=this.hideShowFZ();\n        }\n        if (this.hideShowZ){\n            this.hideShowJQ.empty();\n            this.hideShowJQ.append(this.hideShowZ.renderJQ());\n        }\n        \n        containerJQ.append(this.hideShowJQ);\n        this.refreshArrow();\n        //DB.end(\"OpenCloseUI renderJQ\");\n        this.applyCSS(containerJQ);\n        return containerJQ;\n    }\n    protected arrowBox():JQuery{\n        let box = $(\"<div class='arrowbox'></div>\");\n        box.click(()=>{\n            this.openCloseClick();\n        })\n        return box;\n    }\n    protected openCloseClick(){\n        this.hidden=!this.hidden;\n        this.refreshArrow();\n        ZUI.notify();\n    }\n    protected refreshArrow(){\n        if (this.hidden){\n            this.arrowBoxJQ.addClass(\"rightArrowBtn\");\n            this.arrowBoxJQ.removeClass(\"downArrowBtn\");\n            if (this.hideShowJQ)\n                this.hideShowJQ.addClass(\"hidden\");\n        } else {\n            this.arrowBoxJQ.removeClass(\"rightArrowBtn\");\n            this.arrowBoxJQ.addClass(\"downArrowBtn\");\n            if (this.hideShowJQ)\n                this.hideShowJQ.removeClass(\"hidden\");\n        }\n    }\n}\n","/// <reference path=\"ZUI.ts\"/>\n/// <reference path=\"DivUI.ts\"/>\n\nclass KeyListUI extends DivUI{\n    protected keyListF:()=>KeyString[];\n    protected itemViewF:(objKey:string)=>ZUI;\n    protected keyMap:{ [objKey:string]:ZUI};\n    protected sortF:(key1:string, key2:string)=>number;\n    constructor(keyListF:()=>KeyString[]){\n        super([]);\n        //DB.msg(\"KeyListUI - const\");\n        this.keyListF=keyListF;\n        this.keyMap={};\n        this.style(\"KeyListUI\");\n    }\n    itemView(itemViewF:(objKey:string)=>ZUI):KeyListUI{\n        this.itemViewF=itemViewF;\n        return this;\n    }\n    sort(sortF:(key1:string, key2:string)=>number):KeyListUI{\n        this.sortF=sortF;\n        return this;\n    }\n    protected buildKeyViewList(){\n        //DB.start(\"KeyListUI.buildKeyViewList\");\n        let newKeyMap:{ [objKey:string]:ZUI} = {};\n        let keyList = this.keyListF();\n        if (keyList && this.sortF){\n            keyList.sort(this.sortF);\n        }\n        this.items=[];\n        for (let i in keyList){\n            let key = keyList[i];\n            let viewZUI = this.keyMap[key];\n            if (!viewZUI){\n                viewZUI = this.itemViewF(key);\n            }\n            newKeyMap[key]=viewZUI;\n            this.items.push(viewZUI);\n        }\n        this.keyMap = newKeyMap;\n        \n        //DB.end(\"KeyListUI.buildKeyViewList\");\n    }\n    renderJQ():JQuery{\n        this.buildKeyViewList();\n        return super.renderJQ();\n    }\n\n}","/// <reference path=\"ZUI.ts\"/>\n\ntype MessageUIContent = { \n    msgType: \"error\" | \"inform\";\n    msg:string;\n}\nclass Messages extends ZUI {\n    messageList:MessageUIContent[];\n    static curMessages:Messages;\n    constructor(){\n        super();\n        this.messageList=[];\n        Messages.curMessages=this;\n    }\n    renderJQ():JQuery{\n        let div = $(`<div class='Messages ${this.classStr()}'></div>`);\n        for (let i in this.messageList){\n            let msg = this.messageList[i];\n            let msgDiv = this.newMessage(msg);\n            div.append(msgDiv);\n        }\n        this.applyCSS(div);\n        return div;\n    }\n    private newMessage(msg:MessageUIContent):JQuery{\n        let mDiv = null;\n        if (msg.msgType==\"error\") \n            mDiv = $(`<div class='MessageError'>${msg.msg}</div>`);\n        else\n            mDiv = $(`<div class='MessageInform'>${msg.msg}</div>`);\n        return mDiv;\n    }\n    static error(msg:string){\n        Messages.curMessages.messageList.push({msgType:\"error\", msg:msg });\n        ZUI.notify();\n    }\n    static inform(msg:string){\n        Messages.curMessages.messageList.push({msgType:\"inform\", msg:msg });\n        ZUI.notify();\n    }\n    static clear(){\n        Messages.curMessages.messageList=[];\n        ZUI.notify();\n    }\n    static hasMessages():boolean{\n        return Messages.curMessages.messageList.length>0;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\n\nclass SelectUI extends ZUI{\n    selectF:()=>string;\n    choices:{ [selectCode:string]:ZUIF};\n    constructor(selectF:()=>string){\n        super();\n        this.selectF=selectF;\n        this.choices={};\n    }\n    choice(selectCode:string,ui:ZUIF):SelectUI{\n        this.choices[selectCode]=ui;\n        return this;\n    }\n    renderJQ():JQuery{\n        let select = this.selectF();\n        let selected = this.choices[select];\n        if (selected) {\n            if (selected instanceof ZUI)\n                return selected.renderJQ();\n            else\n                return selected().renderJQ();\n        } else if (this.choices[\"_default_\"]){\n            let sel = this.choices[\"_default_\"];\n            if (sel instanceof ZUI)\n                return sel.renderJQ();\n            else\n                return sel().renderJQ();\n        } else {\n            return this.error(\"Bad selection \"+select);\n        }\n    }\n}","\nclass Modal {\n    static alert(message:string){\n        let zui = new TextUI(message);\n        Modal.show(zui,{\n            \"OK\":()=>{}\n        });\n    }\n    static confirm(message:string,answer:(yes:boolean)=>void){\n        let zui = new TextUI(message);\n        Modal.show(zui,{\n            \"Yes\":()=>{answer(true)},\n            \"No\":()=>{answer(false)}\n        })\n    }\n    private static saveDisplay:ZUI;\n    private static actions:{ [text:string]:()=>void}\n    private static lastShowMillis:number=0;\n    static show(display:ZUI,actions:{ [text:string]:()=>void}){\n        let now = Date.now();\n        if ((now-this.lastShowMillis)>1000){\n            this.lastShowMillis=now;\n            Modal.saveSelection();\n            Modal.saveDisplay=display;\n            Modal.actions = actions; \n            Modal.notify();\n        }\n    }\n    static notify(){\n        if (Modal.saveDisplay){\n            let overlay = $(\"#modaloverlay\");\n            overlay.addClass(\"Modal\");\n            overlay.empty();\n            let contentDiv = Modal.saveDisplay.renderJQ().addClass(\"Modal-content\");\n            let actionDiv = this.makeActions(Modal.actions).addClass(\"Modal-actbar\");\n            let showBox = $(`<div class=\"Modal-show\"></div>`);\n            showBox.append(contentDiv);\n            showBox.append(actionDiv);\n            overlay.append(showBox);\n            overlay.removeClass(\"hidden\");\n        }\n    }\n    static hide(){\n        Modal.saveDisplay=null;\n        $(\"#modaloverlay\").addClass(\"hidden\");\n    }\n    private static makeActions(actions:{ [text:string]:()=>void}):JQuery{\n        let actList:ZUI[] = [];\n        for (let a in actions){\n            let action =actions[a];\n            let btn = this.btnAction(a,action);\n            actList.push(btn);\n        }\n        let actZui = new DivUI(actList).style(\"Modal-actions\");\n        return actZui.renderJQ();\n    }\n    private static btnAction(text:string, action:()=>void):ZUI{\n        let bz = new ButtonUI(text).click(()=>{\n            Modal.lastShowMillis=0;\n            Modal.restoreSelection();\n            action();\n            Modal.saveDisplay=null;\n            $(\"#modaloverlay\").addClass(\"hidden\");\n        }).style(\"Modal-btn\");\n        return bz;\n    }\n    private static savedSelection:any;\n    private static saveSelection(){\n        if (window.getSelection){\n            var sel = window.getSelection();\n            if (sel.getRangeAt && sel.rangeCount){\n                Modal.savedSelection = sel.getRangeAt(0);\n            }\n        } \n    }\n    private static restoreSelection(){\n        if (Modal.savedSelection){\n            if (window.getSelection){\n                var sel = window.getSelection();\n                sel.removeAllRanges();\n                sel.addRange(Modal.savedSelection);\n            }\n        }\n    }\n}","/// <reference path=\"ButtonUI.ts\"/>\n/// <reference path=\"TextUI.ts\"/>\n/// <reference path=\"DivUI.ts\"/>\n/// <reference path=\"Modal.ts\"/>\n/// <reference path=\"../data/HTTPDataSource.ts\"/>\n\nclass HTMLEditUI extends ZUI{\n    private htmlDiv:JQuery;\n    private saveStatusBar:HTMLEditSaveStatusBar;\n    private isMin:boolean;\n    getF_:Fstring;\n    setF_:StringSetF;\n    constructor(){\n        super();\n        this.getF_=null;\n        this.setF_=null;\n        this.isMin=true;\n        this.saveStatusBar = new HTMLEditSaveStatusBar()\n        this.content = new DivUI([\n            this.toolBar(),\n            this.saveStatusBar\n        ])\n        let divId=\"h\"+Math.floor(10000000*Math.random()+1).toString();\n        this.htmlDiv = $(`<div id=\"${divId}\" class=\"HTMLEditUI-html left col-gn-12\" contentEditable=\"true\"></div>`);\n        PageManager.addAfterDOMNotice(()=>{\n            this.htmlDiv.on(\"blur keyup paste cut\",()=>{\n                this.scheduleSave();\n            })\n        })\n\n        this.htmlDiv.on(\"blur keyup paste cut\",\"#\"+divId,()=>{\n            DB.msg(\"div changed\");\n        })\n        this.style(\"HTMLEditUI\");\n\n    }\n    getF(getFF:Fstring):HTMLEditUI{ \n        this.getF_=getFF;\n        return this;\n    }\n    setF(setFF:StringSetF):HTMLEditUI{\n        this.setF_=setFF;\n        return this;\n    }\n    \n    toolBar():ZUI{\n        let bar = new DivUI([\n            new HTMLEditControl(this,\"undo\",\"l\"),\n            new HTMLEditControl(this,\"bold\"),\n            new HTMLEditControl(this,\"italic\"),\n            new HTMLEditControl(this,\"underline\"),\n            new HTMLEditControl(this,\"subscript\"),\n            new HTMLEditControl(this,\"superscript\",\"r\"),\n\n            new HTMLBlockControl(this,\"h1\",\"<b>H1</b>\",\"l\"),\n            new HTMLBlockControl(this,\"h2\",\"<b>H2</b>\"),\n            new HTMLBlockControl(this,\"h3\",\"<b>H3</b>\"),\n            new HTMLBlockControl(this,\"h4\",\"<b>H4</b>\"),\n            new HTMLBlockControl(this,\"pre\",\"pre\"),\n            new HTMLBlockControl(this,\"p\",\"<b>P</b>\",\"r\"),\n            \n            new HTMLEditControl(this,\"indent\",\"l\"),\n            new HTMLEditControl(this,\"outdent\"),\n            new HTMLEditControl(this,\"insertUnorderedList\",null,\"list-ul\"),\n            new HTMLEditControl(this,\"insertOrderedList\",\"r\",\"list-ol\"),\n            \n            new HTMLEditControl(this,\"createlink\",\"l\",\"link\"),\n            new HTMLEditControl(this,\"unlink\"),\n            new HTMLImageDropControl(this,\"insertimage\",\"r\",\"image\"),\n\n            \n            new HTMLEditControl(this,\"justifyLeft\",\"l\",\"align-left\"),\n            new HTMLEditControl(this,\"justifyCenter\",null,\"align-center\"),\n            new HTMLEditControl(this,\"justifyRight\",null,\"align-right\"),\n            new HTMLEditControl(this,\"justify\",\"r\",\"align-justify\"),\n            //new ButtonUI(\"Less\",()=>{DB.msg(\"LESS\")})\n        ]).style(\"HTMLEditUI-tool\");\n        return bar;\n    }\n    renderJQ():JQuery{\n        let div = this.content.renderJQ();\n        let newHTML = this.getF_();\n        this.htmlDiv.empty();\n        this.htmlDiv.html(newHTML);\n        div.append(this.htmlDiv);\n        this.applyCSS(div);\n        return div;\n    }\n    private saveTimerStarted:boolean = false;\n    private saveContent:string;\n    scheduleSave(){\n        this.saveContent= this.htmlDiv.html();\n        if (this.saveTimerStarted) return;\n        this.saveTimerStarted=true;\n        this.saveStatusBar.set(this.saveTimerStarted);\n        setTimeout(()=>{\n            this.saveTimerStarted=false;\n            this.setF_(this.saveContent);\n            this.saveStatusBar.set(this.saveTimerStarted);\n        },5000)\n    }\n}\nclass HTMLEditSaveStatusBar extends ZUI{\n    div:JQuery;\n    constructor(){\n        super();\n        this.div = $(\"<div class='HTMLEditSaveStatusBar left col-gn-2 offset-gn-2'>--</div>\")\n    }\n    set(saveOn:boolean){\n        this.div.empty();\n        if (saveOn)\n            this.div.html(\"-- save pending --\");\n        else\n            this.div.html(\"-- saved --\");\n    }\n    renderJQ():JQuery{\n        return this.div;\n    }\n}\n\nclass HTMLEditControl extends ButtonUI{\n    parent:HTMLEditUI;\n    cls:string;\n    cmnd:string;\n    st:string;\n    btn:JQuery;\n    constructor(parent:HTMLEditUI,cmnd:string, cap?:string, style?:string){\n        super(`<i class='fas fa-${style?style:cmnd}'></i>`);\n        this.click(()=>{\n            \n            event.stopPropagation();\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            if (cmnd==\"insertimage\" || cmnd==\"createlink\"){\n\t\t\t\tlet url = prompt(\"enter url\",\"http:\\/\\/\");\n\t\t\t\tif (this.validURL(url))\n\t\t\t\t\tdocument.execCommand(cmnd,false,url);\n\t\t\t\telse\n\t\t\t\t\talert(\"Invalid URL \\\"\"+url+\"\\\"\");\n\t\t\t} else {\n\t\t\t\tdocument.execCommand(cmnd,false);\n            }\n            parent.scheduleSave();\n        })\n        this.parent=parent;\n        this.cls=\"htc\";\n        if (cap){\n            this.cls+=\"-\"+cap;\n        }\n        this.cmnd=cmnd;\n        this.st=style;\n        if (!style)\n            this.st=cmnd;\n        this.style(this.cls);\n\n    }\n\n    private validURL(url:string):boolean{\n\t\tif(url && (url.search(\"http:\\/\\/\")==0 || url.search(\"https:\\/\\/\")==0)&& url.search(\"\\/\\/http\")==-1)\n\t\t\treturn true;\n\t\telse\n\t\t\treturn false;\n\t}\n}\n\nclass HTMLImageDropControl extends ZUI{\n    parent:HTMLEditUI;\n    cls:string;\n    cmnd:string;\n    st:string;\n    btn:JQuery;\n    id:string;\n    constructor(parent:HTMLEditUI,cmnd:string, cap?:string, style?:string){\n        super();\n        this.id=this.uniqueId();\n        \n        PageManager.addAfterDOMNotice(()=>{\n            let cnt = $(\"#\"+this.id);\n            cnt.on(\"dragenter dragover dragleave\",(e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                cnt.addClass(\"ImageDropHover\");\n            });\n            cnt.on(\"dragleave\",(e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                cnt.removeClass(\"ImageDropHover\");\n            });\n            cnt.on(\"drop\",(e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                let oe = <any>(e.originalEvent);\n                let files = oe.dataTransfer.files;\n                this.processDroppedFiles(files);\n            })\n        });\n\n        this.parent=parent;\n        this.cls=\"htc\";\n        if (cap){\n            this.cls+=\"-\"+cap;\n        }\n        this.cmnd=cmnd;\n        this.st=style;\n        if (!style)\n            this.st=cmnd;\n        this.style(this.cls);\n\n    }\n    private processDroppedFiles(files:File[]){\n        //DB.msg(\"image drop\",files);\n        let file=files[0];\n        if (file.type.indexOf(\"image\")<0){\n            Modal.alert(`Dropped file of type ${file.type}. Only image files are allowed`);\n        } else {\n            DataObj.PUTFileBlob(file,(err:string,blobKey:string)=>{\n                let url = HTTPDataSource.urlFromBlobKey(blobKey);\n                let alignChoice=\"right\";\n                let width=\"50\";\n                Modal.show(new DivUI([\n                    new DropDownChoiceUI()\n                        .getF(()=>{\n                            return alignChoice;\n                        })\n                        .setF((val:string)=>{\n                            alignChoice=val;\n                            Modal.notify();\n                        })\n                        .choice(\"left\",\"Left\")\n                        .choice(\"right\",\"Right\")\n                        .style(\"ImageModal-align\"),\n                    new TextUI(\"width%\").style(\"ImageModal-widthl\"),\n                    new TextFieldUI(\"number\")\n                        .getF(()=>{ return width})\n                        .setF((val:string)=>{ \n                            width=val;\n                            Modal.notify();\n                        }).style(\"ImageModal-width\"),\n                    new TextUI(()=>{\n                            return `<img src=\"${url}\"  width=\"${width}%\" align=\"${alignChoice}\"/>`\n                        }).style(\"ImageModal-frame\"),\n                ]),{\n                    \"Insert\":()=>{\n                        //DB.msg(`choice ${alignChoice}  width ${width}`)\n                        document.execCommand(\"insertHTML\",false,\n                            `<img src=\"${url}\"  width=\"${width}%\" align=\"${alignChoice}\"/>`);\n                        this.parent.scheduleSave();\n                    },\n                    \"Cancel\":()=>{}\n                })\n                \n            })\n        }\n    }\n\n    renderJQ():JQuery{\n        let title = `<i class='fas fa-${this.st?this.st:this.cmnd}'></i><i>Drop here</i>`;\n        let jq = $(`<div class=\"ButtonUI ${this.classStr()}\">${title}</div>`);\n        jq.attr(\"id\",this.id);\n        this.applyCSS(jq);\n        return jq;\n    }\n\n\n}\nclass HTMLBlockControl extends ButtonUI{\n    cls:string;\n    parent:HTMLEditUI;\n    constructor( parent:HTMLEditUI,param:string, text:string,cap?:string){\n        super(text)\n        this.click(()=>{\n            event.stopPropagation();\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            \n            document.execCommand(\"formatBlock\",false,param);\n            this.parent.scheduleSave();\n        })\n        this.parent=parent;\n        this.cls=\"htc\";\n        if (cap){\n            this.cls+=\"-\"+cap;\n        }\n        this.style(this.cls);\n\n    }\n\n}","/// <reference path=\"DivUI.ts\"/>\n\nclass ClickWrapperUI extends DivUI{\n    onclick:(event:Event)=>void;\n    id:string;\n    constructor(items:ZUIListF){\n        super(items);\n        this.id = this.uniqueId();\n        PageManager.addAfterDOMNotice(()=>{\n            if (this.onclick)\n                $(\"#\"+this.id).click(this.onclick);\n        })\n    }\n    click(onclick:(event:Event)=>void):ClickWrapperUI{\n        this.onclick=onclick;\n        return this;\n    }\n    renderJQ():JQuery {\n        let jq = super.renderJQ();\n        jq.attr(\"id\",this.id);\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass BreakUI extends ZUI{\n    private textS:StringF;\n    constructor(text?:StringF){\n        super();\n        this.textS=text;\n        if (!text)\n            this.textS=\"\";\n    }\n    renderJQ():JQuery{\n        let val = ZUI.stringVal(this.textS);\n        if (!val || val.length==0){\n            val = \"BreakUI\";\n        }\n        let jq = $(`<div class='BreakUI ${this.classStr()}'>${val}</div>`);\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n/// <reference path=\"DivUI.ts\"/>\ntype ObjZUI = {obj:DataObj, zui:ZUI};\nclass ObjListUI extends DivUI{\n    protected objListF:()=>DataObj[];\n    protected itemViewF:(obj:DataObj)=>ZUI;\n    protected objMap:ObjZUI[];\n    protected sortF:(o1:DataObj,o2:DataObj)=>number;\n    constructor(objListF:()=>DataObj[]){\n        super([]);\n        this.objListF=objListF;\n        this.objMap=[];\n        this.style(\"ObjListUI\");\n    }\n    itemView(itemViewF:(obj:DataObj)=>ZUI):ObjListUI{\n        this.itemViewF=itemViewF;\n        return this;\n    }\n    sort(sortF:(obj1:DataObj,obj2:DataObj)=>number):ObjListUI{\n        this.sortF=sortF;\n        return this;\n    }\n    protected buildKeyViewList(){\n        let newObjMap:ObjZUI[]=[];\n        let objList = this.objListF();\n        if (this.sort){\n            objList.sort(this.sortF);\n        }\n        this.items=[];\n        for (let i in objList){\n            let obj = objList[i];\n            let viewZUI = this.findZUI(obj);\n            if (!viewZUI){\n                viewZUI = this.itemViewF(obj);\n            }\n            newObjMap.push({obj:obj,zui:viewZUI});\n            this.items.push(viewZUI);\n        }\n\n        this.objMap = newObjMap;\n    }\n    protected findZUI(obj:DataObj):ZUI{\n        for (let i in this.objMap){\n            let map = this.objMap[i];\n            if (map.obj === obj){\n                return map.zui;\n            }\n        }\n        return null;\n    }\n    renderJQ():JQuery{\n        this.buildKeyViewList();\n        return super.renderJQ();\n    }\n\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass FileDropTargetUI extends ZUI {\n    onDrop:(files:File[])=>void;\n    content:ZUI;\n    hoverStyle_:string;\n    id:string;\n    constructor(content:ZUI){\n        super();\n        this.content=content;\n        this.hoverStyle_=\"FileDropTargetUI-drop\";\n        this.id = this.uniqueId();\n        PageManager.addAfterDOMNotice(()=>{\n            let cnt = $(\"#\"+this.id);\n            cnt.on(\"dragenter dragover dragleave\",(e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                cnt.addClass(this.hoverStyle_);\n            });\n            cnt.on(\"dragleave\",(e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                cnt.removeClass(this.hoverStyle_);\n            });\n            cnt.on(\"drop\",(e)=>{\n                e.preventDefault();\n                e.stopPropagation();\n                let oe = <any>(e.originalEvent);\n                let files = oe.dataTransfer.files;\n                if (this.onDrop){\n                    this.onDrop(files);\n                }\n            })\n        });\n    }\n    drop(onDrop:(files:File[])=>void):FileDropTargetUI{\n        this.onDrop=onDrop;\n        return this;\n    }\n    hoverStyle(hStyle:string):FileDropTargetUI{\n        this.hoverStyle_ = hStyle;\n        return this;\n    }\n\n    renderJQ():JQuery{\n        let jq = super.renderJQ();\n        jq.attr(\"id\",this.id);\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass IconButtonUI extends ZUI{\n    private url:string;\n    private onclick:(event:Event)=>void;\n    private iconName:string;\n    private selected_:()=>boolean;\n    private jq:JQuery;\n    constructor(iconName:string,url:string,){\n        super();\n        this.iconName=iconName;\n        this.url=url;\n        this.onclick = onclick;\n    }\n    click(onclick:(event:Event)=>void):IconButtonUI{\n        this.onclick=onclick;\n        return this;\n    }\n    selected(selectedF:()=>boolean):IconButtonUI{\n        this.selected_=selectedF;\n        return this;\n    }\n    getIconName():string {\n        return this.iconName;\n    }\n    renderJQ():JQuery{\n        this.jq = $(`<button class=\"IconButtonUI ${this.classStr()}\"></button>`);\n        this.jq.html(`<img src=\"${this.url}\"/>`);\n        if (this.selected_ && this.selected_())\n            this.jq.addClass(\"IconButtonUI-selected\");\n        else\n            this.jq.removeClass(\"IconButtonUI-selected\");\n        this.jq.click((event:Event)=>{ this.onclick(event)})\n        this.applyCSS(this.jq);\n        return this.jq; \n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass ColorPickerUI extends ZUI {\n    getF_:Fstring;\n    setF_:StringSetF;\n    constructor(){\n        super();\n        this.getF_=null;\n        this.setF_=null;\n    }\n    getF(getFF:Fstring):ColorPickerUI{ \n        this.getF_=getFF;\n        return this;\n    }\n    setF(setFF:StringSetF):ColorPickerUI{\n        this.setF_=setFF;\n        return this;\n    }\n    renderJQ():JQuery {\n        let val = ZUI.stringVal(this.getF_);\n        if (val==\"none\")\n            val=\"#FFFFFF\";\n        let jq = $(`<input type='color' class='ColorPickerUI ${this.classStr()}' value='${val}'/>`);\n\n        jq.on(\"change\",(event)=>{\n            let newVal = jq.val();\n            if (this.setF_){\n                this.setF_(newVal);\n            }\n        })\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass SliderUI extends ZUI {\n    getF_:Fnumber;\n    setF_:NumberSetF;\n    minF_:NumberF;\n    maxF_:NumberF;\n    constructor(min:NumberF,max:NumberF){\n        super();\n        this.getF_=null;\n        this.setF_=null;\n        this.minF_=min;\n        this.maxF_=max;\n    }\n    getF(getFF:Fnumber):SliderUI{ \n        this.getF_=getFF;\n        return this;\n    }\n    setF(setFF:NumberSetF):SliderUI{\n        this.setF_=setFF;\n        return this;\n    }\n    renderJQ():JQuery {\n        let val = ZUI.numberVal(this.getF_);\n        let jq = $(`<input type='range' class='SliderUI ${this.classStr()}' value='${val}'`+\n            ` min='${ZUI.numberVal(this.minF_)}' max='${ZUI.numberVal(this.maxF_)}'/>`);\n\n        jq.on(\"change\",(event)=>{\n            let newVal = Number.parseFloat(<string>jq.val());\n            if (this.setF_){\n                this.setF_(newVal);\n            }\n        })\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass StyleCheckUI extends ZUI{\n    checkVal: ()=>boolean;\n    checkedStyle_:string;\n    clickF:()=>void;\n    constructor(checkVal:()=>boolean){\n        super();\n        this.checkVal=checkVal;\n        this.checkedStyle_=\"StyleCheckUI-checked\";\n        this.clickF=null;\n    }\n    click(clickF:()=>void):StyleCheckUI{\n        this.clickF=clickF;\n        return this;\n    }\n    checkedStyle(checkedStyle:string):StyleCheckUI{\n        this.checkedStyle_=checkedStyle;\n        return this;\n    }\n    renderJQ():JQuery{\n        let checked = this.checkVal();\n        let cStyle=\"StyleCheckUI-checked \"+this.checkedStyle_;\n        if (!checked)\n            if (this.classStr())\n                cStyle=\"StyleCheckUI \"+this.classStr();\n            else\n                cStyle=\"StyleCheckUI\"\n\n        let jq=$(`<div class='${cStyle}'></div>`);\n        jq.click(()=>{\n            if (this.clickF){\n                this.clickF();\n                ZUI.notify();\n            }\n        })\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass DoneIndicatorUI extends ZUI{\n    getF_:Fnumber;\n    barStyle_:string;\n    clickF:()=>void;\n    constructor(getF:Fnumber){\n        super();\n        this.getF_=getF;\n        this.barStyle_=\"\";\n        this.clickF=null;\n    }\n    barStyle(barStyle_:string):DoneIndicatorUI{\n        this.barStyle_=barStyle_;\n        return this;\n    }\n    click(clickF:()=>void):DoneIndicatorUI{\n        this.clickF=clickF;\n        return this;\n    }\n    renderJQ():JQuery{\n        let fraction = this.getF_();\n        if (fraction<0)\n            fraction=0;\n        if (fraction>1)\n            fraction=1;\n        if (fraction>0 && fraction < 0.05)\n            fraction=0.05;\n        if (fraction <1 && fraction > 0.95)\n            fraction = 0.95;\n        let style=\"DoneIndicatorUI\";\n        if (this.clickF)\n            style=\"DoneIndicatorUI-clickable\"\n        let jq=$(`<div class='${style} ${this.classStr()}'></div>`)\n        let slider=$(`<div class='DoneIndicatorUI-slider ${this.barStyle_}'></div>`);\n        slider.css(\"width\",`${fraction*100}%`);\n        jq.append(slider);\n        jq.click(()=>{\n            if (this.clickF){\n                this.clickF();\n                ZUI.notify();\n            }\n        })\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\n\nclass DropDownChoiceUI extends ZUI {\n    getF_:()=>string;\n    setF_:(val:string)=>void;\n    choices: {selectCode:string, label:string}[];\n    constructor(){\n        super();\n        this.choices = [];\n    }\n    getF( f:()=>string):DropDownChoiceUI{\n        this.getF_=f;\n        return this;\n    }\n    setF( f:(val:string)=>void):DropDownChoiceUI{\n        this.setF_=f;\n        return this;\n    }\n    choice(selectCode:string,label:string):DropDownChoiceUI{\n        this.choices.push({selectCode:selectCode,label:label});\n        return this;\n    }\n    renderJQ():JQuery{\n        let select = null;\n        if (this.getF_){\n            select = this.getF_();\n        }\n        let base = $(`<select class=\"DropDownChoiceUI ${this.classStr()}\"></select>`);\n        for (let i in this.choices){\n            let choice = this.choices[i];\n            let cJQ:JQuery = null;\n            if (choice.selectCode==select){\n                cJQ=$(`<option value=\"${choice.selectCode}\" selected>${choice.label}</option>`)\n            } else {\n                cJQ=$(`<option value=\"${choice.selectCode}\">${choice.label}</option>`)\n            }\n            base.append(cJQ);\n        }\n        base.change(()=>{\n            if (this.setF_){\n                this.setF_(base.val());\n            }\n        })\n        this.applyCSS(base);\n        return base;\n    }\n}","/// <reference path=\"InputUI.ts\"/>\n\nclass DateTimeUI extends InputUI {\n    constructor(fieldType: \"date\" | \"datetime-local\" | \"month\" | \"time\" | \"week\"){\n        super(fieldType);\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n/// <reference path=\"PageManager.ts\"/>\n\nclass DragDropWrapperUI extends ZUI {\n    id:string;\n    hoverStyle:string;\n    hoverHighStyle:string;\n    hoverLowStyle:string;\n    payload:any; // drag payload or function to return drag payload\n    doDrop:(payload:any,where: null | \"high\" | \"low\")=>void;\n    constructor(content:ZUI){\n        super();\n        this.content=content;\n        this.id=this.uniqueId();\n        this.hoverStyle=\"DragDropWrapperUI-hover\";\n        this.hoverHighStyle=\"\";\n        this.hoverLowStyle=\"\";\n        PageManager.addAfterDOMNotice(()=>{\n            let cnt = $(\"#\"+this.id);\n            cnt.on(\"dragenter\",(e:JQueryEventObject)=>{\n                this.dragEnter(e);\n            })\n            cnt.on(\"dragover\",(e:JQueryEventObject)=>{\n                this.dragOver(e);\n            })\n            cnt.on(\"dragleave\",(e:JQueryEventObject)=>{\n                this.dragLeave(e);\n            })\n            cnt.on(\"drop\",(e:JQueryEventObject)=>{\n                this.dropEvent(e);\n            })\n            cnt.on(\"dragstart\",(e:JQueryEventObject)=>{\n                this.dragStart(e);\n            })\n        })\n    }\n    protected dragEnter(e:JQueryEventObject){\n        //DB.msg(\"dragEnter\",e);\n    }\n    protected dragOver(e){\n        //DB.msg(\"dragOver\",e);\n        if (this.id == $(e.currentTarget).attr(\"id\")){\n            e.preventDefault();\n            let jq=$(e.currentTarget);\n            let height = jq[0].offsetHeight;\n            jq.removeClass(this.hoverHighStyle);\n            jq.removeClass(this.hoverLowStyle);\n            jq.removeClass(this.hoverStyle);\n            if (this.doDrop){\n                jq.addClass(this.hoverStyle);\n                let y = e.offsetY;\n                if (this.hoverLowStyle && y>height*0.5){\n                    jq.addClass(this.hoverLowStyle);\n                }\n                if (this.hoverHighStyle && y<=height*0.5){\n                    jq.addClass(this.hoverHighStyle);\n                }\n            }\n        }\n        \n    }\n    private eventPayload(event):any{\n        let payloadST=event.originalEvent.dataTransfer.getData(\"zingpayload\");\n        if (payloadST){\n            let payload = JSON.parse(payloadST);\n            return payload;\n        } else {\n            return null;\n        }\n    }\n    protected dragLeave(e:JQueryEventObject){\n        //DB.msg(\"dragLeave\",e);\n        let jq=$(e.currentTarget);\n        jq.removeClass(this.hoverHighStyle);\n        jq.removeClass(this.hoverLowStyle);\n        jq.removeClass(this.hoverStyle);\n    }\n    protected dropEvent(e){\n        //DB.msg(\"dropEvent\",e);\n        let jq=$(e.currentTarget);\n        jq.removeClass(this.hoverHighStyle);\n        jq.removeClass(this.hoverLowStyle);\n        jq.removeClass(this.hoverStyle);\n        if (this.doDrop){\n            let payload = this.eventPayload(e);\n            if (payload){\n                let height = jq[0].offsetHeight;\n                let y=e.offsetY;\n                let where = null;\n                if (y<=height*0.5){\n                    where = \"high\"\n                }\n                if (y>height*0.5){\n                    where = \"low\"\n                }\n                //DB.msg(`y ${y} height ${height} where ${where}`)\n                this.doDrop(payload,where);\n            }\n        }\n    }\n    protected dragStart(e){\n        //DB.msg(\"dragStart\",e);\n        if (this.id == $(e.currentTarget).attr(\"id\")){\n            let payload = this.getPayload();\n            e.originalEvent.dataTransfer.setData(\"zingpayload\",payload)\n        }\n        \n    }\n\n    hover(hvStyle:string):DragDropWrapperUI{\n        this.hoverStyle=hvStyle;\n        return this;\n    }\n    high(hStyle:string):DragDropWrapperUI{\n        this.hoverHighStyle=hStyle;\n        return this;\n    }\n    low(hStyle:string):DragDropWrapperUI{\n        this.hoverLowStyle=hStyle;\n        return this;\n    }\n    private getPayload():string{\n        let rslt=null;\n        if (this.payload && typeof this.payload ===\"function\"){\n            rslt = this.payload();\n        } else {\n            rslt = this.payload;\n        }\n        return JSON.stringify(rslt);\n    }\n    dragPayload(payload:any ):DragDropWrapperUI {  // the data to be transfered in the drag\n                                    // or function to return that data\n        this.payload=payload;\n        return this;\n    }\n\n    drop(doDrop:(payload:any,where?: null | \"high\" | \"low\")=>void):DragDropWrapperUI {\n        this.doDrop=doDrop;\n        return this;\n    }\n\n    renderJQ():JQuery{\n        let jq = super.renderJQ();\n        jq.attr(\"id\",this.id);\n        this.applyCSS(jq);\n        if (this.payload){\n            jq.attr(\"draggable\",\"true\");\n        }\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n/// <reference path=\"ZUITypes.ts\"/>\n\ntype StringSource = string | StringF | string[] ;\nclass ImageUI extends ZUI{\n    private urlSource: StringSource;\n    constructor(urlSource:StringSource){\n        super();\n        this.urlSource=urlSource;\n    } \n    private url():string{\n        let sc = this.urlSource;\n        if (typeof sc == \"function\"){\n            sc = sc();\n        }\n        if (sc instanceof Array){\n            let r = Math.random();\n            let l=sc.length;\n            r = Math.floor(r*l)\n            if (r>=l) r = l-1;\n            sc = sc[r];\n        }\n        return sc;\n    }\n    renderJQ():JQuery {\n        let url = this.url();\n        let jq = $(`<img src=\"${url}\" class=\"ImageUI ${this.classStr()}\"/>`)\n        this.applyCSS(jq);\n        return jq;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n\nclass ProcessLogUI extends ZUI{\n    title:string;\n    private log:string;\n    private indent:number;\n    private n:number;\n    private outOf:number;\n    private timingOn:boolean;\n    private startTimeStack:number[];\n    private lastOverWrite:boolean;\n    constructor(){\n        super();\n        this.clear();\n    }\n    timing(timeOn=true):ProcessLogUI{\n        this.timingOn=timeOn\n        return this;\n    }\n    clear(){\n        this.log=\"\";\n        this.indent=0;\n        this.startTimeStack=[];\n        this.lastOverWrite=false;\n    }\n    msg(msg:string){\n        this.lastOverWrite=false;\n        let theOut = \"\";\n        for (let i=0;i<this.indent;i++){\n            theOut+=\"  \";\n        }\n        theOut+=msg;\n        if (this.timingOn){\n            let date = new Date();\n            let secs = date.getSeconds();\n            let secStr = secs.toFixed(0);\n            if (secStr.length<2)\n                secStr=\"0\"+secStr;\n            theOut=`[${date.getMinutes()}:${secStr}] `+theOut;\n        }\n        this.log=theOut+\"\\n\"+this.log;\n        ZUI.notify();\n    }\n    overWrite(msg:string){\n        if (this.lastOverWrite){\n            let idx = this.log.indexOf(\"\\n\")\n            this.log = this.log.substring(idx+1);\n            this.msg(msg);\n        } else {\n            this.lastOverWrite=true;\n            this.msg(msg);\n        }\n        this.lastOverWrite=true;\n    }\n    start(msg:string){\n        this.msg(\"&gt;\"+msg);\n        this.indent++;\n        let now =Date.now();\n        this.startTimeStack.push(now);\n    }\n    end(msg:string){\n        if (this.timingOn){\n            let now = Date.now();\n            let start = this.startTimeStack.pop();\n            let sec = (now-start)/1000;\n            msg+=` [${sec.toFixed(2)}sec]`\n        }\n        \n        this.indent--;\n        this.msg(\"&lt;\"+msg);\n    }\n    renderJQ():JQuery{\n        let jq= $(`<div class=\"ProcessLogUI ${this.classStr()}\"></div>`)\n        if (this.log && this.log.length>0){\n            let btns=$(`<div style=\"float:right\"></div>`)\n            let clearBtn=$(`<button>clear</button>`)\n            clearBtn.click(()=>{ \n                this.clear()\n                ZUI.notify()\n            })\n            btns.append(clearBtn);\n            jq.append(btns);\n        }\n        let log = $(`<pre class=\"ProcessLogUI-log\"></pre>`);\n        jq.append(log);\n        log.html(this.log);\n        this.applyCSS(jq);\n        log.scrollTop(50);\n        return jq\n    }\n}","\n\nabstract class DataTableUIAbs extends ZUI{\n    protected maxColumns:number;\n    protected maxRows:number;\n    protected firstRow:number;\n    protected lastRow:number;\n    protected firstCol:number;\n    protected lastCol:number;\n    protected nCols:number;\n    protected nRows:number;\n    protected cellEnter:(row:number,col:number)=>void;\n    protected rowInc:number;\n    protected colInc:number;\n    constructor(maxRows=20,maxColumns=10,cellEnter?:(row:number,col:number)=>void){\n        super();\n        this.maxRows=maxRows;\n        this.maxColumns=maxColumns;\n        this.cellEnter=cellEnter;\n    }\n    setMaxes(maxRows:number,maxColumns:number){\n        this.maxRows=maxRows;\n        this.maxColumns=maxColumns;\n        ZUI.notify();\n    }\n    setFirstCol(firstCol:number){\n        this.firstCol=firstCol;\n        ZUI.notify();\n    }\n    setFirstRow(firstRow:number){\n        this.firstRow=firstRow;\n        ZUI.notify();\n    }\n    protected tableStyle():string{ return \"DataTableUI-table \"+this.classStr()};\n    abstract hasData():boolean;\n    protected abstract colHeaderList():string[];\n    protected abstract rowLabelList():string[];\n    protected abstract rowData(row:number,firstCol:number,lastCol:number):any[];\n    renderJQ():JQuery{\n        let table = $(`<table class=\"${this.tableStyle()}\"></table>`)\n        let colHeaderList = this.colHeaderList();\n        let rowLabelList = this.rowLabelList();\n        if (this.hasData()){\n            this.resolveRowsCols(rowLabelList.length,colHeaderList.length);\n            let colHeaders = this.columnHeaderRow(colHeaderList);\n            table.append(colHeaders);\n            if (this.firstRow>0)\n                table.append(this.upRow())\n            for (let row=this.firstRow;row<=this.lastRow;row++){\n                let rowData = this.rowData(row,this.firstCol,this.lastCol);\n                let tableRow = this.tableRow(row,rowLabelList[row],rowData);\n                table.append(tableRow);\n            }\n            if (this.lastRow<this.nRows-1)\n                table.append(this.downRow())\n        }\n        this.applyCSS(table);\n        return table;\n    }\n    protected columnHeaderRow(colHeaderList:string[]):JQuery{\n        let rowJQ = $(`<tr><th></th></tr>`)\n        if (this.firstCol>0)\n            rowJQ.append(this.leftBtn());\n        for (let col=this.firstCol;col<=this.lastCol;col++){\n            let header = colHeaderList[col];\n            let colJQ = $(`<th>${header}</th>`);\n            rowJQ.append(colJQ);\n        }\n        if (this.lastCol<this.nCols-1)\n            rowJQ.append(this.rightBtn());\n        return rowJQ;\n    }\n    protected tableRow(rowIdx:number,rowLabel:string,rowData:any[]):JQuery{\n        let row = $(`<tr><th>${rowLabel}</th></tr>`)\n        if (this.firstCol>0)\n            row.append(this.ellipsis());\n        for (let colIdx=0;colIdx<rowData.length;colIdx++){\n            let d = rowData[colIdx];\n            let ds = \"\";\n            if (d)\n                ds=d.toString();\n            else if (d==0)\n                ds=\"0\";\n            let td=$(`<td>${ds}</td>`)\n            td.mouseenter(()=>{\n                if (this.cellEnter)\n                    this.cellEnter(rowIdx,colIdx)\n            })\n            td.append(td);\n            row.append(td);\n        }\n        if (this.lastCol<this.nCols-1)\n            row.append(this.ellipsis())\n        return row;\n    }\n    protected leftBtn():JQuery{\n        let jq = $(`<th class=\"leftArrowBtn\"></th>`)\n        jq.click(()=>{\n            this.firstCol-=this.colInc\n            ZUI.notify();\n        })\n        return jq;\n    }\n    protected rightBtn():JQuery{\n        let jq = $(`<th class=\"rightArrowBtn\"></th>`)\n        jq.click(()=>{\n            this.firstCol+=this.colInc;\n            ZUI.notify();\n        })\n        return jq;\n    }\n    protected upRow():JQuery{\n        let row = $(`<tr></tr>`)\n        row.append(this.upBtn())\n        if (this.firstCol>0)\n            row.append($(`<td></td>`))\n        for (let col=this.firstCol;col<=this.lastCol;col++){\n            row.append(this.ellipsis())\n        }\n        return row;\n    }\n    protected upBtn():JQuery{\n        let jq = $(`<th class=\"upArrowBtn\"></th>`)\n        jq.click(()=>{\n            this.firstRow-=this.rowInc;\n            ZUI.notify();\n        })\n        return jq;\n    }\n    protected downRow():JQuery{\n        let row = $(`<tr></tr>`)\n        row.append(this.downBtn())\n        if (this.firstCol>0)\n            row.append($(`<td></td>`))\n        for (let col=this.firstCol;col<=this.lastCol;col++){\n            row.append(this.ellipsis())\n        }\n        return row;\n    }\n    protected downBtn():JQuery{\n        let jq = $(`<th class=\"downArrowBtn\"></th>`)\n        jq.click(()=>{\n            this.firstRow+=this.rowInc;\n            ZUI.notify();\n        })\n        return jq;\n    }\n    protected ellipsis():JQuery{\n        let jq = $(`<td class=\"DataTableUI-ell\">...</td>`)\n        return jq;\n    }\n    private resolveRowsCols(nRows:number, nCols:number){\n        this.nRows=nRows;\n        this.nCols=nCols;\n        this.rowInc = Math.floor(this.maxRows*0.8);\n        this.colInc = Math.floor(this.maxColumns*0.8);\n        if (this.firstRow<0) this.firstRow=0;\n        this.lastRow = this.firstRow+this.maxRows-1;\n        if (this.lastRow>=nRows){\n            this.lastRow=nRows-1;\n            this.firstRow=this.lastRow-this.maxRows+1;\n            if (this.firstRow<0) this.firstRow=0;\n        }\n\n        if (this.firstCol<0) this.firstCol=0;\n        this.lastCol = this.firstCol+this.maxColumns-1;\n        if (this.lastCol>=nCols){\n            this.lastCol=nCols-1;\n            this.firstCol = this.lastCol-this.maxColumns+1;\n            if (this.firstCol<0) this.firstCol=0;\n        }\n    }\n}","/// <reference path=\"../share/DB.ts\"/>\n\n\nabstract class DataTableAbs {\n    abstract hasCol(ColName:string):boolean;\n    abstract colName(colIdx:number):string;\n    abstract colIdx(colName:string):number;\n    abstract nRows():number;\n    abstract columnHeaders():string[];\n    abstract nCols():number;\n    abstract get(row:number,col:string):string | number;\n    abstract sortRows(colName:string,descending:boolean);\n    toJSON():DataTableJSON{\n        let rslt:DataTableJSON=[];\n        let nr=this.nRows()\n        let ch = this.columnHeaders();\n        for (let r=0;r<nr;r++){\n            let obj:{[colName:string]:number | string}={};\n            for (let c in ch){\n                let v = this.get(r,c);\n                if (v || (<number>v)==0){\n                    obj[c]=v;\n                } \n            }\n            rslt.push(obj);\n        }\n        return rslt;\n    }\n    \n    getRow(row:number):DataRow{\n        if (row<0 || row>=this.nRows())\n            return null;\n        let dr = new DataRow()\n        for (let c of this.columnHeaders())\n            dr.set(c,this.get(row,c))\n        return dr;\n    }\n    getColumn(col:string):DataColumn{\n        let rslt=new DataColumn(col);\n        let nRows=this.nRows();\n        for (let row=0;row<nRows;row++){\n            rslt.set(row,this.get(row,col))\n        }\n        return rslt;\n    }\n    copy():DataTable{\n        let rslt=new DataTable();\n        let nRows=this.nRows();\n        let ch = this.columnHeaders();\n        for (let row=0;row<nRows;row++){\n            for (let col of ch){\n                let v = this.get(row,col);\n                rslt.set(row,col,v);\n            }\n        }\n        return rslt;\n    }\n    toCSVStr():string{\n        let headStr = this.toCSVHead();\n        let rslt = headStr;\n        for (let r =0;r<this.nRows();r++){\n            let rowStr = this.toCSVRow(r);\n            rslt+=\"\\n\"+rowStr;\n        }\n        return rslt;\n    }\n    private toCSVHead():string{\n        let ch = this.columnHeaders();\n        let rslt = ch[0];\n        for (let c=1;c<ch.length;c++){\n            rslt+=\",\"+ch[c]\n        }\n        return rslt;\n    }\n    private toCSVRow(r):string{\n        let ch = this.columnHeaders();\n        let rslt=\"\";\n        for (let col of ch){\n            let val = this.get(r,col);\n            if (rslt.length==0){\n                rslt+=val;\n            } else {\n                rslt+=\",\"+val;\n            }\n        }\n        return rslt;\n    }\n    valueDensity():number {\n        DB.start(\"valueDensity\");\n        let nFeatures = this.nCols() * this.nRows();\n        let nFound=0;\n        let ch = this.columnHeaders();\n        for (let r=0;r<this.nRows();r++){\n            for (let c in ch){\n                let val = this.get(r,c);\n                if (val!== undefined){\n                    nFound++;\n                }\n            }\n        }\n        DB.end(`valueDensity ${nFound}/${nFeatures} ${nFound/nFeatures*100}%`)\n        return nFound/nFeatures;\n    }\n    \n    columnDensityCount(density:number){\n        let ch = this.columnHeaders();\n        let denseColCount=0;\n        for (let col of ch){\n            let cnt=0;\n            for (let r=0;r<this.nRows();r++){\n                let v = this.get(r,col)\n                if (v)\n                    cnt++\n            }\n            let colDense=cnt/this.nRows();\n            if (colDense>density){\n                denseColCount++\n            }\n        }\n        DB.msg(`has ${denseColCount}/${this.nCols()} with feature density>${density}`)\n    }\n    \n    sum():number{\n        let total=0;\n        let nRows=this.nRows();\n        let ch = this.columnHeaders();\n        for (let r =0;r<nRows;r++){\n            for (let c of ch){\n                let v= <number>this.get(r,c);\n                if (!isNaN(v))\n                    total+=v;\n            }\n        }\n        return total;\n    }\n    count():number{\n        let total=0;\n        let nRows=this.nRows();\n        let ch = this.columnHeaders();\n        for (let r =0;r<nRows;r++){\n            for (let c of ch){\n                let v= this.get(r,c);\n                if (v || v==0)\n                    total++;\n            }\n        }\n        return total;\n    }\n    countNumbers():number{\n        let total=0;\n        let nRows=this.nRows();\n        let ch = this.columnHeaders();\n        for (let r =0;r<nRows;r++){\n            for (let c of ch){\n                let v= this.get(r,c);\n                if (!isNaN(<number>v))\n                    total++;\n            }\n        }\n        return total;\n    }\n    max():number{\n        let foundNum=false;\n        let max:number=0;;\n        let nRows=this.nRows();\n        let ch = this.columnHeaders();\n        for (let r =0;r<nRows;r++){\n            for (let c of ch){\n                let v= <number>this.get(r,c);\n                if (!isNaN(v)){\n                    if (!foundNum){\n                        max=v;\n                        foundNum=true;\n                    }\n                    if (v>max){\n                        max=v;\n                    } \n                }   \n            }\n        }\n        return max;\n    }\n    min():number{\n        let foundNum=false;\n        let min:number=0;\n        let nRows=this.nRows();\n        let ch = this.columnHeaders();\n        for (let r =0;r<nRows;r++){\n            for (let c of ch){\n                let v= <number>this.get(r,c);\n                if (!isNaN(v)){\n                    if (!foundNum){\n                        min=v;\n                        foundNum=true;\n                    }\n                    if (v<min){\n                        min=v;\n                    } \n                }   \n            }\n        }\n        return min;\n    }\n    \n    db(msg?:string,maxColumns=5,maxRows=20){\n        if (msg) DB.start(msg);\n        DB.msg(`(${this.nRows()}x${this.nCols()})`)\n        let rowEll=false;\n        let colEll=false;\n        let cols=this.nCols();\n        if (cols>maxColumns){\n            colEll=true;\n            cols=maxColumns;\n        }\n        let rows=this.nRows();\n        if (rows>maxRows){\n            rowEll=true;\n            rows=maxRows;\n        }\n        let headerStr = \"\\t\";\n        let ch = this.columnHeaders();\n        for (let c=0;c<cols;c++){\n            let col=ch[c];\n            headerStr+=col+\"\\t\";\n        }\n        if(colEll) headerStr+=\"...\"\n        DB.msg(headerStr);\n        for (let r=0;r<rows;r++){\n            let rowStr=`[${r}]:\\t`;\n            for (let c of ch){\n                let val = this.get(r,c);\n                if (typeof val == \"string\"){\n                    rowStr+='\"'+val+'\"\\t';\n                } else {\n                    rowStr+=val+\"\\t\"\n                }\n            }\n            if (colEll) rowStr+=\"...\";\n            DB.msg(rowStr);\n        }\n        if (rowEll) DB.msg(\"...\")\n        if (msg) DB.end(msg);\n    }\n}","\ntype RowTableJSON = {[colName:string]:number | string}\nabstract class DataRowAbs {\n    \n    abstract hasCol(colName:string):boolean;\n    abstract colIdx(colName:string):number;\n    abstract colName(colIndex:number):string;\n    abstract columnHeaders():string[];\n    abstract nCols():number;\n    abstract get(col:string):string | number;\n    abstract sort(descending?:boolean);\n    abstract renameColumns(newNames:{[oldName:string]:string})\n    toJSON():RowTableJSON{\n        let rslt:RowTableJSON={};\n        for (let c in this.columnHeaders()){\n            let val = this.get(c);\n            if (val || (<number>val)==0){\n                rslt[c]=val;\n            }\n        }\n        return rslt;\n    }\n    copy():DataRow{\n        let newDR = new DataRow();\n        for (let colName of this.columnHeaders()){\n            newDR.set(colName,this.get(colName))\n        }\n        return newDR;\n    }\n    \n    sum():number{\n        let total=0;\n        for (let col of this.columnHeaders()){\n            let v = <number>this.get(col);\n            if (!isNaN(v))\n                total+=v;\n        }\n        return total;\n    }\n    sumSquares():number{\n        let total=0;\n        for (let col of this.columnHeaders()){\n            let v = <number>this.get(col);\n            if (!isNaN(v))\n                total+=v*v;\n        }\n        return total;\n    }\n\n    pairProduct(row2:DataRowAbs):DataRow{\n        let rslt=new DataRow();\n        let nc = this.nCols();\n        for (let col of this.columnHeaders()){\n            let v1=<number>this.get(col);\n            let v2=<number>row2.get(col);\n            if (isNaN(v1) || isNaN(v2)){\n                rslt.set(col,0);\n            } else {\n                rslt.set(col,v1*v2)\n            }\n        }\n        return rslt;\n    }\n    dotProduct(row2:DataRowAbs):number {\n        let rslt=0;\n        let nc=this.nCols();\n        for (let col of this.columnHeaders()){\n            let v1=<number>this.get(col);\n            let v2=<number>row2.get(col);\n            if (!isNaN(v1) && !isNaN(v2)){\n                rslt+=v1*v2\n            }\n        }\n        return rslt;\n    }\n    count():number{\n        let total=0;\n        for (let c of this.columnHeaders()){\n            let v=this.get(c);\n            if (v || v==0)\n                total++;\n        }\n        return total;\n    }\n    countNumbers():number{\n        let total=0;\n        for (let c of this.columnHeaders()){\n            let v=this.get(c);\n            if (!isNaN(<number>v))\n                total++;\n        }\n        return total;\n    }\n    max():number{\n        let ch=this.columnHeaders();\n        let max=<number>this.get(ch[0]);\n        for (let c of ch){\n            let v = <number>this.get(c);\n            if (!isNaN(v)){\n                if (v>max){\n                    max=v;\n                } \n            }   \n        }\n        return max;\n    }\n    min():number{\n        let ch=this.columnHeaders();\n        let min=<number>this.get(ch[0]);\n        for (let c of ch){\n            let v = <number>this.get(c);\n            if (!isNaN(v)){\n                if (v<min){\n                    min=v\n                } \n            }   \n        }\n        return min;\n    }\n    \n    subSet(startIdx:number,endIdx:number):DataRow{\n        let rslt = new DataRow();\n        if (startIdx>endIdx){\n            let tmp=startIdx;\n            startIdx=endIdx;\n            endIdx=tmp;\n        }\n        let ch=this.columnHeaders();\n        for (let i=startIdx;i<=endIdx;i++){\n            let colName = ch[i];\n            let v = this.get(colName);\n            rslt.set(colName,v);\n        }\n        return rslt;\n    }\n    \n    db(msg?:string,maxColumns=20){\n        if (msg)\n            DB.start(msg);\n        let cols = this.nCols();\n        let ellipses=false;\n        if (cols>maxColumns){\n            cols=maxColumns;\n            ellipses=true;\n        }\n        let ch=this.columnHeaders();\n        for (let c=0;c<cols;c++){\n            let col = ch[c];\n            let val = this.get(col);\n            if (isNaN(<number>val))\n                DB.msg(`[${col}]:\"${val}\"`)\n            else\n                DB.msg(`[${col}]:${val}`)\n        }\n        if (ellipses) DB.msg(\"...\")\n        if (msg)\n            DB.end(msg)\n    }\n}","/// <reference path=\"DataRowAbs.ts\"/>\n\n\nclass DataRow extends DataRowAbs {\n    protected contents:any[] \n    protected columnHeaderIdxs:{[columnHeader:string]:number}\n    protected orderedColumnHeaders:string[];\n    constructor(headerIdxs?:{[columnHeader:string]:number},contents?:any[]){\n        super();\n        this.columnHeaderIdxs={}\n        if (headerIdxs)\n            for (let col in headerIdxs){\n                this.columnHeaderIdxs[col]=headerIdxs[col]\n            }\n        this.contents=[];\n        if (contents){\n            for (let i in contents){\n                this.contents.push(contents[i])\n            }\n        }    \n    }\n    hasCol(colName:string):boolean{\n        return colName in this.columnHeaderIdxs;\n    }\n    colIdx(colName:string):number{\n        if (this.hasCol(colName))\n            return this.columnHeaderIdxs[colName]\n        else\n            return undefined;\n    }\n    colName(colIndex:number):string{\n        if (colIndex<0 || colIndex>=this.nCols()) return null;\n        return this.orderedColumnHeaders[colIndex]\n    }\n    columnHeaders():string[]{\n        if (!this.orderedColumnHeaders){\n            this.rebuildOrderedColumnHeaders();\n        }\n        return this.orderedColumnHeaders;\n    }\n    protected rebuildOrderedColumnHeaders(){\n        this.orderedColumnHeaders=new Array(this.nCols())\n        for (let col in this.columnHeaderIdxs){\n            let idx=this.columnHeaderIdxs[col];\n            this.orderedColumnHeaders[idx]=col;\n        }\n    }\n    nCols():number{\n        return this.contents.length;\n    }\n    \n    getI(col:number):any{\n        if (col<0 || col>=this.contents.length)\n            return 0;\n        return this.contents[col]\n    }\n    protected setI(col:number,newVal:any){\n        while (col>this.contents.length-1){\n            this.contents.push(0)\n        }\n        this.contents[col]=newVal;\n    }\n    get(col:string):string | number{\n        let colIdx = this.columnHeaderIdxs[col];\n        if (!colIdx && colIdx!=0){\n            return 0;\n        }\n        return this.getI(colIdx)\n    }\n    set(col:string,newVal:any){\n        let colIdx = this.columnHeaderIdxs[col];\n        if (isNaN(colIdx)){\n            colIdx = this.nCols();\n            this.columnHeaderIdxs[col]=colIdx;\n            if (this.orderedColumnHeaders)\n                this.orderedColumnHeaders.push(col);\n            else\n                this.rebuildOrderedColumnHeaders();\n        }\n        this.setI(colIdx,newVal);\n    }\n    addTo(col:string,newVal:number){\n        let oldVal=this.get(col);\n        if (isNaN(<number>oldVal)){\n            this.set(col,newVal)\n        } else {\n            this.set(col,<number>oldVal+newVal)\n        }\n    }\n    static fromJSON(json:RowTableJSON):DataRow{\n        let rslt=new DataRow();\n        for (let c in json){\n            rslt.set(c,json[c])\n        }\n        return rslt;\n    }\n    \n    scalerMult(scaler:number){\n        for (let c in this.contents){\n            if (!isNaN(this.contents[c])){\n                this.contents[c]*=scaler;\n            }   \n        }\n    }\n    \n    renameColumns(newNames:{[oldName:string]:string}){\n        for (let oldName in newNames){\n            let newName = newNames[oldName];\n            if (oldName in this.columnHeaderIdxs){\n                let idx = this.columnHeaderIdxs[oldName]\n                delete this.columnHeaderIdxs[oldName]\n                this.columnHeaderIdxs[newName]=idx;\n            } else {\n                DB.msg(\"DataRow.renameColumns no such column named \"+oldName)\n            }\n        }\n        this.rebuildOrderedColumnHeaders();\n    }\n    sort(descending=false){\n        let sortList:{ val:any, col:string}[]=[];\n        for (let col in this.columnHeaderIdxs){\n            sortList.push({ val:this.get(col),col:col})\n        }\n        \n        sortList.sort((a,b)=>{\n            let r=0;\n            if (typeof a.val===\"string\"){\n                r=a.val.localeCompare(b.val);\n            } else {\n                r=a.val-b.val;\n            }\n            if (descending)\n                r=-r;\n            return r;\n        })\n        this.contents=[];\n        this.columnHeaderIdxs={}\n        for (let i=0;i<sortList.length;i++){\n            let sl=sortList[i];\n            this.set(sl.col,sl.val);\n        }\n        \n        this.rebuildOrderedColumnHeaders();\n    }\n}","\n\nabstract class DataColumnAbs {\n    \n    protected columnName:string;\n    constructor(columnName:string){\n        this.columnName=columnName;\n    }\n    abstract nValues():number;\n    abstract get(row:number):string | number;\n\n    name():string { return this.columnName}\n    toJSON():(string|number)[]{\n        let rslt:(string|number)[] = [];\n        let nRows=this.nValues();\n        for (let r=0;r<nRows;r++){\n            rslt.push(this.get(r))\n        }\n        return rslt;\n    }\n    copy():DataColumn{\n        let newDC = new DataColumn(this.name());\n        let nRows = this.nValues();\n        for (let row=0;row<nRows;row++){\n            newDC.set(row,this.get(row));\n        }\n        return newDC;\n    }\n    sum():number{\n        let total = 0;\n        let nRows = this.nValues();\n        for (let r=0;r<nRows;r++){\n            let v = <number>this.get(r);\n            if (!isNaN(v))\n                total+=v;\n        }\n        return total;\n    }\n    sumSquares():number{\n        let total = 0;\n        let nRows = this.nValues();\n        for (let r=0;r<nRows;r++){\n            let v = <number>this.get(r);\n            if (!isNaN(v))\n                total+=v*v;\n        }\n        return total;\n    }\n    pairProduct(col2:DataColumn):DataColumn{\n        let rslt=new DataColumn(this.columnName+\"*\"+col2.columnName);\n        let nr = this.nValues();\n        for (let r=0;r<nr;r++){\n            let v1=<number>this.get(r);\n            let v2=<number>col2.get(r);\n            if (isNaN(v1) || isNaN(v2)){\n                rslt.set(r,0);\n            } else {\n                rslt.set(r,v1*v2)\n            }\n        }\n        return rslt;\n    }\n    dotProduct(col2:DataColumn):number {\n        let rslt=0;\n        let nr = this.nValues();\n        for (let r=0;r<nr;r++){\n            let v1=<number>this.get(r);\n            let v2=<number>col2.get(r);\n            if (!isNaN(v1) && !isNaN(v2)){\n                rslt+=v1*v2\n            }\n        }\n        return rslt;\n    }\n    count():number{\n        let total=0;\n        let nRows = this.nValues();\n        for (let r=0;r<nRows;r++){\n            let v=this.get(r);\n            if (v || v==0)\n                total++;\n        }\n        return total;\n    }\n    countNumbers():number{\n        let total=0;\n        let nRows = this.nValues();\n        for (let r=0;r<nRows;r++){\n            let v=<number>this.get(r);\n            if (!isNaN(v))\n                total++;\n        }\n        return total;\n    }\n    max():number{\n        let max=<number>this.get(0);\n        let nRows = this.nValues();\n        for (let r=0;r<nRows;r++){\n            let v=<number>this.get(r);\n            if (v>max){\n                max=v;\n            }   \n        }\n        return max;\n    }\n    min():number{\n        let min:number=<number>this.get(0)\n        let nRows = this.nValues();\n        for (let r=0;r<nRows;r++){\n            let v=<number>this.get(r);\n            if (!isNaN(v)){\n                if (v<min){\n                    min=v\n                } \n            }   \n        }\n        return min;\n    }\n    \n    db(msg?:string,maxRows=20){\n        if (msg)\n            DB.start(msg);\n        let rows = this.nValues();\n        let ellipses=false;\n        if (rows>maxRows){\n            rows=maxRows;\n            ellipses=true;\n        }\n       \n        for (let r=0;r<rows;r++){\n            DB.msg(`[${r}]:\"${this.get(r)}\"`)\n        }\n        if (ellipses) DB.msg(\"...\")\n        if (msg)\n            DB.end(msg)\n    }\n}","/// <reference path=\"DataColumnAbs.ts\"/>\n\nclass DataColumn extends DataColumnAbs{\n    protected contents:any[]\n    constructor(columnName:string,contents?:any[]){\n        super(columnName);\n        this.contents=[];\n        if (contents){\n            for (let i in contents){\n                this.contents.push(contents[i]);\n            }\n        }\n    }\n    \n    nValues():number{\n        return this.contents.length;\n    }\n    static fromJSON(colName:string,json:(string | number)[]):DataColumn{\n        let rslt = new DataColumn(colName);\n        for (let r=0;r<json.length;r++){\n            rslt.set(r,json[r]);\n        }\n        return rslt;\n    }\n    get(row:number):string | number{\n        if (row<0 || row>=this.contents.length)\n            return 0;\n        return this.contents[row]\n    }\n    set(row:number,newVal:string | number){\n        if (row<0) return;\n        while (row>this.contents.length-1)\n            this.contents.push(0);\n        this.contents[row]=newVal;\n    }\n    addTo(row:number,newVal:number){\n        let oldV = this.get(row);\n        if (isNaN(<number>oldV)){\n            this.set(row,newVal);\n        } else {\n            this.set(row,<number>oldV+newVal);\n        }\n    }\n    \n    scalerMult(scaler:number){\n        for (let c in this.contents){\n            if (!isNaN(this.contents[c])){\n                this.contents[c]*=scaler;\n            }   \n        }\n    }\n}","/// <reference path=\"DataTableAbs.ts\"/>\n/// <reference path=\"DataRow.ts\"/>\n/// <reference path=\"DataColumn.ts\"/>\n\ntype DataTableJSON = {[colName:string]:string | number }[]\nclass DataTable extends DataTableAbs {\n    protected contents:any[][] // [row,column]\n    columnHeaderIdxs:{[columnHeader:string]:number}\n    protected orderedColumnHeaders:string[]\n    constructor(contents?:any[][],headers?:string[]){\n        super();\n        if (contents && headers){\n            if (contents.length>0 && contents[0].length != headers.length){\n                DB.msg(\"DataTable const wrong number of headers for data\");\n                return;\n            }\n            this.contents=contents;\n            this.columnHeaderIdxs={};\n            for (let i=0;i<headers.length;i++){\n                this.columnHeaderIdxs[headers[i]]=i;\n            }\n        } else {\n            this.contents=[];\n            this.columnHeaderIdxs={};\n        }\n        this.rebuildOrderedColumnHeaders();\n    }\n    fromCSVStr(str:string,noHeaders?:boolean):DataTable{\n        if (noHeaders){\n            this.csvNoHeadFromStr(str);\n        } else {\n            this.csvHeadFromStr(str);\n        }\n        return this;\n    }\n    \n    hasCol(colName:string):boolean{\n        return colName in this.columnHeaderIdxs;\n    }\n    colName(colIdx:number):string{\n        if (!this.orderedColumnHeaders)\n            this.rebuildOrderedColumnHeaders()\n        return this.orderedColumnHeaders[colIdx]\n    }\n    colIdx(colName:string):number{\n        let idx =this.columnHeaderIdxs[colName]\n        if (idx || idx==0)\n            return idx;\n        else\n            return -1;\n    }\n    columnIndex():{[colname:string]:number}{\n        return this.columnHeaderIdxs;\n    }\n    nRows():number{\n        return this.contents.length;\n    }\n    columnHeaders():string[]{\n        if (!this.orderedColumnHeaders){\n            this.rebuildOrderedColumnHeaders();\n        }\n        return this.orderedColumnHeaders;\n    }\n    nCols():number{\n        return this.orderedColumnHeaders.length;\n    }\n    static fromJSON(json:DataTableJSON):DataTable{\n        let rslt = new DataTable();\n        let nr = json.length;\n        for (let r=0;r<nr;r++){\n            let obj = json[r];\n            for (let c in obj){\n                let val = obj[c];\n                rslt.set(r,c,val)\n            }\n        }\n        return rslt\n    }\n    private csvHeadFromStr(data:string){\n        this.contents=[];\n        let rows:string[] = data.split(\"\\n\");\n        let headerRow:string = this.trimReturnChars(rows[0]);\n        let columnNames:string[] = this.splitRow(headerRow);\n        this.buildColumnHeaders(columnNames);\n        for (let r=1;r<rows.length;r++){\n            let row =this.trimReturnChars(rows[r])\n            if (row.length>0){\n                let cells=this.splitRow(row);\n                this.contents.push(cells);\n            }\n        }\n        this.rebuildOrderedColumnHeaders();\n        //DB.msg(\"contents\",this.contents);\n    }\n    \n    private csvNoHeadFromStr(data:string){\n        this.contents=[];\n        let rows:string[] = data.split(\"\\n\");\n        for (let r=0;r<rows.length;r++){\n            let row =this.trimReturnChars(rows[r])\n            if (row.length>0){\n                let cells=this.splitRow(row);\n                for (let c in cells){\n                    let colName=\"H\"+c;\n                    this.set(r,colName,cells[c])\n                }\n            }\n        }\n        this.rebuildOrderedColumnHeaders();\n        //DB.msg(\"contents\",this.contents);\n    }\n    private trimReturnChars(row:string){\n        if (row.length>0 && row.charAt(row.length-1)==\"\\r\")\n            return row.substring(0,row.length-1);\n        else\n            return row;\n    }\n    private splitRow(row:string):string[]{\n        if (row.charCodeAt(0)>300){\n            row=row.slice(1);\n        }\n        let rslt:string[]=[];\n        let charIdx=0;\n        let endIdx=0;\n        let sub=\"\";\n        while (charIdx<row.length){\n            //DB.msg(row.substring(charIdx,50))\n            switch (row.charAt(charIdx)){\n                case '\"':\n                    endIdx = row.indexOf('\"',charIdx+1);\n                    if (endIdx<0){\n                        sub = row.substring(charIdx+1,row.length-1);\n                        charIdx=row.length;\n                    } else {\n                        sub = row.substring(charIdx+1,endIdx);\n                        charIdx=endIdx+2;\n                    }\n                    rslt.push(sub);\n                    break;\n                case \"'\":\n                    endIdx = row.indexOf(\"'\",charIdx+1);\n                    if (endIdx<0){\n                        sub = row.substring(charIdx+1,row.length-1);\n                        charIdx=row.length;\n                    } else {\n                        sub = row.substring(charIdx+1,endIdx);\n                        charIdx=endIdx+2;\n                    }\n                    rslt.push(sub);\n                    break;\n                default:\n                    if (row.charAt(charIdx)==\",\"){\n                        sub = undefined;\n                        charIdx++;\n                    } else {\n                        endIdx = row.indexOf(',',charIdx+1);\n                        if (endIdx<0){\n                            sub = row.substring(charIdx,row.length);\n                            charIdx=row.length;\n                        } else {\n                            sub = row.substring(charIdx,endIdx);\n                            charIdx=endIdx+1;\n                        }\n                    }\n                    rslt.push(sub);\n                    break;\n            }\n        }\n        return rslt;\n    }\n    private buildColumnHeaders(headers:string[]){\n        this.columnHeaderIdxs={};\n        for (let i=0;i<headers.length;i++){\n            this.columnHeaderIdxs[headers[i]]=i;\n        }\n    }\n    getI(row:number,col:number):any{\n        if (row<0 || row>=this.contents.length)\n            return 0;\n        let contRow = this.contents[row];\n        if (col<0 || col>=contRow.length)\n            return 0;\n        return this.contents[row][col]\n    }\n    protected setI(row:number,col:number,newVal:any){\n        if (row<0) return;\n        if (row>=this.contents.length){\n            if ((row-this.contents.length>20)){\n                let oldLength=this.contents.length;\n                this.contents.length=row+1;\n                for (let i=oldLength;i<this.contents.length;i++){\n                    this.contents[i]=[];\n                }\n            } else {\n                while (row>this.contents.length-1)\n                    this.contents.push([]);\n            }\n        }\n        \n        let contRow = this.contents[row];\n        if (col>=contRow.length){\n            if ((col-contRow.length)>20){\n                let oldLength=contRow.length;\n                contRow.length=col+1;\n                for (let i=oldLength;i<contRow.length;i++)\n                    contRow[i]=0;\n            } else {\n                while (col>contRow.length-1){\n                    contRow.push(0)\n                }\n            }\n        }\n        this.contents[row][col]=newVal;\n    }\n    get(row:number,col:string):string | number{\n        let colIdx = this.columnHeaderIdxs[col];\n        if (!colIdx && colIdx!=0){\n            return 0;\n        }\n        return this.getI(row,colIdx)\n    }\n    set(row:number,col:string,newVal:string | number){\n        let colIdx = this.columnHeaderIdxs[col];\n        if (isNaN(colIdx)){\n            colIdx = this.nCols();\n            this.columnHeaderIdxs[col]=colIdx;\n            if (!this.orderedColumnHeaders)\n                this.rebuildOrderedColumnHeaders()\n            else\n                this.orderedColumnHeaders.push(col);\n        }\n        this.setI(row,colIdx,newVal);\n    }\n    addTo(row:number,col:string,newVal:number){\n        let oldVal = this.get(row,col);\n        if (isNaN(<number>oldVal)){\n            this.set(row,col,newVal);\n        } else {\n            this.set(row,col,<number>oldVal+newVal);\n        }\n    }\n    \n    renameColumns(newNames:{[oldName:string]:string}){\n        for (let oldName in newNames){\n            let newName = newNames[oldName];\n            if (oldName in this.columnHeaderIdxs){\n                let idx = this.columnHeaderIdxs[oldName]\n                delete this.columnHeaderIdxs[oldName]\n                this.columnHeaderIdxs[newName]=idx;\n            } else {\n                DB.msg(\"DataTable.renameColumns no such column named \"+oldName)\n            }\n        }\n        this.rebuildOrderedColumnHeaders();\n    }\n    sortRows(colName:string,descending=false){\n        if (!(colName in this.columnHeaderIdxs)){\n            DB.msg(\"DataTable.sortRows no such column \"+colName)\n            return;\n        }\n        let colIdx:number = this.columnHeaderIdxs[colName]\n        this.contents.sort((a,b)=>{\n            let aVal = a[colIdx]\n            let bVal = b[colIdx]\n            switch(typeof aVal){\n                case \"number\":\n                    let vr=aVal-bVal;\n                    if (descending) vr=-vr;\n                    return vr;\n                case \"string\":\n                    let r = aVal.localeCompare(bVal);\n                    if (descending) r=-r;\n                    return r;\n                default:\n                    return 0;\n            }\n        })\n    }\n    protected rebuildOrderedColumnHeaders(){\n        let len = Object.keys(this.columnHeaderIdxs).length;\n        this.orderedColumnHeaders=new Array(len)\n        for (let col in this.columnHeaderIdxs){\n            let idx=this.columnHeaderIdxs[col];\n            this.orderedColumnHeaders[idx]=col;\n        }\n    }\n\n    replaceNulls(fractionOfColumnMin=0){\n        if (fractionOfColumnMin==0){\n            let nc = this.nCols();\n            for (let c=0;c<nc;c++){\n                for (let r=0;r<this.contents.length;r++){\n                    let v = this.getI(r,c);\n                    if (!v){\n                        this.setI(r,c,0);\n                    }\n                }\n            }\n        } else {\n            let nc = this.nCols();\n            for (let c=0;c<nc;c++){\n                let min = 10000000;\n                for (let r=0;r<this.contents.length;r++){\n                    let v = this.getI(r,c);\n                    if (v && v<min){\n                        min=v;\n                    }\n                }\n                min = min*fractionOfColumnMin;\n                for (let r=0;r<this.contents.length;r++){\n                    let v = this.getI(r,c);\n                    if (!v){\n                        this.setI(r,c,min);\n                    }\n                }\n            }\n        }\n    }\n    parseNumbers(){\n        let nr=this.nRows();\n        for (let row=0;row<nr;row++){\n            for (let col in this.columnHeaderIdxs){\n                let v=this.get(row,col);\n                if (typeof v == \"string\"){\n                    let nv = parseFloat(v);\n                    if (!isNaN(nv)){\n                        this.set(row,col,nv);\n                    }\n                }\n            }\n        }\n    }\n    averageNormalizeByRow():DataTable{\n        let rslt = new DataTable([],this.columnHeaders());\n        let nr=this.nRows();\n        for (let row=0;row<nr;row++){\n            let sum=0;\n            let count=0;\n            let nc = this.columnHeaders().length;\n            for (let col=0;col<nc;col++){\n                let v = this.getI(row,col);\n                if (typeof v==\"number\"){\n                    sum+=v;\n                    count++;\n                }\n            }\n            if (count>0){\n                let avg = sum/count;\n                for (let col in this.columnHeaderIdxs){\n                    let v = this.get(row,col);\n                    if (typeof v==\"number\"){\n                        v=v/avg;\n                        rslt.set(row,col,v);\n                    } else {\n                        rslt.set(row,col,v);\n                    }\n                }\n            }\n        }\n        return rslt;\n    }\n    scalerMult(scaler:number){\n        for (let r in this.contents){\n            let row=this.contents[r];\n            for (let c in row){\n                if (!isNaN(row[c])){\n                    row[c]*=scaler;\n                }   \n            }\n        }\n    }\n}\n","/// <reference path=\"DataTableUIAbs.ts\"/>\n/// <reference path=\"../analysis/DataTable.ts\"/>\n\nclass DataTableUI extends DataTableUIAbs {\n    protected dataTable:DataTableAbs;\n    constructor(maxRows=20,maxCols=10,cellEnter?:(row:number,col:number)=>void){\n        super(maxRows,maxCols,cellEnter);\n\n    }\n    setData(dataTable:DataTableAbs){\n        this.dataTable=dataTable;\n        this.firstRow=0;\n        this.firstCol=0;\n        //dataTable.db();\n        ZUI.notify();\n    }\n    getData():DataTableAbs{\n        return this.dataTable;\n    }\n    hasData(): boolean {\n        if (this.dataTable) return true;\n        return false;\n    }\n    protected colHeaderList(): string[] {\n        if (this.dataTable){\n            return this.dataTable.columnHeaders();\n        } else {\n            return null;\n        }\n    }\n    protected rowLabelList(): string[] {\n        if (this.dataTable){\n            let rll:string[] = [];\n            let nr=this.dataTable.nRows();\n            for (let row=0;row<nr;row++){\n                let rowLabel = (row+1).toFixed(0);\n                rll.push(rowLabel);\n            }\n            return rll;\n        }\n        return null;\n    }\n    protected rowData(row: number, firstCol: number, lastCol: number): any[] {\n        if (this.dataTable){\n            let ch = this.dataTable.columnHeaders();\n            let rowData:any[] = [];\n            for (let col=firstCol;col<=lastCol;col++){\n                let colName=ch[col];\n                let v = this.dataTable.get(row,colName);\n\n                rowData.push(v);\n            }\n            return rowData;\n        } else {\n            return null;\n        }\n    }\n    \n}","\ntype DataTableRowLabeledJSON={[rowLabel:string]:{[colLabel:string]:(string | number)}}\n\nabstract class DataTableRowLabeledAbs {\n    abstract hasCol(colName:string):boolean;\n    abstract hasRow(rowName:string):boolean;\n    abstract nRows():number;\n    abstract rowLabel(rowIdx:number):string;\n    abstract rowIdx(rowLabel:string):number;\n    abstract rowLabels():string[];\n    abstract columnHeaders():string[];\n    abstract nCols():number;\n    abstract colName(colIdx:number):string;\n    abstract colIdx(colName:string):number;\n    abstract get(row:string,col:string):string|number;\n    abstract renameColumns(newNames:{[oldName:string]:string})\n    abstract relabelRows(newLabels:{[oldLabel:string]:string})\n\n    copy():DataTableRowLabeled{\n        let rslt = new DataTableRowLabeled();\n        let rl=this.rowLabels();\n        let ch = this.columnHeaders();\n        for (let r in rl){\n            for (let c in ch){\n                let v = this.get(r,c);\n                rslt.set(r,c,v);\n            }\n        }\n        return rslt;\n    }\n    toJSON():DataTableRowLabeledJSON{\n        let rslt:DataTableRowLabeledJSON={};\n        let rl=this.rowLabels();\n        let ch = this.columnHeaders();\n        for (let r of rl){\n            let rowObj:{[colName:string]:(string | number)} = {};\n            for (let c of ch){\n                let v = this.get(r,c);\n                if (v || (<number>v)==0)\n                    rowObj[c]=v;\n            }\n            rslt[r]=rowObj;\n        }\n        return rslt;\n    }\n    sum():number{\n        let total=0;\n        let rl = this.rowLabels();\n        let ch = this.columnHeaders();\n        for (let r of rl){\n            for (let c of ch){\n                let v = <number>this.get(r,c);\n                if (!isNaN(v))\n                    total+=v;\n            }\n        }\n        return total;\n    }\n    count():number{\n        let total=0;\n        let rl = this.rowLabels();\n        let ch = this.columnHeaders();\n        for (let r of rl){\n            for (let c of ch){\n                let v = <number>this.get(r,c);\n                if (v || 0==(v))\n                    total++;\n            }\n        }\n        return total;\n    }\n    countNumbers():number{\n        let total=0;\n        let rl = this.rowLabels();\n        let ch = this.columnHeaders();\n        for (let r of rl){\n            for (let c of ch){\n                let v = <number>this.get(r,c);\n                if (!isNaN(v))\n                    total++;\n            }\n        }\n        return total;\n    }\n    max():number{\n        let foundNum=false;\n        let max:number=0;\n        let rl = this.rowLabels();\n        let ch = this.columnHeaders();\n        for (let r of rl){\n            for (let c of ch){\n                let v = <number>this.get(r,c);\n                if (!isNaN(v)){\n                    if (!foundNum){\n                        max=v;\n                        foundNum=true;\n                    }\n                    if (v>max){\n                        max=v;\n                    } \n                }   \n            }\n        }\n        return max;\n    }\n    min():number{\n        let foundNum=false;\n        let min:number=0;\n        let rl = this.rowLabels();\n        let ch = this.columnHeaders();\n        for (let r of rl){\n            for (let c of ch){\n                let v = <number>this.get(r,c);\n                if (!isNaN(v)){\n                    if (!foundNum){\n                        min=v;\n                        foundNum=true;\n                    }\n                    if (v<min){\n                        min=v;\n                    } \n                }   \n            }\n        }\n        return min;\n    }\n    \n    db(msg?:string,maxColumns=5,maxRows=20){\n        if (msg) DB.start(msg);\n        DB.msg(`(${this.nRows()}x${this.nCols()})`)\n        let rowEll=false;\n        let colEll=false;\n        let cols=this.nCols();\n        if (cols>maxColumns){\n            colEll=true;\n            cols=maxColumns;\n        }\n        let rows=this.nRows();\n        if (rows>maxRows){\n            rowEll=true;\n            rows=maxRows;\n        }\n        let headerStr = \"\\t\";\n        let ch = this.columnHeaders();\n        let rl = this.rowLabels();\n        for (let c=0;c<cols;c++){\n            let col=ch[c];\n            headerStr+=col+\"\\t\";\n        }\n        if(colEll) headerStr+=\"...\"\n        DB.msg(headerStr);\n\n\n        for (let r=0;r<rows;r++){\n            let rowStr=`[${rl[r]}]:\\t`;\n            for (let c=0;c<cols;c++){\n                let val = this.get(this.rowLabel(r),this.colName(c));\n                if (typeof val == \"string\"){\n                    rowStr+='\"'+val+'\"\\t';\n                } else {\n                    rowStr+=val+\"\\t\"\n                }\n            }\n            if (colEll) rowStr+=\"...\";\n            DB.msg(rowStr);\n        }\n        if (rowEll) DB.msg(\"...\")\n        if (msg) DB.end(msg);\n    }\n}","/// <reference path=\"DataTableRowLabeledAbs.ts\"/>\n\n\nclass DataTableRowLabeled extends DataTableRowLabeledAbs{\n    \n    protected contents:any[][] // [row,column]\n    protected columnHeaderIdxs:{[columnHeader:string]:number}\n    protected orderedColumnHeaders:string[]\n    protected rowLabelIdxs:{[rowHeader:string]:number}\n    protected orderedRowLabels:string[];\n    constructor(){\n        super();\n        this.contents=[];\n        this.columnHeaderIdxs={};\n        this.rowLabelIdxs={};\n        this.orderedColumnHeaders=[];\n        this.orderedRowLabels=[]\n    }\n    rowIndexes():{[rowHeader:string]:number}{ return this.rowLabelIdxs}\n    colIndexes():{[colName:string]:number} {return this.columnHeaderIdxs}\n    hasCol(colName:string):boolean{\n        return colName in this.columnHeaderIdxs;\n    }\n    hasRow(rowName:string):boolean{\n        return rowName in this.rowLabelIdxs;\n    }\n    nRows():number{\n        return this.contents.length;\n    }\n    rowLabels():string[]{\n        if (!this.orderedRowLabels)\n            this.rebuildOrderedRowLabels();\n        return this.orderedRowLabels;\n    }\n    rowLabel(rowIdx:number):string{\n        return this.orderedRowLabels[rowIdx]\n    }\n    rowIdx(rowLabel:string):number{\n        return this.rowLabelIdxs[rowLabel]\n    }\n    columnHeaders():string[]{\n        if (!this.orderedColumnHeaders){\n            this.rebuildOrderedColumnHeaders();\n        }\n        return this.orderedColumnHeaders;\n    }\n    nCols():number{\n        return this.orderedColumnHeaders.length;\n    }\n    colName(colIdx:number):string {\n        return this.orderedColumnHeaders[colIdx];\n    }\n    colIdx(colName:string):number{\n        return this.columnHeaderIdxs[colName]\n    }\n    static fromJSON(json:DataTableRowLabeledJSON):DataTableRowLabeled{\n        let rslt = new DataTableRowLabeled();\n        for (let r in json){\n            let row = json[r];\n            for (let c in row){\n                let v = row[c];\n                rslt.set(r,c,v);\n            }\n        }\n        return rslt;\n    }\n    getI(row:number,col:number):any{\n        if (row<0 || row>=this.contents.length)\n            return 0;\n        let contRow = this.contents[row];\n        if (col<0 || col>=contRow.length)\n            return 0;\n        return this.contents[row][col]\n    }\n    protected setI(row:number,col:number,newVal:any){\n        if (row<0) return;\n        while (row>this.contents.length-1)\n            this.contents.push([]);\n        let contRow = this.contents[row];\n        while (col>contRow.length-1){\n            contRow.push(0)\n        }\n        this.contents[row][col]=newVal;\n    }\n    get(row:string,col:string):string | number {\n        let rowIdx=this.rowLabelIdxs[row];\n        if (!rowIdx && rowIdx!=0)\n            return 0;\n        let colIdx = this.columnHeaderIdxs[col];\n        if (!colIdx && colIdx!=0){\n            return 0;\n        }\n        return this.getI(rowIdx,colIdx)\n    }\n    set(row:string,col:string,newVal:string|number){\n        let rowIdx = this.rowLabelIdxs[row];\n        if (isNaN(rowIdx)){\n            rowIdx = this.nRows();\n            this.rowLabelIdxs[row]=rowIdx;\n            if (!this.orderedRowLabels)\n                this.rebuildOrderedRowLabels()\n            else\n                this.orderedRowLabels.push(row);\n        }\n        let colIdx = this.columnHeaderIdxs[col];\n        if (isNaN(colIdx)){\n            colIdx = this.nCols();\n            this.columnHeaderIdxs[col]=colIdx;\n            if (!this.orderedColumnHeaders)\n                this.rebuildOrderedColumnHeaders()\n            else\n                this.orderedColumnHeaders.push(col);\n        }\n        this.setI(rowIdx,colIdx,newVal);\n    }\n    addTo(row:string,col:string,newVal:number){\n        let oldVal = this.get(row,col);\n        if (isNaN(<number>oldVal)){\n            this.set(row,col,newVal);\n        } else {\n            this.set(row,col,<number>oldVal+newVal);\n        }\n    }\n    getRow(row:string):DataRow{\n        let dr = new DataRow();\n        for (let col in this.columnHeaderIdxs){\n            dr.set(col,this.get(row,col))\n        }\n        return dr;\n    }\n    getCol(col:string):DataColumn{\n        let dc = new DataColumn(col);\n        let idx=0;\n        for (let row in this.rowLabelIdxs){\n            dc.set(idx++,this.get(row,col))\n        }\n        return dc;\n    }\n    \n    renameColumns(newNames:{[oldName:string]:string}){\n        for (let oldName in newNames){\n            let newName = newNames[oldName];\n            if (oldName in this.columnHeaderIdxs){\n                let idx = this.columnHeaderIdxs[oldName]\n                delete this.columnHeaderIdxs[oldName]\n                this.columnHeaderIdxs[newName]=idx;\n            } else {\n                DB.msg(\"DataTableRowLabeled.renameColumns no such column named \"+oldName)\n            }\n        }\n        this.rebuildOrderedColumnHeaders();\n    }\n    relabelRows(newNames:{[oldName:string]:string}){\n        for (let oldName in newNames){\n            let newName = newNames[oldName];\n            if (oldName in this.rowLabelIdxs){\n                let idx = this.rowLabelIdxs[oldName]\n                delete this.rowLabelIdxs[oldName]\n                this.rowLabelIdxs[newName]=idx;\n            } else {\n                DB.msg(\"DataTableRowLabeled.renameRows no such row named \"+oldName)\n            }\n        }\n        this.rebuildOrderedRowLabels();\n    }\n    protected rebuildOrderedColumnHeaders(){\n        let len = Object.keys(this.columnHeaderIdxs).length;\n        this.orderedColumnHeaders=new Array(len)\n        for (let col in this.columnHeaderIdxs){\n            let idx=this.columnHeaderIdxs[col];\n            this.orderedColumnHeaders[idx]=col;\n        }\n    }\n    protected rebuildOrderedRowLabels(){\n        let len = Object.keys(this.rowLabelIdxs).length;\n        this.orderedRowLabels=new Array(len)\n        for (let row in this.rowLabelIdxs){\n            let idx=this.rowLabelIdxs[row];\n            this.orderedRowLabels[idx]=row;\n        }\n    }\n    \n    scalerMult(scaler:number){\n        for (let r in this.contents){\n            let row=this.contents[r];\n            for (let c in row){\n                if (!isNaN(row[c])){\n                    row[c]*=scaler;\n                }   \n            }\n        }\n    }\n}","/// <reference path=\"DataTableUI.ts\"/>\n/// <reference path=\"../analysis/DataTableRowLabeled.ts\"/>\n\nclass DataTableRowLabeledUI extends DataTableUIAbs{\n    protected dataTable:DataTableRowLabeled;\n    private rowLabels:string[];\n    constructor(maxRows=20,maxCols=10,cellEnter?:(row:number,col:number)=>void){\n        super(maxRows,maxCols,cellEnter);\n\n    }\n    \n    setData(dataTable:DataTableRowLabeled){\n        this.dataTable=dataTable;\n        this.firstRow=0;\n        this.firstCol=0;\n        ZUI.notify();\n    }\n    hasData(): boolean {\n        if (this.dataTable) return true;\n        return false;\n    }\n    protected colHeaderList(): string[] {\n        if (this.dataTable){\n            return this.dataTable.columnHeaders();\n        } else {\n            return null;\n        }\n    }\n\n    protected rowLabelList(): string[] {\n        if (this.dataTable){\n            let rowLabels = this.dataTable.rowLabels();\n            this.rowLabels= rowLabels;\n        } else\n            this.rowLabels= null;\n        return this.rowLabels;\n    }\n    protected rowData(row: number, firstCol: number, lastCol: number): any[] {\n        if (this.dataTable){\n            let rowLabel = this.rowLabels[row];\n            let ch = this.dataTable.columnHeaders();\n            let rowData:any[]=[];\n            for (let col=firstCol;col<=lastCol;col++){\n                let colName=ch[col];\n                let v = this.dataTable.get(rowLabel,colName);\n                \n                rowData.push(v);\n            }\n            return rowData;\n        } else {\n            return null;\n        }\n    }\n    \n}","\n\nclass ChartUI extends ZUI {\n    private width:number;\n    private height:number;\n    private setWidth:number;\n    private setHeight:number;\n    private canvas:JQuery;\n    private chartLeft:number;\n    private chartRight:number;\n    private chartTop:number;\n    private chartBottom:number;\n    private yAxisWidth:number;\n    private xAxisHeight:number;\n    protected xMax:number;\n    protected yMax:number;\n    protected xMin:number;\n    protected yMin:number;\n\n    private nYTicks:number;\n    private nXTicks:number;\n\n    private showYAxis:boolean;\n    private showXAxis:boolean;\n\n    private drawLineColor:string;\n    private drawLineWidth:number;\n    private graphics:CanvasRenderingContext2D;\n\n    private dataType:string;\n    private dataRow:DataRowAbs;\n    private eventsSetup:boolean;\n    private colHoverCallback:(col:string)=>void;\n    private lastHoverIdx:number;\n    private downX:number;\n\n    private startColRange:number;\n    private endColRange:number;\n    private colRangeCallback:(startCol:number,endCol:number)=>void;\n\n    private onClick:(colIdx:number)=>void;\n\n    constructor(){\n        super();\n        this.setWidth=100;\n        this.setHeight=50;\n        this.yAxisWidth=50;\n        this.xAxisHeight=20\n        this.nYTicks=10;\n        this.nXTicks=10;\n        this.eventsSetup=false;\n        this.showYAxis=true;\n        this.drawLineColor=\"#FF0000\";\n        this.drawLineWidth=2;\n        this.startColRange=-1;\n        this.endColRange=-1;\n        PageManager.addAfterDOMNotice(()=>{\n            if (!this.eventsSetup && this.canvas){\n                this.setupEventListeners();\n                this.eventsSetup=true;\n            }\n        })\n    }\n    size(width:number,height:number):ChartUI{\n        this.setWidth=width;\n        this.setHeight=height;\n        return this;\n    }\n    gridSize(nXTicks:number,nYTicks:number):ChartUI{\n        this.nXTicks=nXTicks;\n        this.nYTicks=nYTicks;\n        return this;\n    }\n    setDataRow(dataRow:DataRowAbs){\n        this.dataType=\"row\";\n        this.dataRow=dataRow;\n        \n        ZUI.notify();\n    }\n    colHover(colHoverCallback:(colName:string)=>void):ChartUI{\n        this.colHoverCallback=colHoverCallback;\n        return this;\n    }\n    colRangeSelect(colRangeCallback:(colStart:number,colEnd:number)=>void):ChartUI{\n        this.colRangeCallback=colRangeCallback;\n        return this;\n    }\n    click(onClick:(colIdx:number)=>void):ChartUI{\n        this.onClick=onClick;\n        return this;\n    }\n    xAxis(show=true):ChartUI{\n        this.showXAxis=show;\n        return this;\n    }\n    yAxis(show=true):ChartUI{\n        this.showYAxis=show;\n        return this;\n    }\n    line(lc:string,width=4):ChartUI{\n        this.drawLineColor=lc;\n        this.drawLineWidth=width;\n        return this;\n    }\n    private toX(x:number):number{\n        let newX= this.chartLeft+(x-this.xMin)/(this.xMax-this.xMin)\n            *(this.chartRight-this.chartLeft);\n        \n        //DB.msg(`x${x} fromX${this.fromX(newX)}`)\n        return newX;\n    }\n    private fromX(x:number):number{\n        let newX = (x*2-this.chartLeft)/(this.chartRight-this.chartLeft)\n            *(this.xMax-this.xMin)+this.xMin;\n        return newX;\n    } \n    private eventX(event:Event):number{\n        let x=0;\n        if (event instanceof MouseEvent){\n            x = (<MouseEvent>event).clientX;\n        } else if (event instanceof TouchEvent){\n            x=(<TouchEvent>event).changedTouches[0].pageX\n        } else {\n            let oe = (<any>event).originalEvent\n            if (oe){\n                x = oe.clientX;\n            } \n        }\n        let rect = this.canvas[0].getBoundingClientRect();\n        x = x-rect.left;\n        return x;\n    }\n    private eventToChartX(event:Event):number {\n        let x=this.eventX(event);\n        x=this.fromX(x);\n        return x;\n    }\n    private toY(y:number):number{\n        let newY = this.chartBottom+(y-this.yMin)/(this.yMax-this.yMin)\n            *(this.chartTop-this.chartBottom);\n        //DB.msg(`y${y} fromY${this.fromY(newY)}`)\n        return newY;\n    }\n    private fromY(y:number):number{\n        let newY = (y*2-this.chartBottom)/(this.chartTop-this.chartBottom)\n            * (this.yMax-this.yMin)+this.yMin;\n        return newY;\n    }\n    private eventY(event:Event):number{\n        let y=0;\n        if (event instanceof MouseEvent){\n            y = (<MouseEvent>event).clientY;\n        } else if (event instanceof TouchEvent){\n            y=(<TouchEvent>event).changedTouches[0].pageY\n        } else {\n            let oe = (<any>event).originalEvent\n            if (oe){\n                y = oe.clientY;\n            } \n        }\n        let rect = this.canvas[0].getBoundingClientRect();\n        y = y-rect.top;\n        return y;\n    }\n    private eventToChartY(event:Event):number {\n        let y=this.eventY(event);\n        y=this.fromY(y);\n        return y;\n    }\n    private mouseMove(event:Event){\n        let x = this.eventToChartX(event);\n        let y = this.eventToChartY(event);\n        if (this.colRangeCallback){\n            if ((<any>event).originalEvent)\n                event=(<any>event).originalEvent;\n            if (event instanceof MouseEvent){\n                let me = <MouseEvent>event;\n                if (me.which==1){\n                    this.expandRange(x);\n                    this.paint();\n                }\n            }\n        }\n        if (this.colHoverCallback){\n            if (x<this.xMin || x>this.xMax) return;\n            let colIdx = Math.floor(x+0.5);\n            if (colIdx!=this.lastHoverIdx){\n                this.lastHoverIdx=colIdx;\n                if (this.dataRow){\n                    let colName = this.dataRow.columnHeaders()[colIdx]\n                    this.colHoverCallback(colName);\n                }\n            }\n        }\n        //DB.msg(`mouseMove [${x},${y}]`)\n    }\n    expandRange(x:number){\n        if (x<this.xMin)\n            x=this.xMin;\n        if (x>this.xMax)\n            x=this.xMax;\n        x=Math.floor(x+0.5)\n        if (this.startColRange<0)\n            this.startColRange=x;\n        if (this.endColRange<0)\n            this.endColRange=x;\n        if (x<this.startColRange)\n            this.startColRange=x;\n        if (x>this.endColRange)\n            this.endColRange=x;\n    }\n    private mouseDown(event:Event){\n        this.downX=this.eventX(event);\n        if (this.colRangeCallback){\n            let x=this.eventToChartX(event);\n            if (x<this.xMin)\n                this.expandRange(this.xMin);\n            else if (x>this.xMax)\n                this.expandRange(this.xMax);\n            else\n                this.expandRange(x);\n            this.paint();\n        } else {\n            this.startColRange=this.endColRange=-1;\n        }\n    }\n    private mouseUp(event:Event){\n        let upX = this.eventX(event);\n        let dx=upX-this.downX;\n        if (dx<0) dx=-dx;\n        if (this.colRangeCallback){\n            let x=this.eventToChartX(event);\n            this.expandRange(x);\n            if (this.startColRange>=0){\n                let start=Math.floor(this.startColRange+0.5)\n                let end=Math.floor(this.endColRange+0.5);\n                if (dx>4)\n                    this.colRangeCallback(start,end)\n            }\n            this.startColRange=this.endColRange=-1;\n            this.paint();\n        }\n        if (this.onClick){\n            let x = Math.floor(this.eventToChartX(event)+0.5);\n            if (dx<=4)\n                this.onClick(x);\n        }\n    }\n    private mouseEnter(event:Event){\n        if (this.colRangeCallback){\n            if (event instanceof MouseEvent){\n                if ((<MouseEvent>event).which==1){\n                    let x = this.eventToChartX(event);\n                    this.expandRange(x);\n                    this.paint();\n                }\n            }\n        }\n    }\n    private mouseLeave(event:Event){\n        this.startColRange=this.endColRange=-1;\n        this.paint();\n    }\n    private calculateChartArea(){\n        this.chartLeft=this.yAxisWidth+2;\n        this.chartRight=this.width-2;\n        let m = this.graphics.measureText(\"A\");\n        let textPad = (m.actualBoundingBoxAscent+m.actualBoundingBoxDescent);\n        this.chartTop=2+textPad;\n        this.chartBottom=this.height-this.xAxisHeight-textPad;\n    }\n    private calculateAxesSpace(){\n        if (this.dataType){\n            switch(this.dataType){\n                case \"row\":\n                    this.computeRowAxes();\n                    return;\n                default:\n                    break;\n            }\n        }\n        this.yAxisWidth=0;\n        this.xAxisHeight=0;\n    }\n    protected calculateDataBounds(){\n        if (this.dataType){\n            switch(this.dataType){\n                case \"row\":\n                    this.rowBounds();\n                    return;\n                default:\n                    break;\n            }\n        }\n        this.xMin=-10;\n        this.yMin=-1;\n        this.xMax=100;\n        this.yMax=1;\n    }\n\n    private paint(){\n        let g=this.graphics;\n        g.font=ChartUI.labelFont;\n        this.calculateDataBounds();\n        this.calculateAxesSpace();\n        this.calculateChartArea();\n        g.strokeStyle=\"#000000\";\n        g.clearRect(0,0,this.width,this.height)\n        this.paintSelection();\n        this.paintGrid();\n        this.paintAxes();\n        g.strokeRect(this.chartLeft,this.chartTop,\n            this.chartRight-this.chartLeft,this.chartBottom-this.chartTop);\n        if (this.dataType){\n            switch(this.dataType){\n                case \"row\":\n                    this.paintRow();\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n    private paintGrid(){\n        let g=this.graphics;\n        g.font=ChartUI.labelFont;\n        let xWidth = this.xMax-this.xMin\n        let xStride = (xWidth)/this.nXTicks;\n        let yWidth = this.yMax-this.yMin;\n        let yStride = yWidth/this.nYTicks;\n        g.strokeStyle=\"#888888\";\n        let saveDash = g.getLineDash();\n        let saveWidth = g.lineWidth;\n        g.lineWidth=3;\n        g.setLineDash([6,9])\n        g.beginPath();\n        if (xStride>0){\n            for (let x=xStride;x<xWidth;x+=xStride){\n                g.moveTo(this.toX(x),this.toY(this.yMin));\n                g.lineTo(this.toX(x),this.toY(this.yMax))\n            }\n        }\n        if (yStride>0){\n            for (let y=yStride;y<yWidth;y+=yStride){\n                g.moveTo(this.toX(this.xMin),this.toY(y));\n                g.lineTo(this.toX(this.xMax),this.toY(y))\n            }\n        }\n        g.stroke();\n        g.setLineDash(saveDash);\n        g.lineWidth=saveWidth;\n    }\n    private paintAxes(){\n        if (this.dataType){\n            switch(this.dataType){\n                case \"row\":\n                    this.paintRowAxes();\n                    return;\n                default:\n                    break;\n            }\n        }\n        return;\n    }\n    private paintSelection(){\n        if (this.startColRange<0) return;\n        let start = this.toX(this.startColRange-0.5);\n        let end = this.toX(this.endColRange+0.5);\n        let g=this.graphics;\n        let saveFill=g.fillStyle;\n        g.fillStyle= \"rgba(200,200,200,0.2)\";\n        g.fillRect(start,this.chartTop,end-start,this.chartBottom-this.chartTop);\n        g.fillStyle=saveFill;\n    }\n    private paintRow(){\n        let g=this.graphics;\n        let saveStroke = g.strokeStyle;\n        let saveWidth = g.lineWidth;\n        g.strokeStyle=this.drawLineColor;\n        g.lineWidth=this.drawLineWidth;\n        g.beginPath();\n        let nc=this.dataRow.nCols();\n        let ch=this.dataRow.columnHeaders();\n        let gap=true;\n        for (let cIdx = 0; cIdx<nc;cIdx++){\n            let v = <number>this.dataRow.get(ch[cIdx])\n\n            if (isNaN(v)){\n            } else {\n                if (gap){\n                    g.moveTo(this.toX(cIdx),this.toY(v))\n                    gap=false;\n                } else {\n                    g.lineTo(this.toX(cIdx),this.toY(v));\n                }\n            }\n        }\n        g.stroke();\n        g.strokeStyle=saveStroke;\n        g.lineWidth=saveWidth;\n    }\n    private static yLabelOffset = 2;\n    private static labelFont = \"30px Arial\"\n    private paintRowAxes(){\n        let g = this.graphics;\n        let saveAlign = g.textAlign;\n        let saveBase = g.textBaseline;\n        g.fillStyle=\"#000000\"\n        if (this.showYAxis){\n            g.textAlign=\"end\"\n            g.textBaseline=\"middle\"\n            let yWidth = this.yMax-this.yMin;\n            let yStride = yWidth/this.nYTicks;\n            if (yStride==0){\n                let label=this.yMax.toString();\n                g.fillText(label,this.chartLeft-ChartUI.yLabelOffset,this.chartTop);\n                g.fillText(label,this.chartLeft-ChartUI.yLabelOffset,this.chartBottom);\n            } else {\n                let decimals=this.estimateDecimals(yStride);\n                for (let y=this.yMin;y<=this.yMax;y+=yStride){\n                    let label = y.toFixed(decimals);\n                    if (decimals>10)\n                        label=y.toString();\n                    g.fillText(label,this.chartLeft-ChartUI.yLabelOffset,this.toY(y))\n                }\n            }\n        }\n        if (this.showXAxis){\n            g.textAlign=\"center\";\n            g.textBaseline=\"bottom\";\n            let xWidth = this.xMax-this.xMin;\n            let xStride = xWidth/this.nXTicks;\n            if (xStride==0){\n                let label = this.xMax.toString();\n                g.fillText(label,this.chartLeft,this.height);\n            } else {\n                let ch = this.dataRow.columnHeaders();\n                for (let x=this.xMin;x<this.xMax;x+=xStride){\n                    let colIdx = Math.floor(x+0.5)\n                    let label = ch[colIdx]//xLabel.toFixed(decimals);\n                    g.fillText(label,this.toX(x),this.height);\n                }\n            }\n        }\n        g.textAlign=saveAlign;\n        g.textBaseline=saveBase;\n    }\n    private rowBounds(){\n        this.xMin=0;\n        this.xMax=this.dataRow.nCols()-1;\n        this.yMin=this.dataRow.min();\n        this.yMax=this.dataRow.max();\n    }\n    private computeRowAxes(){\n        this.computeRowYAxis();\n        this.computeRowXAxis();\n    }\n    private computeRowYAxis(){\n        if (this.showYAxis){\n            let g=this.graphics;\n            let yWidth = this.yMax-this.yMin;\n            let yStride = yWidth/this.nYTicks;\n            if (yStride==0){\n                let label=this.yMax.toString();\n                let width=g.measureText(label).width+ChartUI.yLabelOffset;\n                this.yAxisWidth=width;\n            } else {\n                let decimals=this.estimateDecimals(yStride);\n                this.yAxisWidth=0;\n                for (let y=0;y<=yWidth;y+=yStride){\n                    let label = y.toFixed(decimals);\n                    if (decimals>10)\n                        label=y.toString();\n                    let width=g.measureText(label).width+ChartUI.yLabelOffset;\n                    if (width>this.yAxisWidth)\n                        this.yAxisWidth=width;\n                }\n            }\n        } else {\n            this.yAxisWidth=0;\n        }\n    }\n    private computeRowXAxis(){\n        if (this.showXAxis){\n            let g = this.graphics;\n            let m = g.measureText(\"A\");\n            this.xAxisHeight=m.actualBoundingBoxAscent+m.actualBoundingBoxDescent;\n            \n        } else {\n            this.xAxisHeight=0;\n        }\n    }\n    private estimateDecimals(range:number):number{\n        let decimals = 0;\n        let nr = range;\n        while (nr<1){\n            nr*=10;\n            decimals ++\n            if (decimals>10) return decimals;\n        }\n        return decimals;\n    }\n\n    setupEventListeners(){\n        let canvas:JQuery = this.canvas;\n        canvas.mousemove((event: Event) => {\n            try {\n                event.preventDefault();\n                this.mouseMove(event);\n            } catch (e) { DB.msg(\"mousemove ERR\",e); }\n        });\n        canvas.mouseup((event:Event)=>{\n            try {\n                event.preventDefault();\n                this.mouseUp(event)\n            }catch (e) {DB.msg(\"mouseup Err\",e)}\n        })\n        canvas.mousedown((event:Event)=>{\n            try {\n                event.preventDefault();\n                this.mouseDown(event)\n            }catch (e) {DB.msg(\"mousedown Err\",e)}\n        })\n        \n        canvas.mouseleave((event:Event)=>{\n            try {\n                event.preventDefault();\n                this.mouseLeave(event)\n            }catch (e) {DB.msg(\"mouseleave Err\",e)}\n        })\n        canvas.mouseenter((event:Event)=>{\n            try {\n                event.preventDefault();\n                this.mouseEnter(event)\n            }catch (e) {DB.msg(\"mouseenter Err\",e)}\n        })\n    }\n    renderJQ():JQuery{\n        this.eventsSetup=false;\n        this.canvas= $(`<canvas class=\"ChartUI ${this.classStr()}\" width=${this.setWidth}px height=${this.setHeight}px style=\"width:${this.setWidth}px;height:${this.setHeight}\"></canvas>`);\n        this.width=this.setWidth*2;\n        (<any>this.canvas[0]).width=this.width;\n        this.height=this.setHeight*2;\n        (<any>this.canvas[0]).height=this.height;\n        this.graphics = (<HTMLCanvasElement>this.canvas[0]).getContext(\"2d\")\n        this.paint();\n        this.applyCSS(this.canvas);\n        return this.canvas;\n    }\n}","\ntype DiffEditCode = \"start\" | \"match\" | \"replace\" | \"skipFrom\" | \"addTo\"\nclass LineDiff {\n    private lFrom:string[];\n    private lTo:string[];\n    private heap:DiffEdit[];\n    private addMemory:{[hash:number]:DiffEdit}\n    private patch:DiffEdit[];\n    private fromLineReplaced_:{[fromLine:number]:boolean}\n    private fromLineSkipped_:{[fromLine:number]:boolean}\n    private toLineDeleted_:{[fromLine:number]:boolean}\n    constructor(from:string,to:string){\n        this.lFrom=from.split(\"\\n\");\n        this.lTo=to.split(\"\\n\")\n        this.patch = this.editsForS1IntoS2();\n        this.indexPatch();\n    }\n    getPatch():DiffEdit[]{\n        return this.patch;\n    }\n    fromLineReplaced(fromLine:number):boolean { return this.fromLineReplaced_[fromLine]}\n    fromLineSkipped(fromLine:number):boolean { return this.fromLineSkipped_[fromLine]}\n    toLineDeleted(fromLine:number):boolean { return this.toLineDeleted_[fromLine]}\n    protected indexPatch(){\n        this.fromLineReplaced_={};\n        this.fromLineSkipped_={};\n        this.toLineDeleted_={};\n        if (this.patch){\n            for (let i=0;i<this.patch.length;i++){\n                let edit = this.patch[i];\n                switch(edit.edit){\n                    case \"start\":\n                        break;\n                    case \"match\":\n                        break;\n                    case \"replace\":\n                        this.fromLineReplaced_[edit.fromIdx]=true;\n                        break;\n                    case \"skipFrom\":\n                        this.fromLineSkipped_[edit.fromIdx]=true;\n                        break;\n                    case \"addTo\":\n                        this.toLineDeleted_[edit.fromIdx]=true;\n                        break;\n                }\n            }\n        }\n    }\n    private editsForS1IntoS2():DiffEdit[]{\n        this.heap=[ ]\n        this.addMemory={}\n        let top = new DiffEdit(0,0,\"start\",0)\n        while (top.fromIdx<this.lFrom.length || top.toIdx<this.lTo.length){\n            if (top.fromIdx<this.lFrom.length){\n                let skip = new DiffEdit(top.fromIdx+1,top.toIdx,\"skipFrom\",top.totalCost+1,top);\n                this.add(skip);\n            }\n            if (top.toIdx<this.lTo.length){\n                let add = new DiffEdit(top.fromIdx,top.toIdx+1,\"addTo\",top.totalCost+1,top);\n                this.add(add);\n            }\n            if (top.fromIdx<this.lFrom.length && top.toIdx<this.lTo.length){\n                let mc = this.matchCost(top.fromIdx,top.toIdx);\n                let edit:DiffEditCode=\"replace\";\n                if (mc==0)\n                    edit=\"match\"\n                let match = new DiffEdit(top.fromIdx+1,top.toIdx+1,edit,\n                    top.totalCost+2*mc,top);\n                this.add(match);\n            }\n            top = this.get();\n        }\n        let rslt = this.reverseEdits(top);\n        return rslt;\n    }\n    protected matchCost(fromIdx:number,toIdx:number):number{ \n            // returns 0 for no cost (match) and 1 for complete missmatch or in between\n        let fromS = this.lFrom[fromIdx];\n        let toS = this.lTo[toIdx];\n        if (fromS==toS)\n            return 0\n        else\n            return 0.99999\n    }\n    private reverseEdits(top:DiffEdit):DiffEdit[]{\n        if (top && top.edit!=\"start\"){\n            let prev:DiffEdit[] = this.reverseEdits(top.prevState);\n            top.fromIdx--;\n            top.toIdx--;\n            prev.push(top);\n            return prev;\n        } else {\n            return [];\n        }\n    }\n    private add(edit:DiffEdit){\n        let hash = edit.hash();\n        let mem = this.addMemory[hash];\n        if (mem && mem.totalCost<=edit.totalCost) \n            return;\n        this.addMemory[hash]=edit;\n        let lastIdx = this.heap.length;\n        this.heap.push(edit);\n        while (lastIdx>0){\n            let upIdx = Math.floor(lastIdx/2);\n            if (this.heap[lastIdx].totalCost<this.heap[upIdx].totalCost){\n                this.exchange(lastIdx,upIdx);\n                lastIdx=upIdx;\n            } else {\n                lastIdx=-1;\n            }\n        }\n    }\n    private exchange(i1:number,i2:number){\n        let tmp = this.heap[i1];\n        this.heap[i1]=this.heap[i2]\n        this.heap[i2]=tmp;\n    }\n    private get():DiffEdit{\n        if (this.heap.length>0){\n            let rslt = this.heap[0];\n            this.heap[0]=this.heap.pop();\n            let idx=0;\n            while (idx<this.heap.length){\n                let left = idx*2+1;\n                if (left<this.heap.length&&this.heap[left].totalCost<this.heap[idx].totalCost){\n                    this.exchange(left,idx);\n                    idx=left;\n                } else {\n                    let right = left+1;\n                    if (right<this.heap.length&&this.heap[right].totalCost<this.heap[idx].totalCost){\n                        this.exchange(right,idx);\n                        idx=right;\n                    } else {\n                        idx=this.heap.length;\n                    }\n                }\n            }\n            return rslt;\n        } else {\n            return null;\n        }\n    }\n    applyEditFromTo(edits:DiffEdit[]):string{\n        let rslt=\"\";\n        for (let i=0;i<edits.length;i++){\n            let edit = edits[i];\n            switch (edit.edit){\n                case \"start\":\n                    break;\n                //case \"addFrom\":\n                case \"match\":\n                case \"replace\":\n                    rslt=this.addLine(rslt,this.lTo[edit.toIdx])\n                    break;\n                case \"addTo\":\n                    rslt=this.addLine(rslt,this.lTo[edit.toIdx])\n                    break;\n                case \"skipFrom\":\n                //case \"skipTo\":\n                    break;\n            }\n        }\n        return rslt;\n    }\n    private addLine(str:string,addStr:string):string{\n        if (str && str.length>0){\n            return str+\"\\n\"+addStr;\n        } else {\n            return addStr;\n        }\n    }\n}\n\nclass DiffEdit {\n    fromIdx:number;\n    toIdx:number;\n    edit:DiffEditCode;\n    totalCost:number;\n    prevState:DiffEdit;\n    constructor(fromIdx:number,toIdx:number,edit:DiffEditCode,totalCost:number,prevState?:DiffEdit){\n        this.fromIdx=fromIdx;\n        this.toIdx=toIdx;\n        this.edit=edit;\n        this.totalCost=totalCost;\n        this.prevState=prevState;\n    }\n    hash():number{\n        return this.fromIdx*10000+this.toIdx;\n    }\n}","/// <reference path=\"LineDiff.ts\"/>\n\nclass StringDiff {\n    private lFrom:string;\n    private lTo:string;\n    private heap:DiffEdit[];\n    private addMemory:{[hash:number]:DiffEdit}\n    private patch:DiffEdit[];\n    private fromCharReplaced_:{[fromLine:number]:boolean}\n    private fromCharSkipped_:{[fromLine:number]:boolean}\n    private toCharDeleted_:{[fromLine:number]:boolean}\n    constructor(from:string,to:string){\n        this.lFrom=from;\n        this.lTo=to\n        this.patch = this.editsForS1IntoS2();\n        this.indexPatch();\n    }\n    getPatch():DiffEdit[]{\n        return this.patch;\n    }\n    fromCharReplaced(fromLine:number):boolean { return this.fromCharReplaced_[fromLine]}\n    fromCharSkipped(fromLine:number):boolean { return this.fromCharSkipped_[fromLine]}\n    toCharDeleted(fromLine:number):boolean { return this.toCharDeleted_[fromLine]}\n    protected indexPatch(){\n        this.fromCharReplaced_={};\n        this.fromCharSkipped_={};\n        this.toCharDeleted_={};\n        if (this.patch){\n            for (let i=0;i<this.patch.length;i++){\n                let edit = this.patch[i];\n                switch(edit.edit){\n                    case \"start\":\n                        break;\n                    case \"match\":\n                        break;\n                    case \"replace\":\n                        this.fromCharReplaced_[edit.fromIdx]=true;\n                        break;\n                    case \"skipFrom\":\n                        this.fromCharSkipped_[edit.fromIdx]=true;\n                        break;\n                    case \"addTo\":\n                        this.toCharDeleted_[edit.fromIdx]=true;\n                        break;\n                }\n            }\n        }\n    }\n    private editsForS1IntoS2():DiffEdit[]{\n        this.heap=[ ]\n        this.addMemory={}\n        let top = new DiffEdit(0,0,\"start\",0)\n        while (top.fromIdx<this.lFrom.length || top.toIdx<this.lTo.length){\n            if (top.fromIdx<this.lFrom.length){\n                let skip = new DiffEdit(top.fromIdx+1,top.toIdx,\"skipFrom\",top.totalCost+1,top);\n                this.add(skip);\n            }\n            if (top.toIdx<this.lTo.length){\n                let add = new DiffEdit(top.fromIdx,top.toIdx+1,\"addTo\",top.totalCost+1,top);\n                this.add(add);\n            }\n            if (top.fromIdx<this.lFrom.length && top.toIdx<this.lTo.length){\n                let mc = this.matchCost(top.fromIdx,top.toIdx);\n                let edit:DiffEditCode=\"replace\";\n                if (mc==0)\n                    edit=\"match\"\n                let match = new DiffEdit(top.fromIdx+1,top.toIdx+1,edit,\n                    top.totalCost+2*mc,top);\n                this.add(match);\n            }\n            top = this.get();\n        }\n        let rslt = this.reverseEdits(top);\n        return rslt;\n    }\n    protected matchCost(fromIdx:number,toIdx:number):number{ \n            // returns 0 for no cost (match) and 1 for complete missmatch or in between\n        let fromS = this.lFrom.charCodeAt(fromIdx);\n        let toS = this.lTo.charCodeAt(toIdx);\n        if (fromS==toS)\n            return 0\n        else\n            return 0.99999\n    }\n    private reverseEdits(top:DiffEdit):DiffEdit[]{\n        if (top && top.edit!=\"start\"){\n            let prev:DiffEdit[] = this.reverseEdits(top.prevState);\n            top.fromIdx--;\n            top.toIdx--;\n            prev.push(top);\n            return prev;\n        } else {\n            return [];\n        }\n    }\n    private add(edit:DiffEdit){\n        let hash = edit.hash();\n        let mem = this.addMemory[hash];\n        if (mem && mem.totalCost<=edit.totalCost) \n            return;\n        this.addMemory[hash]=edit;\n        let lastIdx = this.heap.length;\n        this.heap.push(edit);\n        while (lastIdx>0){\n            let upIdx = Math.floor(lastIdx/2);\n            if (this.heap[lastIdx].totalCost<this.heap[upIdx].totalCost){\n                this.exchange(lastIdx,upIdx);\n                lastIdx=upIdx;\n            } else {\n                lastIdx=-1;\n            }\n        }\n    }\n    private exchange(i1:number,i2:number){\n        let tmp = this.heap[i1];\n        this.heap[i1]=this.heap[i2]\n        this.heap[i2]=tmp;\n    }\n    private get():DiffEdit{\n        if (this.heap.length>0){\n            let rslt = this.heap[0];\n            this.heap[0]=this.heap.pop();\n            let idx=0;\n            while (idx<this.heap.length){\n                let left = idx*2+1;\n                if (left<this.heap.length&&this.heap[left].totalCost<this.heap[idx].totalCost){\n                    this.exchange(left,idx);\n                    idx=left;\n                } else {\n                    let right = left+1;\n                    if (right<this.heap.length&&this.heap[right].totalCost<this.heap[idx].totalCost){\n                        this.exchange(right,idx);\n                        idx=right;\n                    } else {\n                        idx=this.heap.length;\n                    }\n                }\n            }\n            return rslt;\n        } else {\n            return null;\n        }\n    }\n    applyEditFromTo(edits:DiffEdit[]):string{\n        let rslt=\"\";\n        for (let i=0;i<edits.length;i++){\n            let edit = edits[i];\n            switch (edit.edit){\n                case \"start\":\n                    break;\n                //case \"addFrom\":\n                case \"match\":\n                case \"replace\":\n                    rslt+=this.lTo.charAt(edit.toIdx)\n                    break;\n                case \"addTo\":\n                    rslt+=this.lTo.charAt(edit.toIdx)\n                    break;\n                case \"skipFrom\":\n                //case \"skipTo\":\n                    break;\n            }\n        }\n        return rslt;\n    }\n}","/// <reference path=\"ZUI.ts\"/>\n/// <reference path=\"../textprocessing/package.ts\"/>\n\nclass TextEditUI extends ZUI {\n    private editType:\"text\"|\"html\"|\"code\";\n    private getF_:Fstring;\n    private getBaseF_:Fstring;\n    private setF_:(text:string)=>void;\n    private jq:JQuery;\n    private sourceText:string;\n    private baseText:string;\n    private beforeSel:{\n        startLine:number,startOffset:number,endLine:number,endOffset:number\n    }\n    private afterSel:{\n        startLine:number,startOffset:number,endLine:number,endOffset:number\n    }\n    private nLines:number;\n    private keyCode:number;\n    private majorEventInput:boolean;\n    constructor(editType?:\"text\"|\"html\"|\"code\"){\n        super();\n        this.editType=editType;\n        if (!editType){\n            this.editType=\"text\";\n        }\n    }\n    setText(text:string){\n        this.sourceText=text;\n        if (this.jq){\n            let html = this.renderTextIntoHTML(text,this.baseText);\n            this.jq.html(html);\n        }\n    }\n    getText():string{\n        if (this.jq){\n            this.sourceText=this.renderHTMLIntoText();\n        }\n        return this.sourceText;\n    }\n    setBase(text:string){\n        this.baseText=text;\n        if (this.jq){\n            let html = this.renderTextIntoHTML(this.sourceText,this.baseText);\n            this.jq.html(html);\n        }\n    }\n    setF(eif:(text:string)=>void):TextEditUI{\n        this.setF_=eif;\n        return this;\n    }\n    private renderTextIntoHTML(text:string,baseText:string):string{\n        let lines:string[] = [];\n        if (text)\n            lines = text.split(\"\\n\");\n        let rslt=\"\";\n        let ld:LineDiff=null;\n        if (baseText){\n            ld = new LineDiff(text,baseText);\n        }\n        for (let i=0;i<lines.length;i++){\n            let line = lines[i];\n            let changeStyles=\"\";\n            if (ld){\n                if (ld.fromLineReplaced(i))\n                    changeStyles+=\" TextEditUI-flr\"\n                if (ld.fromLineSkipped(i))\n                    changeStyles+=\" TextEditUI-fls\"\n                if (ld.toLineDeleted(i))\n                    changeStyles+=\" TextEditUI-tld\"\n            }\n            let html=`<div class=\"TextEditUI-line ${changeStyles}\" zel=\"${i}\" contenteditable>${line}</div>`\n            rslt+=html;\n        }\n        this.nLines=lines.length;\n        return rslt;\n    }\n\n    private extractSelection():{\n        startLine:number,startOffset:number,endLine:number,endOffset:number\n    }{\n        \n        let sel=document.getSelection()\n        let range=sel.getRangeAt(0)\n        let startEl:Element = range.startContainer.parentElement;\n        let startLine:number = parseInt(startEl.getAttribute(\"zel\"));\n        let startOffset:number=range.startOffset;\n        let endEl = range.endContainer.parentElement;\n        let endLine:number = parseInt(endEl.getAttribute(\"zel\"));\n        let endOffset:number = range.endOffset;\n        return {startLine:startLine,startOffset:startOffset,endLine:endLine,endOffset:endOffset}\n    }\n    private renderHTMLIntoText():string{\n        let rslt = '';\n        let first=true;\n        this.jq.find(\"div\").each((index:number,elem:Element)=>{\n            let html=elem.innerHTML;\n            if (first){\n                first=false;\n                rslt=html;\n            } else {\n                rslt+=\"\\n\"+html;\n            }\n        });\n        return rslt;\n    }\n    renderJQ():JQuery{\n        this.getText();\n        let val=ZUI.stringVal(this.getF_);\n        if (!val)\n            val=\"\";\n        this.jq=$(`<div class=\"TextEditUI-${this.editType} ${this.classStr()}\" contenteditable>${val}</div>`);\n        this.jq.on(\"input\",(event:JQueryEventObject)=>{\n            //DB.msg(\"cont.input\",event.keyCode)\n            //DB.msg(\"cont.text\",this.getText())\n            this.afterSel=this.extractSelection();\n            this.handleMajorEventChange();\n        })\n        this.jq.on('keydown',(event:JQueryEventObject)=>{\n            this.beforeSel=this.extractSelection();\n            this.keyCode=event.keyCode;\n            this.majorEventInput=false;\n            if (event.ctrlKey) this.majorEventInput=true;\n            //DB.msg(\"cont.keydown\",event.keyCode)\n            if (event.keyCode==9){\n                event.preventDefault();\n                this.handleTab();\n            } else if (event.keyCode==13){\n                event.preventDefault();\n                this.handleReturn();\n            } \n            //DB.msg(\"keydowncode\",event.keyCode)\n        });\n        this.jq.on(\"blur\",()=>{\n            this.majorEventInput=true;\n            this.handleMajorEventChange();\n        })\n        let html = this.renderTextIntoHTML(this.sourceText,this.baseText)\n        this.jq.html(html);\n        this.applyCSS(this.jq);\n        return this.jq;\n    }\n    private handleMajorEventChange(){\n        let majorEvent = false;\n        let nChildren = this.jq.children.length;\n        if (this.nLines!=nChildren)\n            majorEvent=true;\n        if (this.beforeSel.startLine!=this.beforeSel.endLine)\n            majorEvent=true;\n        if (this.afterSel.startLine!=this.afterSel.endLine)\n            majorEvent=true;\n        if (this.beforeSel.endLine!=this.afterSel.endLine)\n            majorEvent=true;\n        if (this.beforeSel.startLine!=this.afterSel.startLine)\n            majorEvent=true;\n        if (!this.keyCode)\n            majorEvent=true;\n        if (this.majorEventInput)\n            majorEvent=true;\n        if (majorEvent){\n            if (this.setF_){\n                let text = this.renderHTMLIntoText();\n                this.setF_(text);\n                this.setText(text);\n                let zel=this.afterSel.endLine.toFixed();\n                let children = this.jq[0].children;\n                let selLineEl = children[this.afterSel.endLine]\n                let selLineTxt = selLineEl.innerHTML;\n                //let selLine = this.jq[0].children[this.afterSel.endLine][0]\n                let range=new Range();\n                //let selLineEl=selLine[0];\n                let offset = this.afterSel.endOffset;\n                if (selLineTxt.length<offset){\n                    offset=offset-selLineTxt.length-1;\n                    selLineEl=children[this.afterSel.endLine+1]\n                }\n                range.setStart(selLineEl.firstChild,offset);\n                range.setEnd(selLineEl.firstChild,offset);\n                let sel = document.getSelection();\n                sel.removeAllRanges();\n                sel.addRange(range);\n            }\n        }\n    }\n    private handleTab(){\n        let sel=document.getSelection()\n        let r=sel.getRangeAt(0)\n        r.deleteContents();\n        document.execCommand(\"insertHTML\",false,\"\\t\")\n        r.collapse();\n        //DB.msg(\"tabtext \"+this.getText().length,this.getText())\n    }\n    \n    private handleReturn(){\n        let sel=document.getSelection()\n        let r=sel.getRangeAt(0)\n        let startLineText = r.startContainer.parentElement.innerHTML;\n        let whiteSpace=\"\";\n        let i=0;\n        while(startLineText.charAt(i)<=\" \" && i<startLineText.length){\n            whiteSpace+=startLineText.charAt(i);\n            i++;\n        }\n        r.deleteContents();\n        document.execCommand(\"insertHTML\",false,\"\\r\"+whiteSpace)\n        r.collapse();\n        this.afterSel=this.extractSelection();\n        this.majorEventInput=true;\n        this.handleMajorEventChange()\n        //DB.msg(\"rettext \"+this.getText().length,this.getText())\n    }\n}","\n/// <reference path=\"../../../aaswZing/Zing/zui/refs.ts\"/>\n\nclass HomePage extends Page {\n\tcreatingTeam\n\n\tconstructor(pageState: PageState) {\n\t\tsuper(pageState);\n\n\t\tthis.content = new DivUI([\n\t\t\tnew TextUI(\"Home Page\"),\n\t\t\tnew ButtonUI(\"Create Team\")\n\t\t\t\t.click(() => {\n\t\t\t\t\tthis.creatingTeam = true;\n\t\t\t\t\tthis.notify();\n\t\t\t\t\tTeam.makeNew(\"New Team\", (err, team) => {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tPageManager.PUSHTO(\"team\", { teamKey: team._key });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.creatingTeam = false;\n\t\t\t\t\t\tthis.notify();\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.enable(() => !this.creatingTeam),\n\t\t\tnew DivUI(() => { return this.teamList() }),\n\t\t]);\n\t}\n\n\tprivate teamList(): ZUI[] {\n\t\tlet tKeys: string[] = Team.allTeams();\n\t\tif (tKeys) {\n\t\t\tlet teams: Team[] = <Team[]>Team.cGETm(tKeys);\n\t\t\tif (teams) {\n\t\t\t\treturn teams.map((team) => (new ClickWrapperUI([\n\t\t\t\t\tnew TextUI(team.getTeamName())\n\t\t\t\t]).click(() => {\n\t\t\t\t\tDB.msg(`edit ${team.getTeamName()}`)\n\t\t\t\t\tPageManager.PUSHTO(\"team\", { teamKey: team._key })\n\t\t\t\t}).style(\"team-list-item\")\n\t\t\t\t));\n\t\t\t}\n\t\t}\n\t\treturn [];\n\t}\n\n\tpageName(): string {\n\t\treturn \"home\";\n\t}\n\n}\nPageManager.registerPageFactory(\"home\", (state: PageState) => {\n\treturn new HomePage(state);\n})","\n/// <reference path=\"../../../aaswZing/Zing/zui/refs.ts\"/>\n\nclass TeamPage extends Page {\n\n  constructor(pageState: PageState) {\n    super(pageState);\n    const team = Team.cGET(pageState.teamKey);\n    this.content = new DivUI([\n      new ClickWrapperUI([new TextUI(\"< Back\")])\n        .click(() => {\n          PageManager.BACK();\n        }),\n      new TextUI(\"Manage Team\"),\n      new TextFieldUI()\n        .getF(() => { return team.getTeamName() })\n        .setF((newName) => { team.setTeamName(newName) })\n        .placeHolder(\"Name of the team\"),\n    ]);\n  }\n\n  pageName(): string {\n    return \"team\";\n  }\n\n}\nPageManager.registerPageFactory(\"team\", (state: PageState) => {\n  if (!state.teamKey) {\n    PageManager.PUSHTO(\"home\", { Message: \"Team Id required to create or edit a team.\" });\n  }\n  return new TeamPage(state);\n})","/// <reference path=\"../../aaswZing/Zing/data/clientRefs.ts\"/>\n/// <reference path=\"../models/ZMake.ts\"/>\n/// <reference path=\"../common/AllRightsManager.ts\"/>\n/// <reference path=\"pages/package.ts\"/>\n\nlet httpSource = new HTTPDataSource(window.location.origin + \"/\");\nlet source = new CacheDataSource(httpSource);\n\nDataObj.globalSource = source;\nlet rm: RightsManager = new AllRightsManager(source);\nsource.setRightsManager(rm);\nZUI.pageManager = new PageManager(source,\n  new HomePage({}), \"#content\");","/// <reference path=\"../share/DB.ts\"/>\n/// <reference path=\"./DataObj.ts\"/>\n/// <reference path=\"./DataSource.ts\"/>\n/// <reference path=\"./HTTPDataSource.ts\"/>\n/// <reference path=\"./MemDataSource.ts\"/>\n/// <reference path=\"./CacheDataSource.ts\"/>\n","// these are type declarations use for various parameters and options\n/// <reference path=\"ZUI.ts\"/>\n\ntype KeyString = string;\ntype ZUIVal = DataObj | string | number | boolean | DataObj[] | string[] | number[] | boolean[];\n\ntype Fstring = ()=>string;\ntype StringF = string | Fstring;\ntype StringSetF = (val:string)=>void;\n\ntype Fnumber = ()=>number;\ntype NumberF = number | Fnumber;\ntype NumberSetF = (val:number)=>void;\n\ntype Fboolean = ()=>boolean;\ntype BooleanF = boolean | Fboolean;\ntype BooleanSetF = (val:boolean)=>void;\n\ntype EventF = (event:Event)=>void;\n\ntype FZUI = ()=>ZUI;\ntype ZUIF = ZUI | FZUI;\ntype FZUIList =  ()=>ZUI[];\ntype ZUIListF = ZUI[] | FZUIList;","/// <reference path=\"LineDiff.ts\"/>\n/// <reference path=\"StringDiff.ts\"/>","/// <reference path=\"../data/DataObj.ts\"/>\n/// <reference path=\"ZUI.ts\"/>\n/// <reference path=\"TextUI.ts\"/>\n/// <reference path=\"ButtonUI.ts\"/>\n/// <reference path=\"TextFieldUI.ts\"/>\n/// <reference path=\"TabUI.ts\"/>\n/// <reference path=\"DivUI.ts\"/>\n/// <reference path=\"TypeSwitchUI.ts\"/>\n/// <reference path=\"OpenCloseUI.ts\"/>\n/// <reference path=\"KeyListUI.ts\"/>\n/// <reference path=\"PageManager.ts\"/>\n/// <reference path=\"Messages.ts\"/>\n/// <reference path=\"SelectUI.ts\"/>\n/// <reference path=\"HTMLEditUI.ts\"/>\n/// <reference path=\"ClickWrapperUI.ts\"/>\n/// <reference path=\"BreakUI.ts\"/>\n/// <reference path=\"Modal.ts\"/>\n/// <reference path=\"ObjListUI.ts\"/>\n/// <reference path=\"FileDropTargetUI.ts\"/>\n/// <reference path=\"IconButtonUI.ts\"/>\n/// <reference path=\"ColorPickerUI.ts\"/>\n/// <reference path=\"SliderUI.ts\"/>\n/// <reference path=\"StyleCheckUI.ts\"/>\n/// <reference path=\"DoneIndicatorUI.ts\"/>\n/// <reference path=\"DropDownChoiceUI.ts\"/>\n/// <reference path=\"DateTimeUI.ts\"/>\n/// <reference path=\"DragDropWrapperUI.ts\"/>\n/// <reference path=\"ImageUI.ts\"/>\n/// <reference path=\"ProcessLogUI.ts\"/>\n/// <reference path=\"DataTableUI.ts\"/>\n/// <reference path=\"DataTableRowLabeledUI.ts\"/>\n/// <reference path=\"ChartUI.ts\"/>\n/// <reference path=\"TextEditUI.ts\"/>\n","/// <reference path=\"HomePage.ts\" />\n/// <reference path=\"TeamPage.ts\" />"]}